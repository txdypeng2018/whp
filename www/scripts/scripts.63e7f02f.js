"use strict";!function(){var a=["cfp.hotkeys","md.data.table","ngFileUpload","ngMaterial","ngMessages","ngResource","pea.tree","pea.grid","ui.router","ngAnimate","as.sortable","fixed.table.header","ngWaterfall"];angular.module("pea",a)}(),function(a,b){b.module("ngWaterfall",[]).directive("repeatFinished",function(){return{restrict:"A",require:"^ngWaterfall",link:function(a,c,d,e){e.state||(c[0].style.opacity="0",c[0].style["-moz-opacity"]="0",c[0].style.filter="alpha(opacity=0)"),a.$last===!0&&b.element(c).ready(function(){a.$emit("waterfall:repeatFinished")})}}}).directive("ngInfiniteScroll",["$rootScope",function(a){return{restrict:"AE",replace:!0,link:function(b,c){c[0].style.position="absolute",c[0].style.left=0,a.$on("waterfall:colData",function(a,d){var e=d.sort(function(a,b){return a-b});b.max=e[e.length-1],c[0].style.top=b.max+30+"px"})}}}]).directive("ngWaterfall",["$window","$document","$rootScope","$timeout",function(a,b,c,d){return{restrict:"A",scope:{contentWidth:"@",cols:"@"},controller:["$scope",function(a){var b=this;this.state=!1,a.$on("waterfall:loadMore",function(){b.state=!0})}],link:function(e,f){function g(){var c=i(e.oLiHeight),d=e.oLiHeight[c],f=b[0].documentElement.clientHeight,g=document.documentElement.scrollTop>document.body.scrollTop?document.documentElement.scrollTop:document.body.scrollTop;g+f>=d&&(e.$emit("waterfall:loadMore"),a.onscroll=null)}function h(b){e.wrapWidth=e.contentWidth||f[0].offsetWidth,e.oLiHeight=[];var c,d=f.find("li");c=e.wrapWidth/b;for(var h=0;h<d.length;h++)d[h].style.width=c+"px",d[h].style.opacity="1",d[h].style["-moz-opacity"]="1",d[h].style.filter="alpha(opacity=100)";for(var j=0;b>j;j++){d[j].style.top=0,d[j].style.left=j*c+"px";var k=parseInt(d[j].offsetHeight);e.oLiHeight.push(k)}for(var l=b;l<d.length;l++){var m=i(e.oLiHeight);d[l].style.top=e.oLiHeight[m]+"px",d[l].style.left=c*m+"px",e.oLiHeight[m]=e.oLiHeight[m]+parseInt(d[l].offsetHeight)}e.$emit("waterfall:colData",e.oLiHeight);var n=e.oLiHeight.sort(function(a,b){return a-b}),o=n[n.length-1];f[0].style.height=o+60+"px",a.onscroll=g}function i(a){var b=a[0],c=0;for(var d in a)a[d]<b&&(b=a[d],c=d);return c}e.minCols=e.cols||6,c.$on("waterfall:repeatFinished",function(){d.cancel(),h(e.minCols)}),a.onresize=function(){d.cancel(),d(function(){h(e.minCols)},500)}}}}])}(window,angular),function(a){a.service("components",["$mdToast","$mdDialog","$log",function(a,b,c){this.showToast=function(b){a.show(a.simple().textContent(b).position("top right").hideDelay(3e3))},this.confirm=function(a,c,d,e,f){var g=b.confirm().title(c||"确认操作?").textContent(d||"确认操作请点击"+(e||"确定")+"按钮").ariaLabel("确认提示框").targetEvent(a).ok(e||"确定").cancel(f||"取消");return b.show(g)},this.errCallback=function(a){c.debug(a)}}])}(angular.module("pea")),function(){angular.module("pea").directive("peaDblclick",function(){var a,b=300,c=!1;return{restrict:"A",link:function(d,e,f){e.bind("click",function(){if(c){c=!1;var e=(new Date).getTime();b>e-a&&d.$apply(f.peaDblclick)}else a=(new Date).getTime(),c=!0,setTimeout(function(){c=!1},b)})}}})}();var perGridCtrl=function(a,b,c,d,e,f){var g=function(a,b,c){b.innerWidth<c?a.css("height",document.body.clientHeight-160+"px"):a.css("height",document.body.clientHeight-110+"px")},h=function(a,b,c,d){d(function(){b[0].clientWidth>450?(a.gridParam.pageSelect=!0,a.gridParam.boundaryLinks=!0):b[0].clientWidth>380?(a.gridParam.pageSelect=!0,a.gridParam.boundaryLinks=!1):(a.gridParam.pageSelect=!1,a.gridParam.boundaryLinks=!1)})};if(a.innerParam={},a.gridParam.limit=20,a.gridParam.limitOptions=[10,20,30],a.gridParam.selected=[],a.innerParam.searchBar=!1,a.innerParam.showRowEdit=!1,a.innerParam.isRowEditSubmit=!1,a.gridParam.filter="",a.innerParam.filter={options:{debounce:300}},a.innerParam.gridFiltered=[],a.gridParam.idField=a.gridParam.idField||"id",angular.isUndefined(a.gridParam.isAllDataLoad)&&(a.gridParam.isAllDataLoad=!0),a.gridParam.page=a.gridParam.page||1,angular.isUndefined(a.gridParam.toolbar)&&(a.gridParam.toolbar=!0),angular.isUndefined(a.gridParam.height)?(g(b,c,f),angular.element(c).bind("resize",function(){g(b,c,f)})):b.css("height",a.gridParam.height),angular.isUndefined(a.gridParam.rowSelection)&&(a.gridParam.rowSelection=!0),angular.isUndefined(a.gridParam.multiSelect)&&(a.gridParam.multiSelect=!1),angular.isUndefined(a.gridParam.autoSelect)&&(a.gridParam.autoSelect=!0),angular.isUndefined(a.gridParam.pagination)&&(a.gridParam.pagination=!0),a.gridParam.pagination||(a.gridParam.isAllDataLoad=!0),a.gridParam.order=a.gridParam.order||"",angular.isUndefined(a.gridParam.hasFilter)&&(a.gridParam.hasFilter=!1),angular.isUndefined(a.gridParam.fixedCheckbox)&&(a.gridParam.fixedCheckbox=!1),!a.gridParam.fixedCheckbox&&!angular.isUndefined(a.gridParam.columns))for(var i=0;i<a.gridParam.columns.length;i++)a.gridParam.columns[i].isFixed&&(a.gridParam.fixedCheckbox=!0);a.gridParam.searchData=a.gridParam.searchData||{},a.innerParam.searchData=angular.copy(a.gridParam.searchData),a.gridParam.rowEditData=a.gridParam.rowEditData||{};var j=c.localStorage[a.gridParam.columnCustom],k=[];if(angular.isUndefined(j)||null===j||""===j||(k=j.split(",")),!angular.isUndefined(a.gridParam.columnCustom))for(var l=0;l<a.gridParam.columns.length;l++)k.indexOf(a.gridParam.columns[l].field)>=0&&(a.gridParam.columns[l].isHide=!0);a.gridParam.loadData=function(){var b="",c="";""!==a.gridParam.order&&("-"===a.gridParam.order.substr(0,1)?(b="DESC",c=a.gridParam.order.substr(1,a.gridParam.order.length-1)):(b="ASC",c=a.gridParam.order));var d={isAllDataLoad:a.gridParam.isAllDataLoad,pageNo:a.gridParam.page,pageSize:a.gridParam.limit,orderBy:c,order:b,filter:a.gridParam.filter};if(!angular.isUndefined(a.gridParam.searchData))for(var f in a.gridParam.searchData)d[f]=a.gridParam.searchData[f];angular.isUndefined(a.gridParam.onBeforeLoad)||a.gridParam.onBeforeLoad(d),e.get(a.gridParam.url,{params:d}).success(function(b){a.gridParam.desserts=b,a.gridParam.selected=[]})},a.gridParam.showSearchBar=function(){a.gridParam.hasFilter?a.innerParam.searchBar=!0:a.innerParam.showSearchAdvanced()},a.gridParam.closeSearchBar=function(){a.innerParam.searchBar=!1,setTimeout(function(){a.gridParam.filter=""},300)},a.innerParam.showSearchAdvanced=function(){b[0].querySelector(".search-sheet").style.display="block",b[0].querySelector(".search-backdrop").style.display="block",setTimeout(function(){b[0].querySelector(".search-sheet").style.marginTop="0px"},10),setTimeout(function(){b[0].querySelector(".btn-advanced-search").focus()},300)};var m=function(){b[0].querySelector(".search-sheet").style.marginTop="",setTimeout(function(){b[0].querySelector(".search-sheet").style.display="none",b[0].querySelector(".search-backdrop").style.display="none"},300)};if(a.innerParam.closeSearchAdvanced=function(){a.gridParam.searchData=angular.copy(a.innerParam.searchData),m()},a.innerParam.querySearchAdvanced=function(){a.gridParam.page=1,a.innerParam.searchData=angular.copy(a.gridParam.searchData),a.gridParam.loadData(),m()},a.innerParam.resetSearchAdvanced=function(){a.gridParam.searchData={},a.innerParam.searchData={},a.gridParam.page=1,a.gridParam.loadData(),m()},angular.element(document).bind("keydown",function(c){if(27===c.keyCode){var d=b[0].querySelector(".search-sheet").style.display;angular.isUndefined(d)||""===d||"none"===d?(a.gridParam.selected=[],a.$apply(a.gridParam.selected)):a.innerParam.closeSearchAdvanced()}}),a.gridParam.disableRowEditSubmit=function(b){a.innerParam.isRowEditSubmit=b},a.gridParam.showRowEdit=function(){a.gridParam.rowEditData={},a.gridParam.disableRowEditSubmit(!1),a.innerParam.showRowEdit=!0},a.gridParam.closeRowEdit=function(){a.innerParam.showRowEdit=!1},a.gridParam.rowEditFrom=function(){return a.gridForm},a.innerParam.orderBy=function(b){return a.gridParam.isAllDataLoad?b.order:""},a.innerParam.limitTo=function(b){return a.gridParam.isAllDataLoad&&a.gridParam.pagination?b.limit:""},a.innerParam.limitToBegin=function(b){return a.gridParam.isAllDataLoad&&a.gridParam.pagination?(b.page-1)*b.limit:""},a.innerParam.getFilter=function(b){return a.gridParam.isAllDataLoad?b.filter:""},a.innerParam.getTotal=function(){return a.gridParam.isAllDataLoad?a.innerParam.gridFiltered?a.innerParam.gridFiltered.length:0:a.gridParam.desserts?a.gridParam.desserts.count:0},a.innerParam.columnCustomChecked=function(a){return k.indexOf(a)<0},a.innerParam.columnCustomClick=function(b,d){k.indexOf(d)>=0?k.splice(k.indexOf(d),1):k.push(d);for(var e=0;e<a.gridParam.columns.length;e++)a.gridParam.columns[e].isHide=k.indexOf(a.gridParam.columns[e].field)>=0;c.localStorage[b]=k.join(",")},angular.isUndefined(a.gridParam.url)||a.gridParam.loadData(),h(a,b,c,d),angular.element(c).bind("resize",function(){setTimeout(function(){h(a,b,c,d)},300)}),!angular.isUndefined(a.gridParam.operations)){for(var n={unSelected:[],singleSelected:[],multipleSelected:[]},o=0;o<a.gridParam.operations.length;o++){var p=a.gridParam.operations[o];angular.isUndefined(p.display)&&(p.display=["unSelected"]);for(var q=0;q<p.display.length;q++)"unSelected"===p.display[q]?n.unSelected.push(p):"singleSelected"===p.display[q]?n.singleSelected.push(p):"multipleSelected"===p.display[q]&&n.multipleSelected.push(p)}a.gridParam.btns=n}a.gridParam.isAllDataLoad||(a.gridParam.onPaginate=function(){a.gridParam.loadData()},a.gridParam.onReorder=function(){a.gridParam.loadData()}),a.$watch("gridParam.filter",function(){a.gridParam.page=1,a.gridParam.isAllDataLoad||a.gridParam.loadData()});var r=angular.element(b[0].querySelector("md-table-container"));r.on("scroll",function(){angular.element(b[0].querySelector(".pea-tbody-total")).css("transform","translate3d("+-r.prop("scrollLeft")+"px, 0, 0)"),angular.element(b[0].querySelectorAll(".fixed-column")).css("transform","translate3d("+r.prop("scrollLeft")+"px, 0, 0)"),a.gridParam.fixedCheckbox&&(angular.element(b[0].querySelectorAll(".md-checkbox-cell")).css("transform","translate3d("+r.prop("scrollLeft")+"px, 0, 0)"),angular.element(b[0].querySelectorAll(".md-checkbox-column")).css("transform","translate3d("+r.prop("scrollLeft")+"px, 0, 0)"))})};perGridCtrl.$inject=["$scope","$element","$window","$timeout","$http","screenSizeSm"],angular.module("pea.grid",[]).directive("peaGrid",function(){return{restrict:"E",replace:!0,scope:{gridParam:"=gridParam"},templateUrl:"app/components/grid/pea-grid.html",controller:perGridCtrl}}),angular.module("pea.tree.tpls",[]).run(["$templateCache",function(a){a.put("tree/template/main.html",'<li>\n  <span ng-click="treeOptions.onSwitchClick(node);">    <md-icon md-font-icon="material-icons">{{ node.loading ?                                                "autorenew" :                                                !node.children&&!node.hasChildren ?                                                  "keyboard_arrow_right" :                                                  (node.children||node.hasChildren)&&node.open ?                                                    "remove" :                                                    "add"}}    </md-icon>\n  </span>\n  <a ng-click="treeOptions.onNodeClick(node)">\n    <md-icon md-font-icon="material-icons">{{ (node.children||node.hasChildren)&&node.open ?                                                  "folder_open" :                                                  (node.children||node.hasChildren)&&!node.open ?                                                    "folder" :                                                    "insert_drive_file"}}    </md-icon>\n    <span ng-bind="node.name"></span>\n  </a>\n  <ul ng-include="\'tree/template/main.html\'" ng-repeat="node in node.children | filter:{visible:true}"></ul>\n</li>\n'),a.put("tree/template/tpl.html",'<div class="peaTree">\n  <ul ng-include="\'tree/template/main.html\'" ng-repeat="node in treeOptions.treeModel | filter:{visible:true}"></ul>\n</div>\n')}]),angular.module("pea.tree",["pea.tree.tpls"]),angular.module("pea.tree").directive("peaTree",function(){return{restrict:"E",templateUrl:"tree/template/tpl.html",replace:!0,link:function(a){var b=a.treeOptions||{},c=b.treeModel=[],d=b.treeMap=[],e=function(a){angular.forEach(a.children,function(b){b.visible=a.visible&&a.open,e(b)})},f=function(a){angular.forEach(a,function(a){d[a.id]=a}),angular.forEach(a,function(a){var b=d[a.pId];b?(b.children=b.children||[],b.children.push(a),a.parent=b):(a.visible=!0,c.push(a))}),angular.forEach(c,function(a){a.open&&e(a)})};!b.nodes&&b.async?b.async().then(function(a){f(a)}):f(b.nodes);var g=function(a,b){a.children=a.children||[],angular.forEach(b,function(b){b.parent=a,a.children.push(b),b.visible=a.visible&&a.open,d[b.id]=b})},h=function(a){return a.loading=!0,a.children=[],b.async(a).then(function(b){g(a,b)}).then(function(){a.loading=!1})},i=function(a){a.open?b.onCollapse&&b.onCollapse(a):b.onExpand&&b.onExpand(a),a.open=!a.open,e(a)};b.onSwitchClick=function(a){(a.children||a.hasChildren)&&(!b.async||a.open||a.children?i(a):h(a).then(function(){i(a)}))},b.onNodeClick=function(a){b.onClick&&b.onClick(a)},b.refreshById=function(a){var b=d[a];h(b).then(function(){e(b)})}}}}),function(a){a.config(["$mdThemingProvider",function(a){var b=function(a){return{50:a,100:a,200:a,300:a,400:a,500:a,600:a,700:a,800:a,900:a,A100:a,A200:a,A400:a,A700:a,contrastDefaultColor:"light"}};a.definePalette("peaBlue",b("039BE5")),a.definePalette("peaGreen",b("00C853")),a.definePalette("peaYellow",b("FF9800")),a.alwaysWatchTheme(!0),a.theme("skin-blue-light").primaryPalette("peaBlue").accentPalette("pink"),a.theme("skin-blue-dark").primaryPalette("peaBlue").accentPalette("pink"),a.theme("skin-green-light").primaryPalette("peaGreen").accentPalette("pink"),a.theme("skin-green-dark").primaryPalette("peaGreen").accentPalette("pink"),a.theme("skin-yellow-light").primaryPalette("peaYellow").accentPalette("blue"),a.theme("skin-yellow-dark").primaryPalette("peaYellow").accentPalette("blue"),a.setDefaultTheme("skin-blue-light")}]),a.config(["$urlRouterProvider",function(a){a.otherwise("/auth/login")}]);var b=function(a){var b=!0;return a.endsWith(".html")&&(b=!1),a.endsWith(".svg")&&!a.startsWith("/")&&(b=!1),b},c="./api";a.factory("authInterceptor",["$q","$window","$rootScope",function(a,d,e){return{request:function(a){return e.inProcess=!0,a.headers=a.headers||{},d.localStorage.token&&(a.headers.Authorization="Bearer "+d.localStorage.token),b(a.url)&&(a.url=c+a.url),a},requestError:function(b){return e.inProcess=!1,console.debug("requestError %o",b),a.reject(b)},response:function(b){return e.inProcess=!1,401===b.status&&console.debug("handle the case where the user is not authenticated"),b||a.when(b)},responseError:function(b){return e.inProcess=!1,console.debug("responseError %o",b),a.reject(b)}}}]),a.run(["$rootScope","$location","appConstants",function(a,b,c){a.location=b,a.$watch("location.url()",function(a){var b=b||[];b.push(["setDocumentTitle",document.domain+"/"+document.title]),b.push(["setDomains",["*."+c.piwikTrackTarget]]),b.push(["trackPageView"]),b.push(["enableLinkTracking"]);var d=Piwik.getTracker("//"+c.piwikServer+"/piwik.php",2);d.setCustomUrl(a),d.trackPageView()})}]),a.config(["$httpProvider",function(a){a.interceptors.push("authInterceptor")}])}(angular.module("pea")),function(a){a.constant("appConstants",{piwikServer:"server.propersoft.cn:8082",piwikTrackTarget:"server.propersoft.cn/pea"})}(angular.module("pea")),function(a){a.directive("autoFocus",["$timeout",function(a){return{restrict:"AC",compile:function(){return function(b,c,d){var e=void 0!==d.focusFirstChild;a(function(){if(e){var a=c.find("input");a&&a.length>0&&a[0].focus()}else c[0].focus()},100)}}}}])}(angular.module("pea")),function(a){a.directive("defaultHotkeys",["hotkeys",function(a){return{link:function(b){var c=a.bindTo(b);b.clickEnter&&c.add({combo:"enter",allowIn:["INPUT"],callback:b.clickEnter}),b.clickESC&&c.add({combo:"esc",allowIn:["INPUT"],callback:b.clickESC}),b.focusQS&&c.add("s","模糊搜索",b.focusQS),b.createItem&&c.add("f a","创建",b.createItem),b.editItem&&c.add("f e","编辑",b.editItem),b.delItem&&c.add("f d","删除",b.delItem),b.hotkeys&&angular.forEach(b.hotkeys,function(a){c.add({combo:a.combo,description:a.description?a.description:"",callback:a.callback})})}}}])}(angular.module("pea")),function(a){a.directive("eChart",function(){return{restrict:"A",link:function(a,b,c){var d=echarts.init(b[0]);a.$watch(c.eData,function(){var b=a.$eval(c.eData);angular.isObject(b)&&setInterval(function(){d.setOption(b)},1500)},!0),a.getDom=function(){return{height:b[0].offsetHeight,width:b[0].offsetWidth}},a.$watch(a.getDom,function(){d.resize()},!0)}}})}(angular.module("pea")),function(a){var b={};b.tpls={list2Cols:"app/templates/list-2-cols.html",treeGrid:"app/templates/tree-grid.html"},a.constant("PEA",b)}(angular.module("pea")),function(a){a.directive("list2cols",["$timeout",function(a){return{link:function(b){b.clickEnter=b.clickEnter||function(){var a=document.activeElement.id;"qs"===a&&b.qsQuery()},b.clickESC=b.clickESC||function(){var a=document.getElementById("qs");a&&a.blur()},b.focusQS=b.focusQS||function(){a(function(){document.getElementById("qs").focus()},100)},b.showMenus=b.showMenus||function(){b.isMenusOpen=!b.isMenusOpen},b.resetList=b.resetList||function(){document.getElementById("qs").value||b.qsQuery()}}}}])}(angular.module("pea")),function(a){a.directive("treeGrid",function(){return{link:function(a){a.gridOptions=a.gridOptions||{},a.gridOptions.selected=a.gridOptions.selected||[],a.gridOptions.query=a.gridOptions.query||{},a.gridOptions.query.page=a.gridOptions.query.page||1,a.gridOptions.query.limit=a.gridOptions.query.limit||10,a.gridOptions.createable=void 0===a.gridOptions.createable?!0:a.gridOptions.createable,a.gridOptions.filterable=void 0===a.gridOptions.filterable?!0:a.gridOptions.filterable,a.gridOptions.editable=void 0===a.gridOptions.editable?!0:a.gridOptions.editable,a.gridOptions.deleteable=void 0===a.gridOptions.deleteable?!0:a.gridOptions.deleteable;var b=function(a){console.debug("need to implement this method. %o",a)};a.gridOptions.addItem=a.gridOptions.addItem||b,a.gridOptions.editItem=a.gridOptions.editItem||b,a.gridOptions.delItem=a.gridOptions.delItem||b,a.gridOptions.onReorder=a.gridOptions.onReorder||b,a.gridOptions.onPaginate=a.gridOptions.onPaginate||b}}})}(angular.module("pea")),function(a){var b=function(a,b,c,d,e,f){a.login=function(){a.logging=!0,b.post("/auth/login",a.user).then(function(b){a.logging=!1,a.loginErr=!1,e.localStorage.token=b.data,d.url("/")},function(b){f.debug(b),a.logging=!1,a.loginErr=!0,a.user={},document.getElementById("uname").focus(),delete e.localStorage.token})}};b.$inject=["$scope","$http","$document","$location","$window","$log"];var c=function(a){a.state("login",{url:"/auth/login",templateUrl:"modules/auth/login/login.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("pea")),function(a){var b=function(a,b,c,d,e){a.opStatus=[],a.opStatus.push({code:"",name:"全部"}),b.get("/dataBase/feedbackTypes").success(function(b){for(var c=0;c<b.length;c++)a.opStatus.push(b[c])}).error(function(a){d.show(d.simple().textContent(a))});var f=function(){e.go("main.feedbackViewOperation")},g=function(){a.gridParam.showSearchBar()},h=function(e){c.show({controller:["$scope",function(a){b.get("/dataBase/feedbackTypes").success(function(b){a.thefeedbackTypes=b;for(var c=0;c<b.length;c++)"1"===b[c].code&&(a.selectedfeedbackType={code:b[c].code,name:b[c].name})}),b.get("/service/userOpinion/"+e[0].id).success(function(b){a.opinion=b}),a.isSubmit=!1,a.cancel=function(){c.cancel()},a.submit=function(){a.opinion.statusCode=a.selectedfeedbackType.code,a.opinionForm.$valid&&"1"===a.selectedfeedbackType.code?(a.isSubmit=!0,b.put("/service/feedbackOpinion",a.opinion).success(function(b){angular.isUndefined(b.errMsg)?c.hide():(a.isSubmit=!1,d.show(d.simple().textContent(b.errMsg)))})):"0"===a.selectedfeedbackType.code?d.show(d.simple().textContent("选择为未反馈，无法提交!")):"2"===a.selectedfeedbackType.code&&(a.isSubmit=!0,b.put("/service/feedbackOpinion",a.opinion).success(function(){c.hide()}))}}],templateUrl:"modules/feedback/operationDialog.html",parent:angular.element(document.body),fullscreen:!0}).then(function(){a.gridParam.loadData()})},i=function(a){var b=[a];h(b)};a.gridParam={columns:[{field:"userName",title:"姓名",width:100},{field:"userTel",title:"手机号",width:120},{field:"opinion",title:"用户意见",width:700},{field:"statusCode",title:"反馈状态",width:100,formatter:function(b){for(var c=0;c<a.opStatus.length;c++)if(""!==b&&a.opStatus[c].code===b)return a.opStatus[c].name},styler:function(a){return"0"===a?"red":"1"===a||"2"===a?"green":void 0}}],url:"/service/feedbackOpinion",operations:[{text:"切换",click:f,iconClass:"view_module",display:["unSelected","singleSelected","multipleSelected"]},{text:"查询",click:g,iconClass:"search_black",display:["unSelected","singleSelected","multipleSelected"]},{text:"编辑",click:h,iconClass:"edit_black",display:["singleSelected"]}],title:"意见反馈信息",isAllDataLoad:!1,searchTemplate:"modules/feedback/operationSearch.html",searchInitData:{statusCode:a.opStatus},dblClick:i}};b.$inject=["$scope","$http","$mdDialog","$mdToast","$state"];var c=function(a){a.state("main.feedbackGridOperation",{url:"^/feedback/operation",templateUrl:"modules/feedback/operation.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("pea")),function(a){var b=function(a,b,c,d,e,f){a.gotoList=function(){e.go("main.feedbackGridOperation")},a.opStatus=[],a.opStatus.push({code:"",name:"全部"}),b.get("/dataBase/feedbackTypes").success(function(b){for(var c=0;c<b.length;c++)a.opStatus.push(b[c])}).error(function(a){d.show(d.simple().textContent(a))}),a.gotoDialog=function(a){c.show({controller:["$scope",function(e){b.get("/dataBase/feedbackTypes").success(function(a){e.thefeedbackTypes=a;for(var b=0;b<a.length;b++)"1"===a[b].code&&(e.selectedfeedbackType={code:a[b].code,name:a[b].name})});var f=[];b.get("/msc/service_user_opinion",{params:{query:'{userId:"'+a+'"}'}}).success(function(a){for(var b=0;b<a.length;b++)f.push(JSON.parse(a[b]));e.opinion=f[0]}),e.isSubmit=!1,e.cancel=function(){c.cancel()},e.submit=function(){e.opinion.statusCode=e.selectedfeedbackType.code,e.opinionForm.$valid&&"1"===e.selectedfeedbackType.code?(e.isSubmit=!0,b.put("/service/feedbackOpinion",e.opinion).success(function(a){angular.isUndefined(a.errMsg)?c.hide():(e.isSubmit=!1,d.show(d.simple().textContent(a.errMsg)))})):"0"===e.selectedfeedbackType.code?d.show(d.simple().textContent("选择为未反馈，无法提交!")):"2"===e.selectedfeedbackType.code&&(e.isSubmit=!0,b.put("/service/feedbackOpinion",e.opinion).success(function(){c.hide()}))}}],templateUrl:"modules/feedback/operationDialog.html",parent:angular.element(document.body),fullscreen:!0})},a.feedBackDatasAll=[];var g=1,h=20,i=0,j=[];b.get("/msc/service_user_opinion",{params:{query:"{}",sort:"{opinionTime:-1}"}}).success(function(b){for(var c=0;c<b.length;c++)j.push(JSON.parse(b[c]));i=j.length/h,a.results=j.slice(0,g*h);for(var d=0;d<a.results.length;d++)a.feedBackDatasAll.push(a.results[d])}),a.text="点击加载",a.loadMore=!0,a.loadMoreData=function(){a.text="加载中，请稍后···",f(function(){i>g?(g++,b.get("/msc/service_user_opinion",{params:{query:"{}",sort:"{opinionTime:-1}"}}).success(function(b){for(var c=b.slice((g-1)*h,g*h),d=[],e=0;e<c.length;e++)d.push(JSON.parse(c[e]));for(var f=0;f<d.length;f++)a.feedBackDatasAll.push(d[f])}),a.text="点击加载更多"):a.text="全部数据加载完成"},1500)},a.$on("waterfall:loadMore",function(){a.loadMoreData()})};b.$inject=["$scope","$http","$mdDialog","$mdToast","$state","$timeout"];var c=function(a){a.state("main.feedbackViewOperation",{url:"^/feedback/operationView",templateUrl:"modules/feedback/operationView.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("pea")),function(a){var b=function(a,b,c,d){var e="";a.district=[],a.districtCodes=[],a.district.push({id:"",name:"全部"}),b.get("/organization/districts").success(function(b){for(var c=0;c<b.length;c++)a.district.push(b[c]),a.districtCodes.push(b[c])}).error(function(a){d.show(d.simple().textContent(a))});var f=a.districtCodes,g=function(){a.gridParamType.showSearchBar()},h=function(){a.gridParamItem.showSearchBar()},i=function(){c.show({controller:["$scope",function(a){a.isSubmit=!1,a.districts=f,a.showDis=!0,a.build={},a.build.districtCode=f[0].id,a.cancel=function(){c.cancel()},a.submit=function(){a.buildForm.$valid&&(a.isSubmit=!0,b.post("/hospitalNavigation/build",a.build).success(function(b){angular.isUndefined(b.errMsg)?c.hide():(a.isSubmit=!1,d.show(d.simple().textContent(b.errMsg)))}))}}],templateUrl:"modules/hospitalNavigation/build/leftDialog.html",parent:angular.element(document.body),fullscreen:!0}).then(function(){a.gridParamType.loadData()})},j=function(){""===e?d.show(d.simple().textContent("请选择院区与楼宇!")):c.show({controller:["$scope",function(a){a.isSubmit=!1,a.showFloor=!1,a.floor={},a.floor.floorParentId=e,a.cancel=function(){c.cancel()},a.submit=function(){a.floorForm.$valid&&(a.isSubmit=!0,b.post("/hospitalNavigation/floor",a.floor).success(function(b){angular.isUndefined(b.errMsg)?c.hide():(a.isSubmit=!1,d.show(d.simple().textContent(b.errMsg)))}))}}],templateUrl:"modules/hospitalNavigation/build/rightDialog.html",parent:angular.element(document.body),fullscreen:!0}).then(function(){a.gridParamType.loadData()})},k=function(e){c.show({controller:["$scope",function(a){b.get("/hospitalNavigation/build/"+e[0].buildingCode).success(function(b){a.build=b}),a.isSubmit=!1,a.showDis=!1,a.districts=f,a.cancel=function(){c.cancel()},a.submit=function(){a.buildForm.$valid&&(a.isSubmit=!0,b.put("/hospitalNavigation/build",a.build).success(function(b){angular.isUndefined(b.errMsg)?c.hide():(a.isSubmit=!1,d.show(d.simple().textContent(b.errMsg)))}))}}],templateUrl:"modules/hospitalNavigation/build/leftDialog.html",parent:angular.element(document.body),fullscreen:!0}).then(function(){a.gridParamItem.loadData()})},l=function(e){c.show({controller:["$scope",function(a){b.get("/hospitalNavigation/floor/"+e[0].floorId).success(function(b){a.floor=b}),a.isSubmit=!1,a.cancel=function(){c.cancel()},a.submit=function(){a.floorForm.$valid&&(a.isSubmit=!0,b.put("/hospitalNavigation/floor",a.floor).success(function(b){angular.isUndefined(b.errMsg)?c.hide():(a.isSubmit=!1,d.show(d.simple().textContent(b.errMsg)))}))}}],templateUrl:"modules/hospitalNavigation/build/rightDialog.html",parent:angular.element(document.body),fullscreen:!0}).then(function(){a.gridParamItem.loadData()})},m=function(e){c.show(c.confirm().title("确定删除选中的记录？").ok("确定").cancel("取消")).then(function(){var c=[];for(var f in e)c.push(e[f].id);b["delete"]("/hospitalNavigation/build",{params:{ids:c.join(",")}}).success(function(b){angular.isUndefined(b.errMsg)?a.gridParamType.loadData():d.show(d.simple().textContent(b.errMsg))})})},n=function(e){c.show(c.confirm().title("确定删除选中的记录？").ok("确定").cancel("取消")).then(function(){var c=[];for(var f in e)c.push(e[f].fid),c.push(e[f].did);b["delete"]("/hospitalNavigation/floor",{params:{ids:c.join(",")}}).success(function(b){angular.isUndefined(b.errMsg)?a.gridParamType.loadData():d.show(d.simple().textContent(b.errMsg))})})};a.gridParamType={columns:[{field:"districtCode",title:"院区",width:120,formatter:function(b){for(var c=0;c<a.district.length;c++)if(""!==b&&a.district[c].id===b)return a.district[c].name}},{field:"buildingName",title:"楼宇名称",width:150}],url:"/hospitalNavigation/build",operations:[{text:"查询",click:g,iconClass:"search_black",display:["unSelected"]},{text:"新增",click:i,iconClass:"add_black",display:["unSelected"]},{text:"编辑",click:k,iconClass:"edit_black",display:["singleSelected"]},{text:"删除",click:m,iconClass:"delete_black",display:["singleSelected","multipleSelected"]}],title:"楼宇信息",searchTemplate:"modules/hospitalNavigation/build/leftSearch.html",searchInitData:{districtCode:a.district},multiSelect:!1,onSelect:function(){a.gridParamItem.loadData()},onDeselect:function(){e="",a.gridParamItem.loadData()}},a.gridParamItem={columns:[{field:"floorName",title:"楼层名称",width:100},{field:"deptName",title:"科室名称",width:800}],url:"/hospitalNavigation/floor",operations:[{text:"查询",click:h,iconClass:"search_black",display:["unSelected"]},{text:"新增",click:j,iconClass:"add_black",display:["unSelected"]},{text:"编辑",click:l,iconClass:"edit_black",display:["singleSelected"]},{text:"删除",click:n,iconClass:"delete_black",display:["singleSelected","multipleSelected"]}],title:"楼层科室信息",searchTemplate:"modules/hospitalNavigation/build/rightSearch.html",multiSelect:!1,onBeforeLoad:function(b){1===a.gridParamType.selected.length&&(b.floorParentId=a.gridParamType.selected[0].buildingCode,(void 0===b.deptName||""===b.deptName)&&(b.deptName=""),e=a.gridParamType.selected[0].buildingCode)}}};b.$inject=["$scope","$http","$mdDialog","$mdToast"];var c=function(a){a.state("main.buildGridLayoutLr",{url:"^/hospitalnavigation/build",templateUrl:"modules/hospitalNavigation/build/build.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("pea")),function(a){var b=function(a,b,c,d){var e=function(){a.gridParam.showSearchBar()},f=function(){c.show({controller:["$scope",function(a){a.isSubmit=!1,a.cancel=function(){c.cancel()},a.submit=function(){a.districtForm.$valid&&(a.isSubmit=!0,b.post("/hospitalnavigation/district",a.district).success(function(b){angular.isUndefined(b.errMsg)?c.hide():(a.isSubmit=!1,d.show(d.simple().textContent(b.errMsg)))}))}}],templateUrl:"modules/hospitalnavigation/district/districtDialog.html",parent:angular.element(document.body),fullscreen:!0}).then(function(){a.gridParam.loadData()})},g=function(e){c.show({controller:["$scope",function(a){b.get("/hospitalnavigation/district/"+e[0].id).success(function(b){a.district=b}),a.isSubmit=!1,a.cancel=function(){c.cancel()},a.submit=function(){a.districtForm.$valid&&(a.isSubmit=!0,b.put("/hospitalnavigation/district",a.district).success(function(b){angular.isUndefined(b.errMsg)?c.hide():(a.isSubmit=!1,d.show(d.simple().textContent(b.errMsg)))}))}}],templateUrl:"modules/hospitalnavigation/district/districtDialog.html",parent:angular.element(document.body),fullscreen:!0}).then(function(){a.gridParam.loadData()})},h=function(e){c.show(c.confirm().title("确定删除选中的记录？").ok("确定").cancel("取消")).then(function(){var c=[];for(var f in e)c.push(e[f].id);b["delete"]("/hospitalnavigation/district",{params:{ids:c.join(",")}}).success(function(b){angular.isUndefined(b.errMsg)?a.gridParam.loadData():d.show(d.simple().textContent(b.errMsg))})})};a.gridParam={columns:[{field:"navId",title:"院区ID",width:140},{field:"navName",title:"院区名称",width:300}],url:"/hospitalnavigation/district",operations:[{text:"查询",click:e,iconClass:"search_black",display:["unSelected"]},{text:"新增",click:f,iconClass:"add_black",display:["unSelected"]},{text:"编辑",click:g,iconClass:"edit_black",display:["singleSelected"]},{text:"删除",click:h,iconClass:"delete_black",display:["singleSelected","multipleSelected"]}],title:"院区信息",multiSelect:!0,isAllDataLoad:!1,searchTemplate:"modules/hospitalnavigation/district/districtSearch.html",searchInitData:{statusCode:a.opStatus}}};b.$inject=["$scope","$http","$mdDialog","$mdToast"];var c=function(a){a.state("main.districtGridOperation",{url:"^/hospitalnavigation/district",templateUrl:"modules/hospitalnavigation/district/district.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("pea")),function(a){var b=function(a){a("menu").toggle()},c=function(a,b,c){b.get("/auth/resources").success(function(b){a.resources=b}),a.clickMenu=function(a){c.hide(a)}},d=function(a,b,d){a.show({controller:c,templateUrl:"modules/main/quick-search.html",clickOutsideToClose:!1}).then(function(a){b.title=a.name,d.url(a.url)})},e=function(a,b,c){delete b.localStorage.token,c.go("login")},f=function(a,c,f,g,h,i,j,k,l){a.title="",a.toggleSidenav=function(){b(c)},a.openQuickSearch=function(){d(i,a,g)},a.logout=function(){e(h,k,j)},l.bindTo(a).add("a","显示/隐藏账户侧栏",a.toggleSidenav).add("q","快速导航",a.openQuickSearch).add("g g","退出登录",a.logout);
};f.$inject=["$scope","$mdSidenav","$timeout","$location","$document","$mdDialog","$state","$window","hotkeys"];var g=function(a){a.state("mainold",{url:"/mainold",templateUrl:"modules/main/main.html",controller:f})};g.$inject=["$stateProvider"],a.config(g)}(angular.module("pea")),function(a){var b=function(a,b,c){var d=[{id:1,pId:0,name:"父节点1 - 展开",open:!0,state:"main.resourcesList"},{id:11,pId:1,name:"父节点11 - 折叠"},{id:111,pId:11,name:"叶子节点111"},{id:112,pId:11,name:"叶子节点112"},{id:113,pId:11,name:"叶子节点113"},{id:114,pId:11,name:"叶子节点114"},{id:12,pId:1,name:"父节点12 - 折叠"},{id:121,pId:12,name:"叶子节点121"},{id:122,pId:12,name:"叶子节点122"},{id:123,pId:12,name:"叶子节点123"},{id:124,pId:12,name:"叶子节点124"},{id:13,pId:1,name:"父节点13 - 没有子节点",hasChildren:!0},{id:2,pId:0,name:"父节点2 - 折叠"},{id:21,pId:2,name:"父节点21 - 展开",open:!0},{id:211,pId:21,name:"叶子节点211"},{id:212,pId:21,name:"叶子节点212"},{id:213,pId:21,name:"叶子节点213"},{id:214,pId:21,name:"叶子节点214"},{id:22,pId:2,name:"父节点22 - 折叠"},{id:221,pId:22,name:"叶子节点221"},{id:222,pId:22,name:"叶子节点222"},{id:223,pId:22,name:"叶子节点223"},{id:224,pId:22,name:"叶子节点224"},{id:23,pId:2,name:"父节点23 - 折叠"},{id:231,pId:23,name:"叶子节点231"},{id:232,pId:23,name:"叶子节点232"},{id:233,pId:23,name:"叶子节点233"},{id:234,pId:23,name:"叶子节点234"},{id:3,pId:0,name:"父节点3 - 没有子节点",hasChildren:!0},{id:4,pId:0,name:"infinite node",hasChildren:!0},{id:5,pId:0,name:"iframe node"},{id:51,pId:5,name:"iframe node 1",url:"http://localhost:8081"},{id:52,pId:5,name:"iframe node 2",url:"http://localhost:8082"}];a.treeOptions={nodes:d,onExpand:function(a){if(console.debug("on expand"),a.name.indexOf("infinite node")>-1&&!a.children){var b=[{id:1*a.id+100,pId:a.id,name:"infinite node",hasChildren:!0},{id:2*a.id+100,pId:a.id,name:"infinite node",hasChildren:!0},{id:3*a.id+100,pId:a.id,name:"infinite node",hasChildren:!0}];a.children=[],angular.forEach(b,function(b){b.parent=a,a.children.push(b)})}},onCollapse:function(a){console.debug("on collapse %o",a)},onClick:function(a){console.debug("on click node %o",a),a.state?b.go(a.state):a.url&&c.url("/playground/iframe?url="+a.url)}}};b.$inject=["$scope","$state","$location"],a.controller("sidenavCtrl",b)}(angular.module("pea")),function(a){var b=function(a,b,c){delete b.localStorage.token,c.go("login")},c=function(a,c,d,e,f,g,h,i,j,k){var l=43,m=32;a.isSidebarDisplayMini=!1,a.isSidebarDisplayOpen=!1,a.searchStrOptions={debounce:300},a.skins=[{text:"蓝灰色",primary:"blue",light:!0},{text:"绿灰色",primary:"green",light:!0},{text:"黄灰色",primary:"yellow",light:!0},{text:"蓝黑色",primary:"blue",light:!1},{text:"绿黑色",primary:"green",light:!1},{text:"黄黑色",primary:"yellow",light:!1}],a.getSkinId=function(a){return a.primary+"-"+(a.light?"light":"dark")},a.mainSkin=f.localStorage.mainSkin||"skin-blue-light",c.peaMaterialTheme=a.mainSkin,a.setSkin=function(b){a.mainSkin="skin-"+a.getSkinId(b),f.localStorage.mainSkin=a.mainSkin,c.peaMaterialTheme=a.mainSkin},a.resourceNavShow=!1,a.menuSearchStr="",a.resnav={resourceall:[],searchStr:"",cardShow:{},moduleSelected:{},typeContentHeight:{}},h.get("/main/resources").success(function(b){a.resources=b});var n=f.localStorage.isSidebarDisplayMini;null===n&&angular.isUndefined(n)||"true"===n&&(a.isSidebarDisplayMini=!0);var o=function(a){for(var b=0,c=0;c<a.childNodes.length;c++){var d=a.childNodes[c];"LI"===d.nodeName&&b++}return b},p=function(a){for(var b=0;b<a.length;b++){var c=a[b];if(angular.element(c).hasClass("active")){angular.element(c).removeClass("active");for(var d=0;d<c.childNodes.length;d++){var e=c.childNodes[d];"UL"===e.nodeName&&q(e,m)}}}},q=function(a){a.style.height=a.offsetHeight+"px",setTimeout(function(){a.style.height="0px"},10)},r=function(b){var c=b.currentTarget.parentNode,d=b.currentTarget.parentNode.getElementsByTagName("ul")[0];angular.element(c).hasClass("active")?(angular.element(c).removeClass("active"),q(d,m)):(p(c.parentNode.getElementsByTagName("li")),(f.innerWidth<k||f.innerWidth>=k&&!a.isSidebarDisplayMini||f.innerWidth>=k&&a.isSidebarDisplayMini&&!angular.element(c).hasClass("treeview"))&&(angular.element(c).addClass("active"),d.style.height=o(d)*m+"px",setTimeout(function(){angular.element(c).hasClass("active")&&(d.style.height="auto")},300)))},s=function(a){i.url(a)},t=function(a,b){for(var c=!1,d=0;d<a.length;d++){var e=a[d],f=!1;"0"===e.isLeaf&&(f=t(e.treeMenu,b)),!f&&e.name.indexOf(b)<0?e.isSearch="0":(c=!0,delete e.isSearch)}return c},u=function(a){for(var b=0;b<a.length;b++){var c=a[b];"0"===c.isLeaf&&u(c.treeMenu),delete c.isSearch}},v=function(a){var b={};return b.code=a.code,b.name=a.name,b.level=2,b.isLeaf="1",b.icon=a.icon,b.url=a.url,b.orderNum=a.orderNum,b},w=function(b,c){for(var d=!1,e={},f={},g=0;g<a.resources.length;g++){var h=a.resources[g];if(c.code===h.code){d=!0;for(var i=0;i<b.length;i++){for(var j=!1,k=0;k<h.treeMenu.length;k++)if(b[i].code===h.treeMenu[k].code){j=!0;break}j||(f=v(b[i]),h.treeMenu.push(f))}h.treeMenu.sort(function(a,b){return a.orderNum-b.orderNum});break}}if(!d){e={},e.code=c.code,e.name=c.name,e.level=1,e.isLeaf="0",e.icon=c.icon,e.treeMenu=[];for(var l=0;l<b.length;l++)f=v(b[l]),e.treeMenu.push(f);a.resources.push(e)}},x=function(b,c){for(var d=a.resources.length-1;d>=0;d--){var e=a.resources[d];if(e.code===c.code&&null!==e.treeMenu&&!angular.isUndefined(e.treeMenu)){for(var f=e.treeMenu.length-1;f>=0;f--){for(var g=!1,h=0;h<b.length;h++)if(e.treeMenu[f].code===b[h].code){g=!0;break}g&&e.treeMenu.splice(f,1)}0===e.treeMenu.length&&a.resources.splice(d,1);break}}};document.getElementById("menu_sidebar").addEventListener("wheel",function(b){if(f.innerWidth>=k&&a.isSidebarDisplayMini){var c=document.getElementById("sidebar_position");b.deltaY>0?document.getElementById("menu_ul").offsetHeight+c.offsetTop-l>=50&&(c.style.marginTop=c.offsetTop-50-l+"px"):c.offsetTop<50&&(c.style.marginTop=c.offsetTop-50+l+"px")}}),a.sidebarMenuOpenClk=function(a,b){"1"===a.isLeaf?s(a.url):r(b)},a.sidebarMenuSearch=function(){var b={};if(""===a.menuSearchStr||null===a.menuSearchStr){p(document.getElementById("menu_ul").getElementsByTagName("li"));for(var c=0;c<a.resources.length;c++)b=a.resources[c],"0"===b.isLeaf&&u(b.treeMenu),delete b.isSearch}else{for(var d=0;d<a.resources.length;d++){b=a.resources[d];var e=!1;"0"===b.isLeaf&&(e=t(b.treeMenu,a.menuSearchStr)),!e&&b.name.indexOf(a.menuSearchStr)<0?b.isSearch="0":delete b.isSearch}setTimeout(function(){for(var b=0;b<document.getElementById("menu_ul").getElementsByTagName("li").length;b++){var c=document.getElementById("menu_ul").getElementsByTagName("li")[b];c.getElementsByTagName("ul").length>0&&(f.innerWidth<k||f.innerWidth>=k&&!a.isSidebarDisplayMini||f.innerWidth>=k&&a.isSidebarDisplayMini&&!angular.element(c).hasClass("treeview"))&&(angular.element(c).addClass("active"),c.getElementsByTagName("ul")[0].style.height="auto")}},10)}},a.$watch("menuSearchStr",function(b,c){b!==c&&a.sidebarMenuSearch()}),a.sidebarToggleClk=function(){if(f.innerWidth<k)a.isSidebarDisplayOpen=!a.isSidebarDisplayOpen;else{a.isSidebarDisplayMini=!a.isSidebarDisplayMini,f.localStorage.isSidebarDisplayMini=a.isSidebarDisplayMini,a.isSidebarDisplayMini?p(document.getElementById("menu_ul").getElementsByTagName("li")):document.getElementById("sidebar_position").removeAttribute("style");var b=document.createEvent("HTMLEvents");b.initEvent("resize",!1,!0),f.dispatchEvent(b)}},a.toggleRightNotifications=function(){g("rightSettings").isOpen()?(g("rightSettings").close(),setTimeout(function(){g("rightNotifications").toggle()},300)):g("rightNotifications").toggle()},a.toggleRightSettings=function(){g("rightNotifications").isOpen()?(g("rightNotifications").close(),setTimeout(function(){g("rightSettings").toggle()},300)):g("rightSettings").toggle()},a.sidebarHiddenClk=function(){f.innerWidth<k&&a.isSidebarDisplayOpen&&(a.isSidebarDisplayOpen=!1)},a.toggleResourceNav=function(){a.resourceNavShow=!a.resourceNavShow,a.resourceNavShow?h.get("/main/resourceall").success(function(b){a.resnav.resourceall=b;for(var c=0;c<a.resnav.resourceall.length;c++){var d=a.resnav.resourceall[c];a.resnav.cardShow["navTypeContentShow_"+d.code]=!0;for(var e=0;e<d.treeMenu.length;e++)a.resnav.moduleSelected["selected_"+d.treeMenu[e].code]=[]}for(var f=0;f<a.resources.length;f++)if(null!==a.resnav.moduleSelected["selected_"+a.resources[f].code]&&!angular.isUndefined(a.resnav.moduleSelected["selected_"+a.resources[f].code])&&null!==a.resources[f].treeMenu&&!angular.isUndefined(a.resources[f].treeMenu))for(var g=0;g<a.resources[f].treeMenu.length;g++)a.resnav.moduleSelected["selected_"+a.resources[f].code].push(a.resources[f].treeMenu[g].code)}):a.resnav={resourceall:[],searchStr:"",cardShow:{},moduleSelected:{},typeContentHeight:{}}},a.resourceNavScroll=function(a){document.getElementById("resnavCard_"+a).scrollIntoView(!0)},a.resourceNavRouter=function(b){a.resourceNavShow=!1,s(b)},a.navTypeContentShow=function(b){return a.resnav.cardShow["navTypeContentShow_"+b]},a.toggleNavTypeContent=function(b){var c=0;a.resnav.cardShow["navTypeContentShow_"+b]?(c=document.getElementById("navTypeContent_"+b).offsetHeight,a.resnav.typeContentHeight["height_"+b]=c,document.getElementById("navTypeContent_"+b).style.height=c+"px",setTimeout(function(){document.getElementById("navTypeContent_"+b).style.height="0px"},10)):(c=a.resnav.typeContentHeight["height_"+b],document.getElementById("navTypeContent_"+b).style.height=c+"px",setTimeout(function(){document.getElementById("navTypeContent_"+b).style.height="auto"},300)),a.resnav.cardShow["navTypeContentShow_"+b]=!a.resnav.cardShow["navTypeContentShow_"+b]},a.resnavSearch=function(){var b={};if(""===a.resnav.searchStr||null===a.resnav.searchStr){for(var c=0;c<a.resnav.resourceall.length;c++)a.resnav.cardShow["navTypeContentShow_"+a.resnav.resourceall[c].code]=!0,null===document.getElementById("navTypeContent_"+a.resnav.resourceall[c].code)||angular.isUndefined(document.getElementById("navTypeContent_"+a.resnav.resourceall[c].code))||(document.getElementById("navTypeContent_"+a.resnav.resourceall[c].code).style.height="auto");for(var d=0;d<a.resnav.resourceall.length;d++)b=a.resnav.resourceall[d],"0"===b.isLeaf&&u(b.treeMenu),delete b.isSearch}else{for(var e=0;e<a.resnav.resourceall.length;e++)a.resnav.cardShow["navTypeContentShow_"+a.resnav.resourceall[e].code]=!0,null===document.getElementById("navTypeContent_"+a.resnav.resourceall[e].code)||angular.isUndefined(document.getElementById("navTypeContent_"+a.resnav.resourceall[e].code))||(document.getElementById("navTypeContent_"+a.resnav.resourceall[e].code).style.height="auto");for(var f=0;f<a.resnav.resourceall.length;f++){b=a.resnav.resourceall[f];var g=!1;"0"===b.isLeaf&&(g=t(b.treeMenu,a.resnav.searchStr)),!g&&b.name.indexOf(a.resnav.searchStr)<0?b.isSearch="0":delete b.isSearch}}},a.$watch("resnav.searchStr",function(b,c){b!==c&&a.resnavSearch()}),a.toggleResModule=function(b,c){var d=a.resnav.moduleSelected["selected_"+c.code].indexOf(b.code);d>-1?(a.resnav.moduleSelected["selected_"+c.code].splice(d,1),x([b],c)):(a.resnav.moduleSelected["selected_"+c.code].push(b.code),w([b],c))},a.existsResModule=function(b,c){return a.resnav.moduleSelected["selected_"+c.code].indexOf(b.code)>-1};var y=function(b,c){if(!angular.isUndefined(b.treeMenu)&&null!==b.treeMenu)if("1"===b.treeMenu[0].isLeaf)c[0]+=b.treeMenu.length,c[1]+=a.resnav.moduleSelected["selected_"+b.code].length;else for(var d=0;d<b.treeMenu.length;d++)c=y(b.treeMenu[d],c);return c};a.isIndeterminateResModule=function(a){var b=y(a,[0,0]);return 0!==b[1]&&b[1]!==b[0]},a.isCheckedResModule=function(a){var b=y(a,[0,0]);return b[1]===b[0]},a.toggleResModuleAll=function(b){var c=y(b,[0,0]);if(c[1]===c[0])if("1"===b.treeMenu[0].isLeaf)a.resnav.moduleSelected["selected_"+b.code]=[],x(b.treeMenu,b);else for(var d=0;d<b.treeMenu.length;d++)a.resnav.moduleSelected["selected_"+b.treeMenu[d].code]=[],x(b.treeMenu[d].treeMenu,b.treeMenu[d]);else if(c[1]>=0)if("1"===b.treeMenu[0].isLeaf){a.resnav.moduleSelected["selected_"+b.code]=[];for(var e=0;e<b.treeMenu.length;e++)a.resnav.moduleSelected["selected_"+b.code].indexOf(b.treeMenu[e].code)<0&&a.resnav.moduleSelected["selected_"+b.code].push(b.treeMenu[e].code);w(b.treeMenu,b)}else for(var f=0;f<b.treeMenu.length;f++){a.resnav.moduleSelected["selected_"+b.treeMenu[f].code]=[];for(var g=0;g<b.treeMenu[f].treeMenu.length;g++)a.resnav.moduleSelected["selected_"+b.treeMenu[f].code].indexOf(b.treeMenu[f].treeMenu[g].code)<0&&a.resnav.moduleSelected["selected_"+b.treeMenu[f].code].push(b.treeMenu[f].treeMenu[g].code);w(b.treeMenu[f].treeMenu,b.treeMenu[f])}},a.$watch("$viewContentLoaded",function(){document.getElementById("content_wrapper").style.minHeight=document.body.clientHeight-39+"px"}),angular.element(f).bind("resize",function(){document.getElementById("content_wrapper").style.minHeight=document.body.clientHeight-39+"px"}),a.logout=function(){b(d,f,e)},j.bindTo(a).add("h","切换功能栏样式",a.sidebarToggleClk).add("j","全功能导航页面",a.toggleResourceNav).add("n","通知页面",a.toggleRightNotifications).add("m","设置页面",a.toggleRightSettings).add("esc","关闭功能",function(){a.resourceNavShow&&(a.resourceNavShow=!1),f.innerWidth<k&&a.isSidebarDisplayOpen&&(a.isSidebarDisplayOpen=!1)}).add("g g","退出登录",a.logout)};c.$inject=["$scope","$rootScope","$document","$state","$window","$mdSidenav","$http","$location","hotkeys","screenSizeSm"],a.constant("screenSizeSm","768");var d=function(a){a.state("main",{url:"/",templateUrl:"modules/mainnew/main.html",controller:c})};d.$inject=["$stateProvider"],a.config(d)}(angular.module("pea")),angular.module("material.components.menu").directive("mdMenu",function(){return{require:"^mdMenu",link:function(a,b,c,d){a.$mdOpenCloseMenu=function(b){!a.$mdMenuIsOpen||angular.isUndefined(a.$mdMenuIsOpen)?d.open(b):d.close(b)}}}}),angular.module("pea").directive("myClick",["$parse",function(a){return{restrict:"A",compile:function(b,c){var d=a(c.myClick,null,!0);return function(a,b){b.on("click",function(b){var c=function(){d(a,{$event:b})};a.$apply(c)})}}}}]),function(a){var b=function(a){a.gridParam={columns:[{field:"name",title:"姓名",width:100},{field:"age",title:"年龄",width:80,isNumeric:!0},{field:"dept",title:"科室",width:240},{field:"title",title:"职称",width:200},{field:"education",title:"学历",width:200},{field:"job",title:"职务",width:200}],url:"/playground/grid/basic",toolbar:!1,rowSelection:!1,pagination:!1}};b.$inject=["$scope"];var c=function(a){a.state("main.photoGridOperation",{url:"^/photo/carousel",templateUrl:"modules/photo/carousel.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("pea")),function(a){var b=function(a){a.gridParam={columns:[{field:"name",title:"姓名",width:100},{field:"age",title:"年龄",width:80,isNumeric:!0},{field:"dept",title:"科室",width:240},{field:"title",title:"职称",width:200},{field:"education",title:"学历",width:200},{field:"job",title:"职务",width:200}],url:"/playground/grid/basic",toolbar:!1,rowSelection:!1,pagination:!1}};b.$inject=["$scope"];var c=function(a){a.state("main.playgroundGridBasic",{url:"^/playground/grid/basic",templateUrl:"modules/playground/grid/basic.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("pea")),function(a){var b=function(a,b,c,d){var e=function(a,e,f){f.stopPropagation();var g=[{id:"专科",name:"专科"},{id:"本科",name:"本科"}],h='<md-edit-dialog><form name="form1" class="md-content" ng-submit="submit()"><md-input-container md-no-float class="md-block"><md-select md-autofocus ng-model="model" placeholder="学历"><md-option ng-repeat="education in educations" value="{{education.id}}">{{education.name}}</md-option></md-select><div class="md-errors-spacer"></div></md-input-container></form></md-edit-dialog>';c.show({controller:["$scope","$element",function(c,e){c.$watch("model",function(f,g){if(!angular.isUndefined(f)&&f!==g){var h=a.education;a.education=c.model,b.put("/playground/grid/basic/data",a).success(function(b){angular.isUndefined(b.errMsg)?e.remove():(a.education=h,d.show(d.simple().textContent(b.errMsg)))})}})}],targetEvent:f,scope:{model:a.education,educations:g},template:h})},f=function(a,e,f){f.stopPropagation();var g='<md-edit-dialog><form name="form2" class="md-content" ng-submit="submit()"><md-input-container md-no-float class="md-block"><input md-autofocus ng-model="model" md-maxlength="30" placeholder="备注"></md-input-container></form></md-edit-dialog>',h=!0;c.show({controller:["$scope","$element",function(c,e){c.submit=function(){if(c.form2.$valid&&h){h=!1;var f=a.remark;a.remark=c.model,b.put("/playground/grid/basic/data",a).success(function(b){angular.isUndefined(b.errMsg)?e.remove():(h=!0,a.remark=f,d.show(d.simple().textContent(b.errMsg)))})}}}],targetEvent:f,scope:{model:a.remark},template:g})};a.gridParam={columns:[{field:"name",title:"姓名",width:100},{field:"age",title:"年龄",width:80,isNumeric:!0},{field:"dept",title:"科室",width:240},{field:"job",title:"职务",width:200},{field:"title",title:"职称",width:200},{field:"education",title:"学历",width:200,edit:e,editComment:"点击新增学历"},{field:"remark",title:"备注",width:260,edit:f,editComment:"点击新增备注"}],url:"/playground/grid/basic",title:"职工信息"}};b.$inject=["$scope","$http","$mdEditDialog","$mdToast"];var c=function(a){a.state("main.playgroundGridColumnEdit",{url:"^/playground/grid/columnEdit",templateUrl:"modules/playground/grid/basic.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("pea")),function(a){var b=function(a){a.gridParam={columns:[{field:"name",title:"姓名",width:100},{field:"age",title:"年龄",width:80,isNumeric:!0},{field:"dept",title:"科室",width:240},{field:"job",title:"职务",width:200},{field:"title",title:"职称",width:200},{field:"education",title:"学历",width:200},{field:"remark",title:"备注",width:260}],url:"/playground/grid/basic",title:"职工信息",rowSelection:!1,columnCustom:"playgroundGridColumnShow"}};b.$inject=["$scope"];var c=function(a){a.state("main.playgroundGridColumnShow",{url:"^/playground/grid/columnShow",templateUrl:"modules/playground/grid/basic.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("pea")),function(a){var b=function(a){var b=[{id:"1",name:"专科"},{id:"2",name:"本科"}],c=function(){a.gridParam.showSearchBar()};a.gridParam={columns:[{field:"name",title:"姓名",width:100},{field:"age",title:"年龄",width:80,isNumeric:!0},{field:"dept",title:"科室",width:240},{field:"title",title:"职称",width:200},{field:"education",title:"学历",width:200},{field:"job",title:"职务",width:200},{field:"remark",title:"备注",width:260}],url:"/playground/grid/basic",operations:[{text:"查询",click:c,iconClass:"search_black",display:["unSelected"]}],title:"职工信息",rowSelection:!1,hasFilter:!0,searchTemplate:"modules/playground/grid/operationSearch.html",searchInitData:{educations:b}}};b.$inject=["$scope"];var c=function(a){a.state("main.playgroundGridFilter",{url:"^/playground/grid/filter",templateUrl:"modules/playground/grid/basic.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("pea")),function(a){var b=function(a){a.gridParam={columns:[{field:"name",title:"姓名",width:100,isFixed:!0},{field:"age",title:"年龄",width:80,isNumeric:!0,isFixed:!0},{field:"dept",title:"科室",width:240},{field:"job",title:"职务",width:200},{field:"title",title:"职称",width:200},{field:"education",title:"学历",width:200},{field:"remark",title:"备注",width:260}],url:"/playground/grid/basic",title:"职工信息",rowSelection:!1}};b.$inject=["$scope"];var c=function(a){a.state("main.playgroundGridFixed",{url:"^/playground/grid/fixed",templateUrl:"modules/playground/grid/basic.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("pea")),function(a){var b=function(a){a.gridParam={columns:[{field:"name",title:"姓名",width:100},{field:"age",title:"年龄",width:80,isNumeric:!0},{field:"dept",title:"科室",width:240},{field:"title",title:"职称",width:200},{field:"education",title:"学历",width:200,formatter:function(a){return"XX大学"+a}},{field:"job",title:"职务",width:200},{field:"remark",title:"备注",width:260,isLineWrap:!0}],url:"/playground/grid/basic",title:"职工信息",rowSelection:!1}};b.$inject=["$scope"];var c=function(a){a.state("main.playgroundGridFormatter",{url:"^/playground/grid/formatter",templateUrl:"modules/playground/grid/basic.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("pea")),function(a){var b=function(a){var b=function(){a.gridParam.showSearchBar()};a.gridParam={typeColumns:[[{title:"",colspan:2},{title:"职位",colspan:2},{title:"",colspan:3}]],columns:[{field:"name",title:"姓名",width:100},{field:"age",title:"年龄",width:80,isNumeric:!0},{field:"dept",title:"科室",width:240},{field:"job",title:"职务",width:200},{field:"title",title:"职称",width:200},{field:"education",title:"学历",width:200},{field:"remark",title:"备注",width:260}],url:"/playground/grid/basic",operations:[{text:"查询",click:b,iconClass:"search_black",display:["unSelected"]}],title:"职工信息",rowSelection:!1,hasFilter:!0}};b.$inject=["$scope"];var c=function(a){a.state("main.playgroundGridHeads",{url:"^/playground/grid/heads",templateUrl:"modules/playground/grid/basic.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("pea")),function(a){var b=function(a){a.gridParamType={columns:[{field:"name",title:"名称",width:120},{field:"code",title:"代码",width:150},{field:"status",title:"状态",width:100,formatter:function(a){return"1"===a?"启用":"停用"}}],url:"/playground/grid/layoutLr/type",title:"类别",multiSelect:!1,onSelect:function(){a.gridParamItem.loadData()},onDeselect:function(){a.gridParamItem.loadData()}},a.gridParamItem={columns:[{field:"name",title:"名称",width:120},{field:"code",title:"代码",width:150},{field:"status",title:"状态",width:100,formatter:function(a){return"1"===a?"启用":"停用"}},{field:"orderNum",title:"排序号",width:150}],url:"/playground/grid/layoutLr/item",title:"项目",multiSelect:!1,onBeforeLoad:function(b){1===a.gridParamType.selected.length&&(b.typeCode=a.gridParamType.selected[0].code)}}};b.$inject=["$scope"];var c=function(a){a.state("main.playgroundGridLayoutLr",{url:"^/playground/grid/layoutLr",templateUrl:"modules/playground/grid/layoutLr.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("pea")),function(a){var b=function(a){a.gridParamP={columns:[{field:"name",title:"姓名",width:100},{field:"jobNum",title:"工号",width:100},{field:"dept",title:"科室",width:150}],url:"/playground/grid/layoutLtb/person",title:"医师",multiSelect:!1,onSelect:function(){a.gridParamC.loadData(),a.gridParamL.loadData()},onDeselect:function(){a.gridParamC.loadData(),a.gridParamL.loadData()}},a.gridParamC={columns:[{field:"name",title:"证书名称",width:150},{field:"loan",title:"是否外借",width:80},{field:"range",title:"执业范围",width:150},{field:"validity",title:"有效期",width:200}],url:"/playground/grid/layoutLtb/certificate",title:"证书信息",multiSelect:!1,height:"auto",pagination:!1,onSelect:function(){a.gridParamL.loadData()},onDeselect:function(){a.gridParamL.loadData()},onBeforeLoad:function(b){1===a.gridParamP.selected.length&&(b.personId=a.gridParamP.selected[0].id)}},a.gridParamL={columns:[{field:"name",title:"外借人",width:100},{field:"date",title:"外借时间",width:120},{field:"giveBack",title:"是否归还",width:100}],url:"/playground/grid/layoutLtb/loan",title:"外借信息",multiSelect:!1,height:"auto",pagination:!1,onBeforeLoad:function(b){1===a.gridParamP.selected.length&&(b.personId=a.gridParamP.selected[0].id),1===a.gridParamC.selected.length&&(b.certificateId=a.gridParamC.selected[0].id)}}};b.$inject=["$scope"];var c=function(a){a.state("main.playgroundGridLayoutLtb",{url:"^/playground/grid/layoutLtb",templateUrl:"modules/playground/grid/layoutLtb.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("pea")),function(a){var b=function(a,b,c,d){var e=[{id:"1",name:"专科"},{id:"2",name:"本科"}],f=function(){a.gridParam.showSearchBar()},g=function(){c.show({controller:["$scope",function(a){a.isSubmit=!1,a.educations=e,a.cancel=function(){c.cancel()},a.submit=function(){a.userForm.$valid&&(a.isSubmit=!0,b.post("/playground/grid/basic/data",a.user).success(function(b){angular.isUndefined(b.errMsg)?c.hide():(a.isSubmit=!1,d.show(d.simple().textContent(b.errMsg)))}))}}],templateUrl:"modules/playground/grid/operationDialog.html",parent:angular.element(document.body),fullscreen:!0}).then(function(){a.gridParam.loadData()})},h=function(f){c.show({controller:["$scope",function(a){b.get("/playground/grid/basic/data",{params:{id:f[0].id}}).success(function(b){a.user=b}),a.isSubmit=!1,a.educations=e,a.cancel=function(){c.cancel()},a.submit=function(){a.userForm.$valid&&(a.isSubmit=!0,b.put("/playground/grid/basic/data",a.user).success(function(b){angular.isUndefined(b.errMsg)?c.hide():(a.isSubmit=!1,d.show(d.simple().textContent(b.errMsg)))}))}}],templateUrl:"modules/playground/grid/operationDialog.html",parent:angular.element(document.body),fullscreen:!0}).then(function(){a.gridParam.loadData()})},i=function(e){c.show(c.confirm().title("确定删除选中的记录？").ok("确定").cancel("取消")).then(function(){var c=[];for(var f in e)c.push(e[f].id);b["delete"]("/playground/grid/basic/data",{params:{ids:c.join(",")}}).success(function(b){angular.isUndefined(b.errMsg)?a.gridParam.loadData():d.show(d.simple().textContent(b.errMsg))})})};a.gridParam={columns:[{field:"name",title:"姓名",width:100},{field:"age",title:"年龄",width:80,isNumeric:!0},{field:"dept",title:"科室",width:240},{field:"title",title:"职称",width:200},{field:"education",title:"学历",width:200},{field:"job",title:"职务",width:200},{field:"remark",title:"备注",width:260}],url:"/playground/grid/basic",operations:[{text:"查询",click:f,iconClass:"search_black",display:["unSelected"]},{text:"新增",click:g,iconClass:"add_black",display:["unSelected"]},{text:"编辑",click:h,iconClass:"edit_black",display:["singleSelected"]},{text:"删除",click:i,iconClass:"delete_black",display:["singleSelected","multipleSelected"]}],title:"职工信息",multiSelect:!0,isAllDataLoad:!1,searchTemplate:"modules/playground/grid/operationSearch.html",searchInitData:{educations:e}}};b.$inject=["$scope","$http","$mdDialog","$mdToast"];var c=function(a){a.state("main.playgroundGridOperation",{url:"^/playground/grid/operation",templateUrl:"modules/playground/grid/basic.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("pea")),function(a){var b=function(a){a.gridParam={columns:[{field:"name",title:"姓名",width:100,enableSort:"name"},{field:"age",title:"年龄",width:80,isNumeric:!0,enableSort:"age",descFirst:!0},{field:"dept",title:"科室",width:240},{field:"title",title:"职称",width:200},{field:"education",title:"学历",width:200},{field:"job",title:"职务",width:200},{field:"remark",title:"备注",width:260}],url:"/playground/grid/basic",title:"职工信息",rowSelection:!1,order:"name"}};b.$inject=["$scope"];var c=function(a){a.state("main.playgroundGridOrder",{url:"^/playground/grid/order",templateUrl:"modules/playground/grid/basic.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("pea")),function(a){var b=function(a,b,c,d){var e=[{id:"专科",name:"专科"},{id:"本科",name:"本科"}],f=function(){a.gridParam.showRowEdit()},g=function(){a.gridParam.rowEditFrom().$valid&&(a.gridParam.disableRowEditSubmit(!0),b.post("/playground/grid/basic/data",a.gridParam.rowEditData).success(function(b){angular.isUndefined(b.errMsg)?(a.gridParam.loadData(),a.gridParam.closeRowEdit()):(a.gridParam.disableRowEditSubmit(!1),c.show(c.simple().textContent(b.errMsg)))}))},h=function(a,f,g){g.stopPropagation();var h={name:"姓名",age:"年龄",dept:"科室",job:"职务",title:"职称",education:"学历",remark:"备注"},i="<md-edit-dialog>";i+='<form name="form1" class="md-content" ng-submit="submit()">',i+='<md-input-container md-no-float class="md-block">',"education"===f?(i+='<md-select md-autofocus ng-model="model" placeholder="学历">',i+='<md-option ng-repeat="education in educations" value="{{education.id}}">{{education.name}}</md-option>',i+="</md-select>",i+='<div class="md-errors-spacer"></div>'):(i+='<input md-autofocus ng-model="model" placeholder="'+h[f]+'"',"name"===f?i+=" required":"age"===f?i+=' type="number"':"remark"===f&&(i+=' md-maxlength="30"'),i+=">"),i+="</md-input-container>",i+="</form>",i+="</md-edit-dialog>",d.show({controller:["$scope","$element",function(d,e){var g=!0,h=function(){g=!1;var h=a[f];a[f]=d.model,b.put("/playground/grid/basic/data",a).success(function(b){angular.isUndefined(b.errMsg)?e.remove():(g=!0,a[f]=h,c.show(c.simple().textContent(b.errMsg)))})};"education"===f&&d.$watch("model",function(a,b){angular.isUndefined(a)||a===b||h()}),d.submit=function(){d.form1.$valid&&g&&h()}}],targetEvent:g,scope:{model:a[f],educations:e},template:i})};a.gridParam={columns:[{field:"name",title:"姓名",width:100,edit:h},{field:"age",title:"年龄",width:80,isNumeric:!0,edit:h},{field:"dept",title:"科室",width:240,edit:h},{field:"job",title:"职务",width:200,edit:h},{field:"title",title:"职称",width:200,edit:h},{field:"education",title:"学历",width:200,edit:h},{field:"remark",title:"备注",width:260,edit:h}],url:"/playground/grid/basic",operations:[{text:"新增",click:f,iconClass:"add_black",display:["unSelected"]}],title:"职工信息",rowEditTemplate:"modules/playground/grid/rowEdit.html",rowEditInitData:{educations:e},rowEditSubmit:g}};b.$inject=["$scope","$http","$mdToast","$mdEditDialog"];var c=function(a){a.state("main.playgroundGridRowEdit",{url:"^/playground/grid/rowEdit",templateUrl:"modules/playground/grid/basic.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("pea")),function(a){var b=function(a,b,c,d){var e=function(e){c.show(c.confirm().title("确定删除选中的记录？").ok("确定").cancel("取消")).then(function(){var c=[];for(var f in e)c.push(e[f].id);b["delete"]("/playground/grid/basic/data",{params:{ids:c.join(",")}}).success(function(b){"undefined"==typeof b.errMsg?a.gridParam.loadData():d.show(d.simple().textContent(b.errMsg))})})};a.gridParam={columns:[{field:"name",title:"姓名",width:100},{field:"age",title:"年龄",width:80,isNumeric:!0},{field:"dept",title:"科室",width:240},{field:"title",title:"职称",width:200},{field:"education",title:"学历",width:200},{field:"job",title:"职务",width:200},{field:"remark",title:"备注",width:260}],url:"/playground/grid/basic",operations:[{text:"删除",click:e,iconClass:"delete_black",display:["singleSelected"]}],title:"职工信息"}};b.$inject=["$scope","$http","$mdDialog","$mdToast"];var c=function(a){a.state("main.playgroundGridSingleSelection",{url:"^/playground/grid/singleSelection",templateUrl:"modules/playground/grid/basic.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("pea")),function(a){var b=function(a,b,c,d){var e=function(e){c.show(c.confirm().title("确定删除选中的记录？").ok("确定").cancel("取消")).then(function(){var c=[];for(var f in e)c.push(e[f].id);b["delete"]("/playground/grid/basic/data",{params:{ids:c.join(",")}}).success(function(b){"undefined"==typeof b.errMsg?a.gridParam.loadData():d.show(d.simple().textContent(b.errMsg))})})};a.gridParam={columns:[{field:"name",title:"姓名",width:100,styler:function(a){return"啊啊1"===a?"red":void 0}},{field:"age",title:"年龄",width:80,isNumeric:!0},{field:"dept",title:"科室",width:240},{field:"title",title:"职称",width:200},{field:"education",title:"学历",width:200},{field:"job",title:"职务",width:200},{field:"remark",title:"备注",width:260}],url:"/playground/grid/basic",operations:[{text:"删除",click:e,iconClass:"delete_black",display:["singleSelected","multipleSelected"]}],title:"职工信息",multiSelect:!0,rowStyler:function(a){return"啊啊5"===a.name?"#03A9F4":void 0},ngDisabled:function(a){return"啊啊2"===a.name}}};b.$inject=["$scope","$http","$mdDialog","$mdToast"];var c=function(a){a.state("main.playgroundGridStyle",{url:"^/playground/grid/style",templateUrl:"modules/playground/grid/basic.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("pea")),function(a){var b=function(a){a.gridParam={columns:[{field:"name",title:"姓名",width:100},{field:"age",title:"年龄",width:80,isNumeric:!0},{field:"dept",title:"科室",width:240},{field:"job",title:"职务",width:200},{field:"title",title:"职称",width:200},{field:"education",title:"学历",width:200},{field:"remark",title:"备注",width:260}],url:"/playground/grid/total",
title:"职工信息",rowSelection:!1}};b.$inject=["$scope"];var c=function(a){a.state("main.playgroundGridTotal",{url:"^/playground/grid/total",templateUrl:"modules/playground/grid/basic.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("pea")),function(a){var b=function(a,b,c){console.debug("$scope of iframe: %o",a),console.debug("url: %s",b.search().url),a.iframeSrc=c.trustAsResourceUrl(b.search().url)};b.$inject=["$scope","$location","$sce"];var c=function(a){a.state("main.playgroundIframe",{url:"^/playground/iframe?url",controller:b,templateUrl:"modules/playground/iframe/iframe.html"})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("pea")),function(){var a=function(a){a.state("main.playgroundTest",{url:"^/playground/test",templateUrl:"modules/playground/test/test.html"})};a.$inject=["$stateProvider"],angular.module("pea").config(a),angular.module("pea").controller("DemoCtrl",["$scope",function(a){this.topDirections=["left","up"],this.bottomDirections=["down","right"],this.isOpen=!1,this.availableModes=["md-fling","md-scale"],this.selectedMode="md-fling",this.availableDirections=["up","down","left","right"],this.selectedDirection="right";var b=[{id:1,pId:0,name:"父节点1 - 展开",open:!0},{id:11,pId:1,name:"父节点11 - 折叠"},{id:111,pId:11,name:"叶子节点111"},{id:112,pId:11,name:"叶子节点112"},{id:113,pId:11,name:"叶子节点113"},{id:114,pId:11,name:"叶子节点114"},{id:12,pId:1,name:"父节点12 - 折叠"},{id:121,pId:12,name:"叶子节点121"},{id:122,pId:12,name:"叶子节点122"},{id:123,pId:12,name:"叶子节点123"},{id:124,pId:12,name:"叶子节点124"},{id:13,pId:1,name:"父节点13 - 没有子节点",hasChildren:!0},{id:2,pId:0,name:"父节点2 - 折叠"},{id:21,pId:2,name:"父节点21 - 展开",open:!0},{id:211,pId:21,name:"叶子节点211"},{id:212,pId:21,name:"叶子节点212"},{id:213,pId:21,name:"叶子节点213"},{id:214,pId:21,name:"叶子节点214"},{id:22,pId:2,name:"父节点22 - 折叠"},{id:221,pId:22,name:"叶子节点221"},{id:222,pId:22,name:"叶子节点222"},{id:223,pId:22,name:"叶子节点223"},{id:224,pId:22,name:"叶子节点224"},{id:23,pId:2,name:"父节点23 - 折叠"},{id:231,pId:23,name:"叶子节点231"},{id:232,pId:23,name:"叶子节点232"},{id:233,pId:23,name:"叶子节点233"},{id:234,pId:23,name:"叶子节点234"},{id:3,pId:0,name:"父节点3 - 没有子节点",hasChildren:!0},{id:4,pId:0,name:"infinite node",hasChildren:!0}];a.treeOptions={nodes:b,onExpand:function(a){if(console.debug("on expand"),a.name.indexOf("infinite node")>-1&&!a.children){var b=[{id:1*a.id+100,pId:a.id,name:"infinite node",hasChildren:!0},{id:2*a.id+100,pId:a.id,name:"infinite node",hasChildren:!0},{id:3*a.id+100,pId:a.id,name:"infinite node",hasChildren:!0}];a.children=[],angular.forEach(b,function(b){b.parent=a,a.children.push(b)})}},onCollapse:function(a){console.debug("on collapse %o",a)},onClick:function(a){console.debug("on click node %o",a)}}}])}(),function(a){var b=function(a,b,c,d){var e=function(){a.gridParam.showSearchBar()},f=function(){c.show({controller:["$scope",function(a){a.isSubmit=!1,a.cancel=function(){c.cancel()},a.submit=function(){a.tipsForm.$valid&&(a.isSubmit=!0,b.post("/prompt/tips",a.tips).success(function(b){angular.isUndefined(b.errMsg)?c.hide():(a.isSubmit=!1,d.show(d.simple().textContent(b.errMsg)))}))}}],templateUrl:"modules/prompt/tipsDialog.html",parent:angular.element(document.body),fullscreen:!0}).then(function(){a.gridParam.loadData()})},g=function(e){c.show({controller:["$scope",function(a){b.get("/prompt/tips/"+e[0].id).success(function(b){a.tips=b}),a.isSubmit=!1,a.cancel=function(){c.cancel()},a.submit=function(){a.tipsForm.$valid&&(a.isSubmit=!0,b.put("/prompt/tips",a.tips).success(function(b){angular.isUndefined(b.errMsg)?c.hide():(a.isSubmit=!1,d.show(d.simple().textContent(b.errMsg)))}))}}],templateUrl:"modules/prompt/tipsDialog.html",parent:angular.element(document.body),fullscreen:!0}).then(function(){a.gridParam.loadData()})},h=function(e){c.show(c.confirm().title("确定删除选中的记录？").ok("确定").cancel("取消")).then(function(){var c=[];for(var f in e)c.push(e[f].id);b["delete"]("/prompt/tips",{params:{ids:c.join(",")}}).success(function(b){angular.isUndefined(b.errMsg)?a.gridParam.loadData():d.show(d.simple().textContent(b.errMsg))})})};a.gridParam={columns:[{field:"infoType",title:"温馨提示类型编码",width:160},{field:"typeName",title:"温馨提示类型名称",width:180},{field:"info",title:"温馨提示内容",width:800}],url:"/prompt/tips",operations:[{text:"查询",click:e,iconClass:"search_black",display:["unSelected"]},{text:"新增",click:f,iconClass:"add_black",display:["unSelected"]},{text:"编辑",click:g,iconClass:"edit_black",display:["singleSelected"]},{text:"删除",click:h,iconClass:"delete_black",display:["singleSelected","multipleSelected"]}],title:"意见反馈信息",multiSelect:!0,isAllDataLoad:!1,searchTemplate:"modules/prompt/tipsSearch.html",searchInitData:{statusCode:a.opStatus}}};b.$inject=["$scope","$http","$mdDialog","$mdToast"];var c=function(a){a.state("main.tipsGridOperation",{url:"^/prompt/tips",templateUrl:"modules/prompt/tips.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("pea")),function(a){var b=function(a,b,c,d){var e=function(){a.gridParam.showSearchBar()},f=function(){c.show({controller:["$scope",function(a){a.isSubmit=!1,a.cancel=function(){c.cancel()},a.submit=function(){a.rulesForm.$valid&&(a.isSubmit=!0,b.post("/registration/rules",a.rules).success(function(b){angular.isUndefined(b.errMsg)?c.hide():(a.isSubmit=!1,d.show(d.simple().textContent(b.errMsg)))}))}}],templateUrl:"modules/registration/rulesDialog.html",parent:angular.element(document.body),fullscreen:!0}).then(function(){a.gridParam.loadData()})},g=function(e){c.show({controller:["$scope",function(a){b.get("/registration/rules/"+e[0].id).success(function(b){a.rules=b}),a.isSubmit=!1,a.cancel=function(){c.cancel()},a.submit=function(){a.rulesForm.$valid&&(a.isSubmit=!0,b.put("/registration/rules",a.rules).success(function(b){angular.isUndefined(b.errMsg)?c.hide():(a.isSubmit=!1,d.show(d.simple().textContent(b.errMsg)))}))}}],templateUrl:"modules/registration/rulesDialog.html",parent:angular.element(document.body),fullscreen:!0}).then(function(){a.gridParam.loadData()})},h=function(e){c.show(c.confirm().title("确定删除选中的记录？").ok("确定").cancel("取消")).then(function(){var c=[];for(var f in e)c.push(e[f].id);b["delete"]("/registration/rules",{params:{ids:c.join(",")}}).success(function(b){angular.isUndefined(b.errMsg)?a.gridParam.loadData():d.show(d.simple().textContent(b.errMsg))})})};a.gridParam={columns:[{field:"catalogue",title:"挂号规则分类",width:160},{field:"name",title:"挂号规则名称",width:180},{field:"rule",title:"挂号规则内容",width:800}],url:"/registration/rules",operations:[{text:"查询",click:e,iconClass:"search_black",display:["unSelected"]},{text:"新增",click:f,iconClass:"add_black",display:["unSelected"]},{text:"编辑",click:g,iconClass:"edit_black",display:["singleSelected"]},{text:"删除",click:h,iconClass:"delete_black",display:["singleSelected","multipleSelected"]}],title:"挂号规则信息",multiSelect:!0,isAllDataLoad:!1,searchTemplate:"modules/registration/rulesSearch.html",searchInitData:{statusCode:a.opStatus}}};b.$inject=["$scope","$http","$mdDialog","$mdToast"];var c=function(a){a.state("main.rulesGridOperation",{url:"^/registration/rulesn",templateUrl:"modules/registration/rules.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("pea")),function(a){var b=function(a,b,c){c.onresize=function(){c.location.reload()};var d,e=[],f=[],g=[],h=[],i=[],j=[],k=[],l=[],m=[],n=[],o=[],p=[],q=[],r=[],s=[],t=0;a.statisticsDatas=[],b.get("/msc/statistics_count",{params:{query:"{}",sort:"{statisticsDate:-1}"}}).success(function(b){for(var c=0;c<b.length;c++)a.statisticsDatas.push(JSON.parse(b[c]));d=a.statisticsDatas.length,t=a.statisticsDatas.length<8?a.statisticsDatas.length:7,a.nowReqdata1=a.statisticsDatas[0].userCount,a.nowReqdata2=a.statisticsDatas[0].reqCount,a.nowRegdata1=a.statisticsDatas[0].regApptCount,a.nowRegdata2=a.statisticsDatas[0].regTodayCount,a.nowOpinionCountdata=a.statisticsDatas[0].opinionCount,a.nowFeedbackCountdata=a.statisticsDatas[0].feedbackCount,a.nowWxpayAmoutdata=w(a.statisticsDatas[0].wxpayAmount),a.nowWxpayRAmoutdata=w(a.statisticsDatas[0].wxpayRAmount),a.nowAlipayAmoutdata=w(a.statisticsDatas[0].alipayAmount),a.nowAlipayRAmoutdata=w(a.statisticsDatas[0].alipayRAmount);for(var y=0;7>y;y++)e.push(a.statisticsDatas[y].statisticsDate),f.push(a.statisticsDatas[y].regApptCount),g.push(a.statisticsDatas[y].regTodayCount),h.push(a.statisticsDatas[y].userCount),i.push(a.statisticsDatas[y].reqCount),j.push(a.statisticsDatas[y].opinionCount),k.push(a.statisticsDatas[y].feedbackCount),l.push(a.statisticsDatas[y].alipayCount),m.push(x(a.statisticsDatas[y].alipayAmount)),n.push(a.statisticsDatas[y].alipayRCount),o.push(x(a.statisticsDatas[y].alipayRAmount)),p.push(a.statisticsDatas[y].wxpayCount),q.push(x(a.statisticsDatas[y].wxpayAmount)),r.push(a.statisticsDatas[y].wxpayRCount),s.push(x(a.statisticsDatas[y].wxpayRAmount));a.reg=u("挂号数量","预约挂号数量","当日挂号数量","line","line",f,g),a.req=u("app访客数,访问次数","app访客数","访问次数","bar","bar",h,i),a.feedback=u("意见数量,反馈数量","意见数量","反馈数量","bar","line",j,k),a.alipayc=v("支付宝平台:支付数量,退费数量","支付数量","退费数量","bar","bar",l,n),a.alipaya=v("支付宝平台:支付金额,退费金额","支付金额","退费金额","bar","bar",m,o),a.wxpayc=v("微信平台:支付数量,退费数量","支付数量","退费数量","bar","bar",p,r),a.wxpaya=v("微信平台:支付金额,退费金额","支付金额","退费金额","bar","bar",q,s)});var u=function(a,b,c,d,f,g,h){var i={title:{text:a},legend:{data:[b,c]},tooltip:{trigger:"axis"},toolbox:{show:!0,feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1,optionToContent:function(){for(var a=e,d=[g,h],f='<div style="overflow-y: scroll;height: 220px;"><table style="width:100%;text-align:center;color:#333;"><tbody><tr><td>时间</td><td>'+b+"</td><td>"+c+"</td></tr>",i=0,j=a.length;j>i;i++)f+="<tr><td>"+a[i]+"</td><td>"+d[0][i]+"</td><td>"+d[1][i]+"</td></tr>";return f+="</tbody></table></div>"}},restore:{}}},xAxis:{name:"日期",type:"category",boundaryGap:!0,data:function(){var a=e.reverse();return a}()},yAxis:{type:"value",axisLabel:{formatter:"{value}"}},series:[{name:b,type:d,data:function(){var a=g.reverse();return a}(),markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]},markLine:{data:[{type:"average",name:"平均值"}]}},{name:c,type:f,data:function(){var a=h.reverse();return a}(),markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]},markLine:{data:[{type:"average",name:"平均值"}]}}]};return i},v=function(a,b,c,d,f,g,h){var i={title:{text:a},legend:{data:[b,c]},tooltip:{trigger:"axis"},toolbox:{show:!0,feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1,optionToContent:function(){for(var a=e,d=[g,h],f='<div style="overflow-y: scroll;height: 220px;"><table style="width:100%;text-align:center;color:#333;"><tbody><tr><td>时间</td><td>'+b+"</td><td>"+c+"</td></tr>",i=0,j=a.length;j>i;i++)f+="<tr><td>"+a[i]+"</td><td>"+d[0][i]+"</td><td>"+d[1][i]+"</td></tr>";return f+="</tbody></table></div>"}},restore:{}}},color:["#50c747","#F3A43B"],xAxis:{name:"日期",type:"category",boundaryGap:!0,data:function(){var a=e.reverse();return a}()},yAxis:{type:"value",axisLabel:{formatter:"{value}"}},series:[{name:b,type:d,stack:"支付宝",label:{normal:{show:!0,position:"inside"}},data:function(){var a=g.reverse();return a}()},{name:c,type:f,stack:"支付宝",data:function(){var a=h.reverse();return a}()}]};return i},w=function(a){var b=(a/100).toString(),c=b.split(".")[0],d=b.split(".")[1];angular.isUndefined(d)?d=new Array(d,"00").join(""):1===d.length&&(d=new Array(d,"0").join(""));for(var e=c.split("").reverse().join(""),f="",g=0;g<e.length;g++){if(3*g+3>=e.length){f+=e.substring(3*g,e.length);break}f+=e.substring(3*g,3*g+3)+","}return new Array(f.split("").reverse().join(""),d).join(".")},x=function(a){var b=(a/100).toString(),c=b.split(".")[0],d=b.split(".")[1];return angular.isUndefined(d)?d=new Array(d,"00").join(""):1===d.length&&(d=new Array(d,"0").join("")),new Array(c,d).join(".")}};b.$inject=["$scope","$http","$window"];var c=function(a){a.state("main.statisticsView",{url:"^/statistics/statisticsView",templateUrl:"modules/statistics/statisticsView.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("pea")),function(a){var b=function(a,b){var c=[{id:1,pId:0,name:"父节点1 - 展开",open:!0},{id:11,pId:1,name:"父节点11 - 折叠"},{id:111,pId:11,name:"叶子节点111"},{id:112,pId:11,name:"叶子节点112"},{id:113,pId:11,name:"叶子节点113"},{id:114,pId:11,name:"叶子节点114"},{id:12,pId:1,name:"父节点12 - 折叠"},{id:121,pId:12,name:"叶子节点121"},{id:122,pId:12,name:"叶子节点122"},{id:123,pId:12,name:"叶子节点123"},{id:124,pId:12,name:"叶子节点124"},{id:13,pId:1,name:"父节点13 - 没有子节点",hasChildren:!0},{id:2,pId:0,name:"父节点2 - 折叠"},{id:21,pId:2,name:"父节点21 - 展开",open:!0},{id:211,pId:21,name:"叶子节点211"},{id:212,pId:21,name:"叶子节点212"},{id:213,pId:21,name:"叶子节点213"},{id:214,pId:21,name:"叶子节点214"},{id:22,pId:2,name:"父节点22 - 折叠"},{id:221,pId:22,name:"叶子节点221"},{id:222,pId:22,name:"叶子节点222"},{id:223,pId:22,name:"叶子节点223"},{id:224,pId:22,name:"叶子节点224"},{id:23,pId:2,name:"父节点23 - 折叠"},{id:231,pId:23,name:"叶子节点231"},{id:232,pId:23,name:"叶子节点232"},{id:233,pId:23,name:"叶子节点233"},{id:234,pId:23,name:"叶子节点234"},{id:3,pId:0,name:"父节点3 - 没有子节点",hasChildren:!0},{id:4,pId:0,name:"infinite node",hasChildren:!0}];a.treeOptions={nodes:c,onExpand:function(a){if(console.debug("on expand"),a.name.indexOf("infinite node")>-1&&!a.children){var b=[{id:1*a.id+100,pId:a.id,name:"infinite node",hasChildren:!0},{id:2*a.id+100,pId:a.id,name:"infinite node",hasChildren:!0},{id:3*a.id+100,pId:a.id,name:"infinite node",hasChildren:!0}];a.children=[],angular.forEach(b,function(b){b.parent=a,a.children.push(b)})}},onCollapse:function(a){console.debug("on collapse %o",a)},onClick:function(a){console.debug("on click node %o",a)}},a.gridOptions={title:"资源列表",query:{order:"name"},head:[{label:"名称",orderBy:"name"},{label:"序号"},{label:"URL",orderBy:"url"},{label:"分类",orderBy:"method"},{label:"备注"}],body:["item.name","gridOptions.items.data.indexOf(item) + 1","item.url","item.method",'"abcdefghijklmnopqrstuvwxyz"']};var d=b("/sys/resources/:resourceId",{resourceId:"@id"},{query:{method:"GET"}});d.query(function(b){a.gridOptions.items=b})};b.$inject=["$scope","$resource"];var c=function(a,c){a.state("main.sysResources",{url:"^/sys/resources",controller:b,templateUrl:c.tpls.treeGrid})};c.$inject=["$stateProvider","PEA"],a.config(c)}(angular.module("pea")),function(a){var b=function(a,b){a.cancel=function(){b.cancel()},a.save=function(){a.model.metaInfo=JSON.stringify(a.model),b.hide(a.model)}},c=function(a){window.location="/workflow/modeler.html?modelId="+a},d=function(a,b,d){var e=new a;e.id=d.id,e.$init({name:d.name,description:JSON.parse(d.metaInfo).description},function(){c(d.id)},function(a){console.debug("Error occurs while initial model source. %o",a),console.debug("Delete model that just created."),b["delete"]({modelId:d.id})})},e=function(a,c,e){a.show({controller:b,templateUrl:"modules/workflow/designer/create-model.html",clickOutsideToClose:!1}).then(function(a){var b=new c(a);b.$save(function(){d(e,c,b)})})},f=function(a){a.show({controller:g,templateUrl:"modules/workflow/designer/import-model.html",clickOutsideToClose:!1})},g=function(a,b,c,d,e,f){a.cancel=function(){b.cancel()},a["import"]=function(a){c.upload({url:"/workflow/service/repository/models/import",data:{file:a}}).then(function(a){d.debug("Success "+a.config.data.file.name+"uploaded. Response: "+a.data),b.hide(),e.reload(),f.showToast("导入成功")},function(a){d.debug("Upload file error! Error status: "+a.status),f.showToast("导入失败")})}},h=function(a,b,d,g,h,i){var j=a.model.model(),k=a.model.source(),l=a.model.deployment(),m=a.procDef.self(),n=a.deployment.deployment(),o=a.procInst.self();b.qsQuery=function(a){a=a||{},b.qsText&&(a.nameLike="%"+b.qsText+"%");var c=j.query(a,function(){b.total=c.total,b.showMoreListItems=c.total!==c.size,b.items=[],angular.forEach(c.data,function(a){b.items.push(a),a.deploymentId&&(m.query({deploymentId:a.deploymentId},function(b){a.procDef=b.data[0]}),n.get({deploymentId:a.deploymentId},function(b){a.deploymentTime=b.deploymentTime}))})})},b.qsQuery(),b.clickListItem=function(a){b.m=a,b.m.description=JSON.parse(a.metaInfo).description;var c=p(a);b.dosTitle=c?"启动流程":"部署流程",b.dosIcon=c?"directions_run":"cloud_upload"};var p=function(a){return a.deploymentId&&!q(a.deploymentTime,a.lastUpdateTime)},q=function(a,b){var c=new Date(a),d=new Date(b),e=1e3;return d.getTime()-c.getTime()>e};b.getMoreListItems=function(){b.qsQuery({size:b.total})},b.listItemTemplate=function(a){return a.name+(p(a)?"":" *")},b.contentPageUrl="modules/workflow/designer/designer.html",b.createItem=function(){e(d,j,k)},b.importModel=function(){f(d)},b.fabBtns=[{ariaLabel:"New Model",tooltip:"创建",icon:"add",click:b.createItem},{ariaLabel:"Import Models",tooltip:"导入",icon:"import_export",click:b.importModel}],b.editItem=function(){b.m&&c(b.m.id)},b.delItem=function(a){if(b.m&&!b.m.deploymentId){var c=function(){var a=b.m.id;j["delete"]({modelId:a},function(){g.showToast("删除成功"),h.reload()},function(b){i.debug("Error occurs when deleting model %s! %o",a,b),g.showToast("删除失败")})};g.confirm(a,"确认删除?",null,"删除").then(c)}},b.deployOrStart=function(){p(b.m)?b.startProcess():b.deploy()},b.deploy=function(){var a=function(a){i.debug("Error occurs when deploying! %o",a),g.showToast("部署失败")};b.m&&!p(b.m)&&l.save(b.m,function(c){b.m.deploymentId=c.id,b.m.deploymentUrl=c.url,j.update(b.m,function(){g.showToast("部署成功"),h.reload()},a)},a)},b.startProcess=function(){b.m&&p(b.m)&&o.start({processDefinitionId:b.m.procDef.id},function(){i.debug("Should implement after start process logic here...")},g.errCallback)},b["export"]=function(){b.m&&(window.location=a.model.exportUrl(b.m.id))},b.hotkeys=b.hotkeys||[],b.hotkeys.push({combo:"f w",description:"部署流程",callback:b.deploy},{combo:"f x",description:"启动流程",callback:b.startProcess},{combo:"f r",description:"导入流程",callback:b.importModel},{combo:"f t",description:"导出流程",callback:b["export"]})};h.$inject=["wfrFactory","$scope","$mdDialog","components","$state","$log"];var i=function(a,b){a.state("main.workflowDesigner",{url:"^/workflow/designer",controller:h,templateUrl:b.tpls.list2Cols})};i.$inject=["$stateProvider","PEA"],a.config(i)}(angular.module("pea")),function(a){a.service("wfrFactory",["$resource",function(a){var b=function(b,c,d){return a("/workflow/service"+b,c,d)},c=function(a,c){return b("/repository/models/:modelId"+a,{modelId:"@id"},c)};this.model={model:function(){return c("",{query:{method:"GET",params:{sort:"lastUpdateTime",order:"desc"}},update:{method:"PUT"}})},source:function(){return c("/source",{init:{method:"POST"}})},deployment:function(){return c("/deployment",{})},exportUrl:function(a){return"/workflow/service/repository/models/"+a+"/export"}};var d=function(a,c){return b("/repository/deployments/:deploymentId"+a,{deploymentId:"@id"},c)};this.deployment={deployment:function(){return d("",{query:{method:"GET",params:{sort:"deployTime",order:"desc"}}})}};var e=function(a,c){return b("/repository/process-definitions/:procDefId"+a,{procDefId:"@id"},c)};this.procDef={self:function(){return e("",{query:{method:"GET",params:{sort:"version",order:"desc"}}})},diagram:function(){return e("/diagram-size",{})}},this.procInst={self:function(){return b("/runtime/process-instances/:procInstId",{procInstId:"@id"},{query:{method:"GET"},start:{method:"POST"}})}}}])}(angular.module("pea")),function(a){var b=function(a,b,c,d){var e=a.procInst.self(),f=a.procDef.self(),g=a.procDef.diagram();b.qsQuery=function(a){a=a||{};var c=e.query(a,function(){b.total=c.total,b.items=c.data,angular.forEach(b.items,function(a){f.get({procDefId:a.processDefinitionId},function(b){a.procDef=b},d.errCallback)}),b.showMoreListItems=c.total!==c.size})},b.qsQuery(),b.clickListItem=function(a){b.procInst=a;var e="/workflow/diagram-viewer/index.html?processDefinitionId="+a.procDef.id+"&processInstanceId="+a.id;b.diagramURL=c.trustAsResourceUrl(e),g.get({procDefId:a.processDefinitionId},function(a){b.diagramStyle={width:a.width+"px",height:a.height+"px"}},d.errCallback)},b.listItemTemplate=function(a){return a.procDef?a.procDef.name:""},b.getMoreListItems=function(){b.qsQuery({size:b.total})},b.contentPageUrl="modules/workflow/instances/instances.html"};b.$inject=["wfrFactory","$scope","$sce","components"];var c=function(a,c){a.state("main.workflowInstances",{url:"^/workflow/instances",controller:b,templateUrl:c.tpls.list2Cols})};c.$inject=["$stateProvider","PEA"],a.config(c)}(angular.module("pea")),angular.module("pea").run(["$templateCache",function(a){a.put("app/components/grid/pea-grid.html",'<md-card class="pea-card pea-grid"> <form class="grid-form" name="gridForm"> <div class="grid-content"> <div class="search-sheet"> <div class="search-sheet-content" ng-include="gridParam.searchTemplate"></div> <div class="search-sheet-actions"> <md-button class="md-primary btn-advanced-search" aria-label="查询" ng-click="innerParam.querySearchAdvanced()"> 查询 </md-button> <md-button aria-label="重置" ng-click="innerParam.resetSearchAdvanced()"> 重置 </md-button> <md-button aria-label="关闭" ng-click="innerParam.closeSearchAdvanced()"> 关闭 </md-button> </div> </div> <div class="search-backdrop" ng-click="innerParam.closeSearchAdvanced()"></div> <md-toolbar class="md-table-toolbar md-default" ng-show="gridParam.toolbar && !innerParam.searchBar && !innerParam.showRowEdit && gridParam.selected.length == 0"> <div class="md-toolbar-tools"> <span class="md-table-title">{{gridParam.title}}</span> <div flex></div> <md-button class="md-icon-button" ng-repeat="btn in gridParam.btns.unSelected" ng-click="btn.click(gridParam.selected, $event)" aria-label="{{btn.text}}"> <md-tooltip md-direction="bottom">{{btn.text}}</md-tooltip> <md-icon>{{btn.iconClass}}</md-icon> </md-button> <md-button class="md-icon-button" aria-label="刷新" ng-click="gridParam.loadData()"> <md-tooltip md-direction="bottom">刷新</md-tooltip> <md-icon>refresh_black</md-icon> </md-button> <md-menu ng-if="gridParam.columnCustom" md-position-mode="target-right target" md-offset="0 16"> <md-button aria-label="自定义列" class="md-icon-button" ng-click="$mdOpenMenu($event)"> <md-tooltip md-direction="bottom">自定义列</md-tooltip> <md-icon>settings</md-icon> </md-button> <md-menu-content class="column-custom-content"> <md-menu-item ng-repeat="column in gridParam.columns"> <md-checkbox aria-label="{{column.title}}" ng-checked="innerParam.columnCustomChecked(column.field)" my-click="innerParam.columnCustomClick(gridParam.columnCustom, column.field)"> {{column.title}} </md-checkbox> </md-menu-item> </md-menu-content> </md-menu> </div> </md-toolbar> <md-toolbar class="md-table-toolbar alternate" ng-show="gridParam.toolbar && !innerParam.showRowEdit && gridParam.selected.length == 1"> <div class="md-toolbar-tools"> <span class="md-table-title">{{gridParam.title}}</span> <div flex></div> <md-button class="md-icon-button" ng-repeat="btn in gridParam.btns.singleSelected" ng-click="btn.click(gridParam.selected, $event)" aria-label="{{btn.text}}"> <md-tooltip md-direction="bottom">{{btn.text}}</md-tooltip> <md-icon>{{btn.iconClass}}</md-icon> </md-button> </div> </md-toolbar> <md-toolbar class="md-table-toolbar alternate" ng-show="gridParam.toolbar && !innerParam.showRowEdit && gridParam.selected.length > 1"> <div class="md-toolbar-tools"> <span class="md-table-title">{{gridParam.title}}</span> <div flex></div> <md-button class="md-icon-button" ng-repeat="btn in gridParam.btns.multipleSelected" ng-click="btn.click(gridParam.selected, $event)" aria-label="{{btn.text}}"> <md-tooltip md-direction="bottom">{{btn.text}}</md-tooltip> <md-icon>{{btn.iconClass}}</md-icon> </md-button> </div> </md-toolbar> <md-toolbar class="md-table-toolbar md-default" ng-show="gridParam.toolbar && innerParam.searchBar && gridParam.selected.length == 0"> <div class="md-toolbar-tools"> <form flex> <input type="text" class="filter-input" ng-model="gridParam.filter" ng-model-options="innerParam.filter.options" placeholder="查询条件..."> </form> <md-button ng-if="gridParam.searchTemplate" class="md-icon-button" aria-label="高级查询" ng-click="innerParam.showSearchAdvanced()"> <md-tooltip md-direction="bottom">高级查询</md-tooltip> <md-icon>searched</md-icon> </md-button> <md-button class="md-icon-button" aria-label="关闭" ng-click="gridParam.closeSearchBar()"> <md-icon>close</md-icon> </md-button> </div> </md-toolbar> <md-toolbar class="md-table-toolbar alternate" ng-show="gridParam.toolbar && innerParam.showRowEdit"> <div class="md-toolbar-tools"> <span class="md-table-title">{{gridParam.title}}</span> <div flex></div> <md-button type="submit" class="md-icon-button" aria-label="提交" ng-click="gridParam.rowEditSubmit()" ng-disabled="innerParam.isRowEditSubmit"> <md-tooltip md-direction="bottom">提交</md-tooltip> <md-icon>check</md-icon> </md-button> <md-button class="md-icon-button" aria-label="关闭" ng-click="gridParam.closeRowEdit()"> <md-icon>close</md-icon> </md-button> </div> </md-toolbar> <md-table-container class="table-container"> <table md-table ng-model="gridParam.selected" md-row-select="gridParam.rowSelection" multiple> <thead fix-head md-head md-order="gridParam.order" md-on-reorder="gridParam.onReorder"> <tr md-row ng-if="gridParam.typeColumns" ng-repeat="typeColumnTr in gridParam.typeColumns" class="type-head-row"> <th md-column ng-repeat="typeColumn in typeColumnTr" ng-class="{\'fixed-column\': typeColumn.isFixed, \'type-column\': typeColumn.title}" colspan="{{typeColumn.colspan}}"> <span>{{typeColumn.title}}</span> </th> <th md-column ng-class="{\'type-column-last\': typeColumnTr[typeColumnTr.length-1].title}" style="width: 100%"></th> </tr> <tr md-row> <th md-column ng-repeat="column in gridParam.columns" ng-if="!column.isHide" ng-class="{\'fixed-column\': column.isFixed}" md-order-by="{{column.enableSort==null?\'\':column.enableSort}}" md-desc="{{column.descFirst?true:false}}" style="width: {{column.width+\'px\'}};min-width: {{column.width+\'px\'}};max-width: {{column.width+\'px\'}}" md-numeric="column.isNumeric"> <span>{{column.title}}</span> </th> <th md-column style="width: 100%"></th> </tr> </thead> <tbody md-body> <tr md-row ng-if="innerParam.showRowEdit" class="edit-row" ng-include="gridParam.rowEditTemplate"></tr> <tr md-row ng-repeat="dessert in innerParam.gridFiltered = (gridParam.desserts.data | filter: innerParam.getFilter(gridParam)) | orderBy: innerParam.orderBy(gridParam) | limitTo: innerParam.limitTo(gridParam) : innerParam.limitToBegin(gridParam)" md-select="dessert" md-on-select="gridParam.onSelect" md-on-deselect="gridParam.onDeselect" ng-disabled="gridParam.ngDisabled(dessert)" md-select-id="{{gridParam.idField}}" md-auto-select="gridParam.autoSelect" pea-dblclick="gridParam.dblClick(dessert)" style="background-color: {{gridParam.rowStyler==null?\'\':gridParam.rowStyler(dessert)}}"> <td md-cell ng-repeat="column in gridParam.columns" ng-if="!column.isHide" ng-class="{\'fixed-column\': column.isFixed, \'no-line-wrap\': !column.isLineWrap, \'md-placeholder\': !dessert[column.field], \'no-click\': !column.edit}" ng-click="column.edit(dessert, column.field, $event)" style="width: {{column.width+\'px\'}};min-width: {{column.width+\'px\'}};max-width: {{column.width+\'px\'}};color: {{column.styler==null?\'\':column.styler(dessert[column.field], dessert)}}"> {{dessert[column.field] ? (column.formatter==null?dessert[column.field]:column.formatter(dessert[column.field], dessert)) : column.editComment}} </td> <td style="width:100%" md-cell></td> </tr> </tbody> </table> </md-table-container> <div class="pea-table-total" ng-if="gridParam.desserts.total"> <table md-table> <tbody md-body class="pea-tbody-total"> <tr md-row> <td md-cell class="md-checkbox-cell" ng-if="gridParam.rowSelection" style="width: 44px; min-width: 44px; max-width: 44px; padding: 0"></td> <td md-cell ng-repeat="column in gridParam.columns" ng-if="!column.isHide" ng-class="{\'fixed-column\': column.isFixed, \'td-right\': column.isNumeric, \'td-first\': $first && gridParam.rowSelection}" style="width: {{column.width+\'px\'}}; min-width: {{column.width+\'px\'}}; max-width: {{column.width+\'px\'}}"> {{gridParam.desserts.total[column.field]}} </td> <td style="width:100%" md-cell></td> </tr> </tbody> </table> </div> <md-table-pagination ng-show="gridParam.pagination" md-label="{page: \'页码:\', rowsPerPage: \'行数:\', of: \'/\'}" md-limit="gridParam.limit" md-limit-options="gridParam.limitOptions" md-page="gridParam.page" md-total="{{innerParam.getTotal()}}" md-page-select="gridParam.pageSelect" md-boundary-links="gridParam.boundaryLinks" md-on-paginate="gridParam.onPaginate"> </md-table-pagination> </div> </form> </md-card>'),a.put("app/templates/list-2-cols.html",'<div layout="row" flex default-hotkeys list2cols> <md-card flex="15"> <md-content> <div class="quick-search" layout-padding> <md-input-container md-no-float> <input id="qs" ng-model="qsText" placeholder="模糊搜索" ng-change="resetList()" auto-focus> </md-input-container> </div> <md-list> <md-list-item ng-repeat="item in items" aria-label="list-item" ng-click="clickListItem(item)"> <span ng-bind-template="{{ listItemTemplate(item) }}"></span> </md-list-item> </md-list> <div align="center"> <md-button class="md-icon-button" ng-show="showMoreListItems" ng-click="getMoreListItems()"> <md-tooltip>加载更多</md-tooltip> <md-icon>keyboard_control</md-icon> </md-button> </div> </md-content> </md-card> <md-card flex> <ng-include src="contentPageUrl"></ng-include> </md-card> </div> <md-fab-speed-dial md-direction="left" class="md-fling md-fab-bottom-right" md-open="isMenusOpen" ng-mouseenter="isMenusOpen=true" ng-mouseleave="isMenusOpen=false" style="position: fixed" ng-cloak ng-show="fabBtns"> <md-fab-trigger> <md-button aria-label="menu" class="md-fab md-warn"> <md-tooltip md-direction="top">菜单</md-tooltip> <md-icon md-font-icon="material-icons">menu</md-icon> </md-button> </md-fab-trigger> <md-fab-actions> <div ng-repeat="btn in fabBtns"> <md-button class="md-fab md-warn md-mini" aria-label="{{ btn.ariaLabel }}" ng-click="btn.click()"> <md-tooltip md-direction="top">{{ btn.tooltip }}</md-tooltip> <md-icon md-font-icon="material-icons">{{ btn.icon }}</md-icon> </md-button> </div> </md-fab-actions> </md-fab-speed-dial>'),a.put("app/templates/tree-grid.html",'<div layout="row" flex tree-grid> <md-card flex="15"> <md-content layout="row" flex layout-padding> <pea-tree></pea-tree> </md-content> </md-card> <md-card flex> <md-toolbar class="md-table-toolbar md-default" ng-show="!gridOptions.showFilter && !gridOptions.selected.length"> <div class="md-toolbar-tools"> <h2 class="md-title">{{ gridOptions.title }}</h2> <div flex></div> <md-button ng-show="gridOptions.createable" class="md-icon-button" ng-click="gridOptions.addItem($event)" aria-label="New" title="新建"> <md-icon md-font-icon="md-material">add</md-icon> </md-button> <md-button ng-show="gridOptions.filterable" class="md-icon-button" ng-click="gridOptions.showFilter = true" aria-label="Search" title="搜索"> <md-icon md-font-icon="md-material">search</md-icon> </md-button> </div> </md-toolbar> <md-toolbar class="md-table-toolbar md-default" ng-show="gridOptions.showFilter && !gridOptions.selected.length"> <div class="md-toolbar-tools"> <md-input-container flex md-no-float> <md-icon md-font-icon="md-material" style="top: 30px">search</md-icon> <input type="text" ng-model="gridOptions.query.filter" placeholder="search" style="margin-top: 25px"> </md-input-container> <md-button class="md-icon-button" ng-click="gridOptions.showFilter = false;gridOptions.query.filter = \'\'" aria-label="Close" title="关闭"> <md-icon md-font-icon="md-material">close</md-icon> </md-button> </div> </md-toolbar> <md-toolbar class="md-table-toolbar md-default" ng-show="gridOptions.selected.length" style="color: #1e88e5; background-color: #e3f2fd"> <div class="md-toolbar-tools"> <h2 class="md-title">选中 {{gridOptions.selected.length}} 项</h2> <div flex></div> <md-button ng-show="gridOptions.editable" class="md-icon-button" ng-show="gridOptions.selected.length == 1" aria-label="Edit" ng-click="gridOptions.editItem($event)" title="编辑"> <md-icon md-font-icon="md-material">mode_edit</md-icon> </md-button> <md-button ng-show="gridOptions.deleteable" class="md-icon-button" aria-label="Delete" title="删除" ng-click="gridOptions.delItem()"> <md-icon md-font-icon="md-material">delete</md-icon> </md-button> <md-button class="md-icon-button" ng-click="gridOptions.selected = []" aria-label="Close" title="清除所选"> <md-icon md-font-icon="md-material">close</md-icon> </md-button> </div> </md-toolbar> <md-table-container> <table md-table md-row-select ng-model="gridOptions.selected" md-progress="deferred"> <thead md-head md-order="gridOptions.query.order" md-on-reorder="gridOptions.onReorder"> <tr md-row> <th md-column ng-repeat="h in gridOptions.head" md-order-by="{{h.orderBy}}">{{h.label}}</th> </tr> </thead> <tbody md-body> <tr md-row md-auto-select md-select="item" ng-repeat="item in gridOptions.items.data | filter: gridOptions.query.filter | orderBy: gridOptions.query.order | limitTo: gridOptions.query.limit: (gridOptions.query.page - 1) * gridOptions.query.limit"> <td md-cell ng-repeat="b in gridOptions.body" ng-bind="{{b}}"></td> <td md-cell ng-show="gridOptions.editable || gridOptions.deleteable"> <md-button ng-show="gridOptions.editable" class="md-icon-button" aria-label="Edit" ng-click="gridOptions.editItem($event)" title="编辑"> <md-icon md-font-icon="md-material">mode_edit</md-icon> </md-button> <md-button ng-show="gridOptions.deleteable" class="md-icon-button" aria-label="Delete" title="删除" ng-click="gridOptions.delItem()"> <md-icon md-font-icon="md-material">delete</md-icon> </md-button> </td> </tr> </tbody> </table> </md-table-container> <md-table-pagination md-label="{page: \'页\',rowsPerPage: \'每页行数\',of: \'/\'}" md-options="[10,15,20,50,100]" md-limit="gridOptions.query.limit" md-page="gridOptions.query.page" md-total="{{gridOptions.query.filter ? (gridOptions.items.data | filter:gridOptions.query.filter).length : gridOptions.items.total}}" md-page-select md-boundary-links md-on-paginate="gridOptions.onPaginate"> </md-table-pagination> </md-card> </div>'),
a.put("modules/auth/login/login.html",'<div layout layout-align="center center" flex> <md-card> <form name="loginForm" layout-padding ng-submit="login()"> <md-content layout="column"> <md-input-container> <label>用户名</label> <input id="uname" ng-model="user.username" auto-focus required> </md-input-container> <md-input-container> <label>密码</label> <input ng-model="user.pwd" type="password" required> </md-input-container> <md-button type="submit" class="md-raised md-primary" ng-disabled="loginForm.$invalid || logging"> 登录 </md-button> <div ng-show="loginErr && loginForm.$invalid">登录失败</div> </md-content> </form> <md-progress-linear md-mode="query" ng-show="logging"></md-progress-linear> </md-card> </div>'),a.put("modules/feedback/operation.html",'<pea-grid grid-param="gridParam"></pea-grid>'),a.put("modules/feedback/operationDialog.html",'<md-dialog ng-cloak style="width:800px"> <form name="opinionForm"> <md-dialog-content class="md-dialog-content"> <h2 class="md-title">意见反馈信息</h2> <div layout-gt-sm="row"> <md-input-container class="md-block" flex-gt-sm> <label>姓名</label> <input required name="userName" ng-model="opinion.userName" readonly> </md-input-container> <md-input-container class="md-block" flex-gt-sm> <label>电话</label> <input name="userTel" ng-model="opinion.userTel" readonly> </md-input-container> <md-input-container class="md-block" flex-gt-sm> <label>反馈状态</label> <md-select ng-model="selectedfeedbackType.code"> <md-option ng-repeat="feedbackType in thefeedbackTypes" value="{{feedbackType.code}}" ng-selected="selectedfeedbackType.code==feedbackType.code"> {{feedbackType.name}} </md-option> </md-select> <div class="md-errors-spacer"></div> </md-input-container> </div> <div layout-gt-sm="row"> <md-input-container class="md-block" flex-gt-sm> <label>意见提出时间</label> <input name="opinionTime" ng-model="opinion.opinionTime" readonly> </md-input-container> <md-input-container class="md-block" flex-gt-sm> <label>意见反馈时间</label> <input name="feedbackTime" ng-model="opinion.feedbackTime" readonly> </md-input-container> </div> <div layout-gt-sm="row"> <md-input-container class="md-block" flex-gt-sm> <label>用户意见</label> <textarea name="opinion" ng-model="opinion.opinion" readonly></textarea> </md-input-container> </div> <div layout-gt-sm="row"> <md-input-container class="md-block" flex-gt-sm> <label>用户历史意见</label> <textarea name="opinion" ng-model="opinion.opinion" readonly></textarea> </md-input-container> </div> <div layout-gt-sm="row"> <md-input-container class="md-block" flex-gt-sm> <label>反馈意见</label> <textarea name="feedback" ng-model="opinion.feedback" required></textarea> </md-input-container> </div> </md-dialog-content> <md-dialog-actions> <span flex></span> <md-button ng-disabled="isSubmit" ng-click="cancel()"> 关闭 </md-button> <md-button type="submit" class="md-primary" ng-disabled="isSubmit" ng-click="submit()"> 提交 </md-button> </md-dialog-actions> </form> </md-dialog>'),a.put("modules/feedback/operationSearch.html",'<div layout-gt-sm="row"> <md-input-container class="md-block" flex-gt-sm> <label>姓名</label> <input ng-model="gridParam.searchData.userName"> </md-input-container> <md-input-container class="md-block" flex-gt-sm> <label>手机号</label> <input ng-model="gridParam.searchData.userTel"> </md-input-container> <md-input-container class="md-block" flex-gt-sm> <label>反馈状态</label> <md-select ng-model="gridParam.searchData.statusCode"> <md-option ng-repeat="opStatus in gridParam.searchInitData.statusCode" value="{{opStatus.code}}"> {{opStatus.name}} </md-option> </md-select> <div class="md-errors-spacer"></div> </md-input-container> </div> <div layout-gt-sm="row"> <md-input-container class="md-block" flex-gt-sm> <label>用户意见</label> <textarea ng-model="gridParam.searchData.opinion"></textarea> </md-input-container> <md-input-container class="md-block" flex-gt-sm> <label>反馈意见</label> <textarea ng-model="gridParam.searchData.feedback"></textarea> </md-input-container> </div>'),a.put("modules/feedback/operationView.html",'<div layout="column" class="operationview-content"> <md-content style="overflow-x:hidden"> <div layout="column" style="background-color: #fff"> <div class="operationview-title"> <h3>意见反馈信息</h3> <md-button class="md-icon-button operationview-icon" type="button" ng-click="gotoList()" aria-label="切换"> <md-icon class="icon">view_list</md-icon> </md-button> </div> </div> <div layout="column" class="operationview-bar"> <md-dialog-content class="md-dialog-content"> <h2 class="operationview-bar-title">查询条件</h2> <div layout-gt-sm="row"> <md-input-container class="md-block" flex-gt-sm> <label>姓名</label> <input name="userName" ng-model="filterName"> </md-input-container> <md-input-container class="md-block" flex-gt-sm> <label>电话</label> <input name="userTel" ng-model="filterTel"> </md-input-container> <md-input-container class="md-block" flex-gt-sm> <label>反馈状态</label> <md-select ng-model="selectedopStatus.code"> <md-option ng-repeat="feedbackType in opStatus" value="{{feedbackType.code}}"> {{feedbackType.name}} </md-option> </md-select> </md-input-container> <md-input-container class="md-block" flex-gt-sm> <label>用户意见</label> <textarea name="opinion" ng-model="filterUserOp"></textarea> </md-input-container> <md-input-container class="md-block" flex-gt-sm> <label>反馈意见</label> <textarea name="feedback" ng-model="filterFeedOp"></textarea> </md-input-container> </div> <button ng-click="operationViewSearch()">查询</button> </md-dialog-content> </div> <div class="operationview-piece-title">意见反馈信息列表(双击可回复)</div> <ul class="waterfall-list" ng-waterfall cols="3"> <li ng-repeat="feedBackData in feedBackDatasAll" ng-dblclick="gotoDialog(feedBackData.userId)" repeat-finished class="single-member effect-1"> <md-card> <div class="member-info data-block"> <h3 ng-class="{\'operationview-piece-red\':feedBackData.statusCode==\'0\',\'operationview-piece-green\':feedBackData.statusCode==\'1\',\'operationview-piece-blue\':feedBackData.statusCode==\'2\'}"> <div class="ul-li-h3-div-left">{{feedBackData.userName}}</div> <div class="ul-li-h3-div-right"><b>电话: </b>{{feedBackData.userTel}}</div> </h3> <p><b>意见提出时间: </b>{{feedBackData.opinionTime}}</p> <p><b>用户意见: </b>{{feedBackData.opinion}}</p> </div> </md-card> </li> <div class="loadMore" ng-if="loadMore" ng-infinite-scroll ng-click="loadMoreData()">{{text}}</div> </ul> </md-content> </div>'),a.put("modules/hospitalnavigation/build/build.html",'<div layout-gt-sm="row"> <div flex flex-gt-sm="30" class="pea-layout-left"> <pea-grid grid-param="gridParamType"></pea-grid> </div> <div flex flex-gt-sm="70" class="pea-layout-right"> <pea-grid grid-param="gridParamItem"></pea-grid> </div> </div>'),a.put("modules/hospitalnavigation/build/leftDialog.html",'<md-dialog ng-cloak style="width:800px"> <form name="buildForm"> <md-dialog-content class="md-dialog-content"> <h2 class="md-title">楼宇信息</h2> <div ng-show="showDis" layout-gt-sm="row"> <md-input-container class="md-block" flex-gt-sm> <label>院区</label> <md-select name="districtCode" ng-model="build.districtCode" required> <md-option ng-repeat="district in districts" value="{{district.id}}"> {{district.name}} </md-option> </md-select> <div class="md-errors-spacer"></div> </md-input-container> </div> <div layout-gt-sm="row"> <md-input-container class="md-block" flex-gt-sm> <label>楼宇名称</label> <textarea name="buildingName" ng-model="build.buildingName" required></textarea> </md-input-container> </div> </md-dialog-content> <md-dialog-actions> <span flex></span> <md-button ng-disabled="isSubmit" ng-click="cancel()"> 关闭 </md-button> <md-button type="submit" class="md-primary" ng-disabled="isSubmit" ng-click="submit()"> 提交 </md-button> </md-dialog-actions> </form> </md-dialog>'),a.put("modules/hospitalnavigation/build/leftSearch.html",'<div layout-gt-sm="row"> <md-input-container class="md-block" flex-gt-sm> <label>院区</label> <md-select ng-model="gridParam.searchData.districtCode"> <md-option ng-repeat="distric in gridParam.searchInitData.districtCode" value="{{distric.id}}"> {{distric.name}} </md-option> </md-select> <div class="md-errors-spacer"></div> </md-input-container> </div> <div layout-gt-sm="row"> <md-input-container class="md-block" flex-gt-sm> <label>楼宇名称</label> <textarea ng-model="gridParam.searchData.buildingName"></textarea> </md-input-container> </div>'),a.put("modules/hospitalnavigation/build/rightDialog.html",'<md-dialog ng-cloak style="width:800px"> <form name="floorForm"> <md-dialog-content class="md-dialog-content"> <h2 class="md-title">楼层科室信息</h2> <input type="hidden" ng-model="floor.floorParentId"> <div layout-gt-sm="row"> <md-input-container class="md-block" flex-gt-sm> <label>楼层名称</label> <input name="floorName" ng-model="floor.floorName" required> </md-input-container> </div> <div layout-gt-sm="row"> <md-input-container class="md-block" flex-gt-sm> <label>科室名称( 注意:科室之间需要用半角符号 ^ 作为区分 例如: 磁共振CT室^DR室)</label> <textarea name="deptName" ng-model="floor.deptName" required></textarea> </md-input-container> </div> </md-dialog-content> <md-dialog-actions> <span flex></span> <md-button ng-disabled="isSubmit" ng-click="cancel()"> 关闭 </md-button> <md-button type="submit" class="md-primary" ng-disabled="isSubmit" ng-click="submit()"> 提交 </md-button> </md-dialog-actions> </form> </md-dialog>'),a.put("modules/hospitalnavigation/build/rightSearch.html",'<div layout-gt-sm="row"> <!--<md-input-container class="md-block" flex-gt-sm>--> <!--<label>楼层名称</label>--> <!--<textarea ng-model="gridParam.searchData.floorName"></textarea>--> <!--</md-input-container>--> <!--</div>--> <md-input-container class="md-block" flex-gt-sm> <label>科室名称</label> <textarea ng-model="gridParam.searchData.deptName"></textarea> </md-input-container> </div>'),a.put("modules/hospitalnavigation/district/district.html",'<pea-grid grid-param="gridParam"></pea-grid>'),a.put("modules/hospitalnavigation/district/districtDialog.html",'<md-dialog ng-cloak style="width:800px"> <form name="districtForm"> <md-dialog-content class="md-dialog-content"> <h2 class="md-title">院区信息</h2> <div layout-gt-sm="row"> <md-input-container class="md-block" flex-gt-sm> <label>院区ID</label> <input required name="navId" ng-model="district.navId" required> </md-input-container> <md-input-container class="md-block" flex-gt-sm> <label>院区名称</label> <input name="navName" ng-model="district.navName" required> </md-input-container> </div> </md-dialog-content> <md-dialog-actions> <span flex></span> <md-button ng-disabled="isSubmit" ng-click="cancel()"> 关闭 </md-button> <md-button type="submit" class="md-primary" ng-disabled="isSubmit" ng-click="submit()"> 提交 </md-button> </md-dialog-actions> </form> </md-dialog>'),a.put("modules/hospitalnavigation/district/districtSearch.html",'<div layout-gt-sm="row"> <md-input-container class="md-block" flex-gt-sm> <label>院区ID</label> <input ng-model="gridParam.searchData.navId"> </md-input-container> <md-input-container class="md-block" flex-gt-sm> <label>院区名称</label> <input ng-model="gridParam.searchData.navName"> </md-input-container> </div>'),a.put("modules/main/main.html",'<md-progress-linear md-mode="indeterminate" class="md-primary md-hue-1" ng-show="$root.inProcess"></md-progress-linear> <md-progress-linear md-mode="determinate" class="md-primary" ng-hide="$root.inProcess" value="100"></md-progress-linear> <md-toolbar layout="row" class="md-toolbar-tools md-whiteframe-z1"> <md-button ng-click="toggleSidenav()" class="md-icon-button"> <md-tooltip>Menu</md-tooltip> <md-icon aria-label="Menu" md-font-icon="material-icons">account_circle</md-icon> </md-button> <h1 flex="10">PEA</h1> <h2 flex="80">{{ title }}</h2> <md-button ng-click="openQuickSearch()" class="md-icon-button" aria-label="Search"> <md-tooltip>Search</md-tooltip> <md-icon md-font-icon="material-icons">search</md-icon> </md-button> <md-button ng-click="logout()" class="md-icon-button" aria-label="Quit"> <md-tooltip>Quit</md-tooltip> <md-icon md-font-icon="material-icons">power_settings_new</md-icon> </md-button> </md-toolbar> <div layout="row" flex> <md-sidenav layout="column" class="md-sidenav-left md-whiteframe-z2" md-component-id="menu" ng-include="\'modules/main/sidenav.html\'"> </md-sidenav> <div layout="column" flex> <md-content layout="column" ui-view flex></md-content> </div> </div>'),a.put("modules/main/quick-search.html",'<md-dialog aria-label="quickSearch" layout class="quick-search" style="height: 320px"> <md-content layout="column" layout-padding flex> <md-input-container md-no-float> <input ng-model="qsText" placeholder="快速导航" auto-focus> </md-input-container> <md-list flex> <md-list-item ng-repeat="res in resources | filter: qsText | limitTo: 5" ng-click="clickMenu(res)"> {{ res.name }} </md-list-item> </md-list> </md-content> </md-dialog>'),a.put("modules/main/sidenav.html",'<div layout="column" ng-controller="sidenavCtrl" flex> <md-toolbar class="md-toolbar-tools"> <h1>Menu</h1> </md-toolbar> <md-content flex> <pea-tree></pea-tree> </md-content> <span>test footer</span> </div>'),a.put("modules/mainnew/main.html",'<!-- 首页 --> <div class="main-wrapper" id="main_wrapper" ng-class="[{\'sidebar-mini\': isSidebarDisplayMini, \'sidebar-open\': isSidebarDisplayOpen}, mainSkin]"> <!-- 请求进度条 --> <md-progress-linear md-mode="indeterminate" class="md-accent main-progress-linear" ng-show="$root.inProcess"></md-progress-linear> <!-- 页头 --> <div class="main-header main-shadow"> <!-- logo --> <div class="logo"> <img src="./assets/images/proper_log.png"> <b class="logo-text">协同管理平台</b> </div> <div class="navbar"> <!-- 功能树切换按钮 --> <md-button aria-label="功能树样式" class="md-icon-button" ng-click="sidebarToggleClk()"> <md-icon class="navbar-icon">menu</md-icon> </md-button> <!-- 首页设置和提醒栏 --> <div class="navbar-custom-menu"> <ul> <li> <md-button aria-label="全功能导航" class="md-icon-button" ng-click="toggleResourceNav()"> <md-icon class="navbar-icon">apps</md-icon> </md-button> </li> <li> <md-button aria-label="通知" class="md-icon-button" ng-click="toggleRightNotifications()"> <md-icon class="navbar-icon">notifications</md-icon> <span class="up-label">···</span> </md-button> </li> <li> <md-button aria-label="设置" class="md-icon-button" ng-click="toggleRightSettings()"> <md-icon class="navbar-icon">settings</md-icon> </md-button> </li> <li> <md-menu md-position-mode="target-right target" md-offset="0 52"> <md-button aria-label="用户菜单" class="md-icon-button" ng-click="$mdOpenCloseMenu($event)"> <img src="./assets/images/default_user_image.png" class="user-image"> <span class="user-name">某某某</span> </md-button> <md-menu-content class="user-menu-content"> <md-menu-item> <md-button> <md-icon>person</md-icon> <span>用户信息</span> </md-button> </md-menu-item> <md-menu-item> <md-button> <md-icon>lock</md-icon> <span>修改密码</span> </md-button> </md-menu-item> <md-menu-divider></md-menu-divider> <md-menu-item> <md-button ng-click="logout()"> <md-icon>power_settings_new</md-icon> <span>退出登录</span> </md-button> </md-menu-item> </md-menu-content> </md-menu> </li> </ul> </div> </div> </div> <!-- 功能树 --> <div class="main-sidebar main-shadow" id="menu_sidebar"> <div class="sidebar-content"> <!-- 功能菜单搜索 --> <div class="sidebar-form" id="sidebar_position"> <div class="sidebar-search-group"> <div class="sidebar-search"> <input type="text" id="sidebar_search" name="sidebar_search" class="sidebar-text" placeholder="功能名称..." ng-model="menuSearchStr" ng-model-options="searchStrOptions"> <span class="sidebar-text-btn"> <md-icon class="sidebar-search-icon">search</md-icon> </span> </div> </div> <div class="sidebar-search-mini"> <md-icon class="sidebar-search-icon">search</md-icon> </div> </div> <!-- 功能菜单 --> <ul as-sortable ng-model="resources" class="sidebar-menu" id="menu_ul" ng-include="\'modules/mainnew/sidenav.html\'"> </ul> </div> </div> <!-- 内容区 --> <div class="content-wrapper" id="content_wrapper" ng-click="sidebarHiddenClk()" tabindex="-1"> <div class="main-content" ui-view> </div> </div> <!-- 全功能导航页面 --> <div class="resource-nav" ng-show="resourceNavShow" ng-include="\'modules/mainnew/resnav.html\'"> </div> <!-- 页脚 --> <div class="main-footer"> <div class="footer-content"> <div class="footer-content-in"> <strong>版权所有&nbsp;©&nbsp;沈阳<span>工大普日</span>软件技术有限公司</strong> <div class="footer-version"><strong>Version</strong> 5.0</div> </div> </div> </div> </div> <!-- 通知栏 --> <md-sidenav class="md-sidenav-right md-whiteframe-4dp" md-component-id="rightNotifications"> 通知 </md-sidenav> <!-- 设置栏 --> <md-sidenav class="md-sidenav-right md-whiteframe-4dp sidenav-settings" md-component-id="rightSettings" ng-include="\'modules/mainnew/settings.html\'"> </md-sidenav>'),a.put("modules/mainnew/resnav.html",'<div class="resource-nav-in" layout="row" layout-xs="column" layout-sm="column"> <div class="resource-nav-left" flex-md="25" flex-gt-md="20"> <md-card class="card-title"> 功能导航 </md-card> <md-card class="card-nav"> <ul> <li> <div class="nav-search"> <input type="text" id="nav_search" name="nav_search" class="nav-text" placeholder="功能名称..." ng-model="resnav.searchStr" ng-model-options="searchStrOptions"> <span class="nav-btn"> <md-icon class="nav-btn-icon">search</md-icon> </span> </div> </li> <li ng-repeat="resource in resnav.resourceall"> <md-checkbox aria-label="{{resource.name}}" ng-checked="isCheckedResModule(resource)" md-indeterminate="isIndeterminateResModule(resource)" ng-click="toggleResModuleAll(resource)"></md-checkbox> <md-button ng-click="resourceNavScroll(resource.code)"> <span>{{resource.name}}</span> <md-icon class="card-nav-icon pull-right">chevron_right</md-icon> </md-button> </li> </ul> </md-card> </div> <div class="resource-nav-right" flex-md="75" flex-gt-md="80"> <md-card ng-if="resource.isSearch != \'0\'" ng-repeat="resource in resnav.resourceall" class="nav-type pea-card" id="{{\'resnavCard_\' + resource.code}}"> <div class="nav-type-title"> {{resource.name}} <md-button class="md-icon-button nav-show-btn" ng-click="toggleNavTypeContent(resource.code)"> <md-icon ng-show="!navTypeContentShow(resource.code)">add</md-icon> <md-icon ng-show="navTypeContentShow(resource.code)">remove</md-icon> </md-button> </div> <div class="nav-type-content" id="{{\'navTypeContent_\' + resource.code}}"> <fieldset ng-if="resType.isSearch != \'0\'" ng-repeat="resType in resource.treeMenu" class="content-fieldset"> <legend class="fieldset-title"> <md-checkbox aria-label="{{resType.name}}" ng-checked="isCheckedResModule(resType)" md-indeterminate="isIndeterminateResModule(resType)" ng-click="toggleResModuleAll(resType)">{{resType.name}}</md-checkbox> </legend> <md-grid-list class="fieldset-content" md-cols-xs="1" md-cols-sm="2" md-cols-md="3" md-cols-lg="4" md-cols-gt-lg="6" md-row-height="25px" md-gutter="5px"> <md-grid-tile ng-if="resModule.isSearch != \'0\'" ng-repeat="resModule in resType.treeMenu"> <md-checkbox aria-label="{{resModule.name}}" ng-checked="existsResModule(resModule, resType)" ng-click="toggleResModule(resModule, resType)"></md-checkbox> <a href="javascript:void(0)" ng-click="resourceNavRouter(resModule.url)">{{resModule.name}}</a> </md-grid-tile> </md-grid-list> </fieldset> </div> </md-card> </div> </div>'),a.put("modules/mainnew/settings.html",'<div class="settings-content"> <h4>皮肤</h4> <ul class="settings-skins"> <li class="settings-li-first" ng-repeat="skin in skins"> <a href="javascript:void(0);" ng-click="setSkin(skin)"> <div> <span class="settings-skins-logo" ng-class="getSkinId(skin)"></span> <span class="settings-skins-head" ng-class="skin.primary + \'-light\'"></span> </div> <div> <span class="settings-skins-sidenav" ng-class="\'sidenav-\' + (skin.light ? \'light\' : \'dark\') + \'-color\'"></span> <span class="settings-skins-content content-color"></span> </div> </a> <p>{{ skin.text }}</p> </li> </ul> </div>'),a.put("modules/mainnew/sidenav.html",'<li as-sortable-item ng-if="resource.isSearch !== \'0\'" ng-repeat="resource in resources" ng-class="{\'01\': \'treeview\'}[\'\'+resource.isLeaf+resource.level]"> <md-button as-sortable-item-handle ng-if="resource.level === 1" class="btn-menu" ng-click="sidebarMenuOpenClk(resource, $event)"> <md-icon class="sidebar-menu-icon">{{resource.icon}}</md-icon> <span>{{resource.name}}</span> <md-icon class="sidebar-menu-icon pull-right" ng-if="resource.isLeaf == \'0\'">chevron_left</md-icon> </md-button> <a ng-if="resource.level !== 1" href="javascript:void(0)" ng-click="sidebarMenuOpenClk(resource, $event)"> <md-icon class="sidebar-menu-icon">{{resource.icon}}</md-icon> <span>{{resource.name}}</span> <md-icon class="sidebar-menu-icon pull-right" ng-if="resource.isLeaf == \'0\'">chevron_left</md-icon> </a> <ul class="treeview-menu" ng-if="resource.isLeaf == \'0\'" ng-include="\'modules/mainnew/sidenav.html\'" ng-init="resources=resource.treeMenu"></ul> </li>'),a.put("modules/photo/carousel.html",'<pea-grid grid-param="gridParam"></pea-grid>'),a.put("modules/playground/grid/basic.html",'<pea-grid grid-param="gridParam"></pea-grid>'),a.put("modules/playground/grid/layoutLr.html",'<div layout-gt-sm="row"> <div flex flex-gt-sm="40" class="pea-layout-left"> <pea-grid grid-param="gridParamType"></pea-grid> </div> <div flex flex-gt-sm="60" class="pea-layout-right"> <pea-grid grid-param="gridParamItem"></pea-grid> </div> </div>'),a.put("modules/playground/grid/layoutLtb.html",'<div layout-gt-sm="row"> <div flex flex-gt-sm="40" class="pea-layout-left"> <pea-grid grid-param="gridParamP"></pea-grid> </div> <div flex layout="column"> <div flex layout="column" class="pea-layout-right-top"> <pea-grid grid-param="gridParamC"></pea-grid> </div> <div flex layout="column" class="pea-layout-right-bottom"> <pea-grid grid-param="gridParamL"></pea-grid> </div> </div> </div>'),a.put("modules/playground/grid/operationDialog.html",'<md-dialog ng-cloak> <form name="userForm"> <md-dialog-content class="md-dialog-content"> <h2 class="md-title">用户信息</h2> <div layout-gt-sm="row"> <md-input-container class="md-block" flex-gt-sm> <label>姓名</label> <input required name="name" ng-model="user.name"> </md-input-container> <md-input-container class="md-block" flex-gt-sm> <label>年龄</label> <input type="number" name="age" ng-model="user.age"> </md-input-container> </div> <div layout-gt-sm="row"> <md-input-container class="md-block" flex-gt-sm> <label>科室</label> <input name="dept" ng-model="user.dept"> </md-input-container> <md-input-container class="md-block" flex-gt-sm> <label>职称</label> <input name="title" ng-model="user.title"> </md-input-container> </div> <div layout-gt-sm="row"> <md-input-container class="md-block" flex-gt-sm> <label>学历</label> <md-select name="education" ng-model="user.education"> <md-option ng-repeat="education in educations" value="{{education.id}}"> {{education.name}} </md-option> </md-select> <div class="md-errors-spacer"></div> </md-input-container> <md-input-container class="md-block" flex-gt-sm> <label>职务</label> <input name="job" ng-model="user.job"> </md-input-container> </div> <div layout-gt-sm="row"> <md-input-container class="md-block" flex-gt-sm="100"> <label>备注</label> <input name="remark" ng-model="user.remark" md-maxlength="30"> </md-input-container> </div> </md-dialog-content> <md-dialog-actions> <span flex></span> <md-button ng-disabled="isSubmit" ng-click="cancel()"> 关闭 </md-button> <md-button type="submit" class="md-primary" ng-disabled="isSubmit" ng-click="submit()"> 提交 </md-button> </md-dialog-actions> </form> </md-dialog>'),a.put("modules/playground/grid/operationSearch.html",'<div layout-gt-sm="row"> <md-input-container class="md-block" flex-gt-sm> <label>姓名</label> <input ng-model="gridParam.searchData.name"> </md-input-container> <md-input-container class="md-block" flex-gt-sm> <label>科室</label> <input ng-model="gridParam.searchData.dept"> </md-input-container> <md-input-container class="md-block" flex-gt-sm> <label>学历</label> <md-select ng-model="gridParam.searchData.education"> <md-option ng-repeat="education in gridParam.searchInitData.educations" value="{{education.id}}"> {{education.name}} </md-option> </md-select> <div class="md-errors-spacer"></div> </md-input-container> </div> <div layout-gt-sm="row"> <md-input-container class="md-block" flex-gt-sm="100"> <label>职务</label> <input ng-model="gridParam.searchData.job"> </md-input-container> </div>'),a.put("modules/playground/grid/rowEdit.html",'<td md-cell> <md-input-container md-no-float class="md-block"> <input md-autofocus required ng-model="gridParam.rowEditData.name" placeholder="姓名"> </md-input-container> </td> <td md-cell> <md-input-container md-no-float class="md-block"> <input type="number" ng-model="gridParam.rowEditData.age" placeholder="年龄"> </md-input-container> </td> <td md-cell> <md-input-container md-no-float class="md-block"> <input ng-model="gridParam.rowEditData.dept" placeholder="科室"> </md-input-container> </td> <td md-cell> <md-input-container md-no-float class="md-block"> <input ng-model="gridParam.rowEditData.job" placeholder="职务"> </md-input-container> </td> <td md-cell> <md-input-container md-no-float class="md-block"> <input ng-model="gridParam.rowEditData.title" placeholder="职称"> </md-input-container> </td> <td md-cell> <md-input-container md-no-float class="md-block"> <md-select ng-model="gridParam.rowEditData.education" placeholder="学历"> <md-option ng-repeat="education in gridParam.rowEditInitData.educations" value="{{education.id}}"> {{education.name}} </md-option> </md-select> </md-input-container> </td> <td md-cell> <md-input-container md-no-float class="md-block"> <input ng-model="gridParam.rowEditData.remark" placeholder="备注"> </md-input-container> </td>'),a.put("modules/playground/iframe/iframe.html",'<div layout="row" flex> <iframe flex ng-src="{{ iframeSrc }}" frameborder="0"></iframe> </div>'),a.put("modules/playground/test/test.html",'<div ng-controller="DemoCtrl as demo" layout="column" ng-cloak class="test"> <md-content class="md-padding" layout="column"> <p> You may supply a direction of <code>left</code>, <code>up</code>, <code>down</code>, or <code>right</code> through the <code>md-direction</code> attribute. </p> <div class="lock-size" layout="row" layout-align="center center"> <md-fab-speed-dial md-open="demo.isOpen" md-direction="{{demo.selectedDirection}}" ng-class="demo.selectedMode"> <md-fab-trigger> <md-button aria-label="menu" class="md-fab md-warn"> <md-icon md-font-icon="material-icon">menu</md-icon> </md-button> </md-fab-trigger> <md-fab-actions> <md-button aria-label="Twitter" class="md-fab md-warn md-mini"> <md-icon md-font-icon="material-icon">face</md-icon> </md-button> <md-button aria-label="Facebook" class="md-fab md-warn md-mini"> <md-icon md-font-icon="material-icon">face</md-icon> </md-button> <md-button aria-label="Google Hangout" class="md-fab md-warn md-mini"> <md-icon md-font-icon="material-icon">face</md-icon> </md-button> </md-fab-actions> </md-fab-speed-dial> </div> <div layout="row" layout-align="space-around"> <div layout="column" layout-align="start center"> <b>Direction</b> <md-radio-group ng-model="demo.selectedDirection"> <md-radio-button ng-repeat="direction in demo.availableDirections" ng-value="direction" class="text-capitalize"> {{direction}} </md-radio-button> </md-radio-group> </div> <div layout="column" layout-align="start center"> <b>Open/Closed</b> <md-checkbox ng-model="demo.isOpen"> Open </md-checkbox> </div> <div layout="column" layout-align="start center"> <b>Animation Modes</b> <md-radio-group ng-model="demo.selectedMode"> <md-radio-button ng-repeat="mode in demo.availableModes" ng-value="mode"> {{mode}} </md-radio-button> </md-radio-group> </div> </div> </md-content> <md-card> <h2>tree test</h2> <pea-tree></pea-tree> </md-card> </div>'),a.put("modules/prompt/tips.html",'<pea-grid grid-param="gridParam"></pea-grid>'),a.put("modules/prompt/tipsDialog.html",'<md-dialog ng-cloak style="width:800px"> <form name="tipsForm"> <md-dialog-content class="md-dialog-content"> <h2 class="md-title">温馨提示信息</h2> <div layout-gt-sm="row"> <md-input-container class="md-block" flex-gt-sm> <label>温馨提示类型编码</label> <input required name="infoType" ng-model="tips.infoType" required> </md-input-container> <md-input-container class="md-block" flex-gt-sm> <label>温馨提示类型名称</label> <input name="typeName" ng-model="tips.typeName" required> </md-input-container> </div> <div layout-gt-sm="row"> <md-input-container class="md-block" flex-gt-sm> <label>温馨提示内容</label> <textarea name="info" ng-model="tips.info" required></textarea> </md-input-container> </div> </md-dialog-content> <md-dialog-actions> <span flex></span> <md-button ng-disabled="isSubmit" ng-click="cancel()"> 关闭 </md-button> <md-button type="submit" class="md-primary" ng-disabled="isSubmit" ng-click="submit()"> 提交 </md-button> </md-dialog-actions> </form> </md-dialog>'),a.put("modules/prompt/tipsSearch.html",'<div layout-gt-sm="row"> <md-input-container class="md-block" flex-gt-sm> <label>温馨提示类型编码</label> <input ng-model="gridParam.searchData.infoType"> </md-input-container> <md-input-container class="md-block" flex-gt-sm> <label>温馨提示类型名称</label> <input ng-model="gridParam.searchData.typeName"> </md-input-container> </div> <div layout-gt-sm="row"> <md-input-container class="md-block" flex-gt-sm> <label>温馨提示内容</label> <textarea ng-model="gridParam.searchData.info"></textarea> </md-input-container> </div>'),a.put("modules/registration/rules.html",'<pea-grid grid-param="gridParam"></pea-grid>'),a.put("modules/registration/rulesDialog.html",'<md-dialog ng-cloak style="width:800px"> <form name="rulesForm"> <md-dialog-content class="md-dialog-content"> <h2 class="md-title">挂号规则信息</h2> <div layout-gt-sm="row"> <md-input-container class="md-block" flex-gt-sm> <label>挂号规则分类</label> <input required name="catalogue" ng-model="rules.catalogue" required> </md-input-container> <md-input-container class="md-block" flex-gt-sm> <label>挂号规则名称</label> <input name="name" ng-model="rules.name" required> </md-input-container> </div> <div layout-gt-sm="row"> <md-input-container class="md-block" flex-gt-sm> <label>挂号规则内容</label> <textarea name="rule" ng-model="rules.rule" required></textarea> </md-input-container> </div> </md-dialog-content> <md-dialog-actions> <span flex></span> <md-button ng-disabled="isSubmit" ng-click="cancel()"> 关闭 </md-button> <md-button type="submit" class="md-primary" ng-disabled="isSubmit" ng-click="submit()"> 提交 </md-button> </md-dialog-actions> </form> </md-dialog>'),a.put("modules/registration/rulesSearch.html",'<div layout-gt-sm="row"> <md-input-container class="md-block" flex-gt-sm> <label>挂号规则分类</label> <input ng-model="gridParam.searchData.catalogue"> </md-input-container> <md-input-container class="md-block" flex-gt-sm> <label>挂号规则名称</label> <input ng-model="gridParam.searchData.name"> </md-input-container> </div> <div layout-gt-sm="row"> <md-input-container class="md-block" flex-gt-sm> <label>挂号规则内容</label> <textarea ng-model="gridParam.searchData.rule"></textarea> </md-input-container> </div>'),a.put("modules/statistics/statisticsView.html",'<div layout="column" class="statistics-body"> <div class="chart-piece bg-color-black" style="margin-top: 15px"> <p style="font-size: 13px;color:#999;margin-top: 0;margin-left: 23px">前一日数据统计</p> <div class="statistics-today" layout-gt-sm="row" style="color: #333"> <div flex class="statistics-today-content"> <div flex class="today-content-icon bg-color-black"></div> <div class="today-content-font"> <p>app访客数</p> <p class="today-font-bold">{{nowReqdata1}}</p> <p>访问次数</p> <p class="today-font-bold">{{nowReqdata2}}</p> </div> </div> <div flex class="statistics-today-content"> <div flex class="today-content-icon bg-color-blue"></div> <div class="today-content-font"> <p>预约挂号数量</p> <p class="today-font-bold">{{nowRegdata1}}</p> <p>当日挂号数量</p> <p class="today-font-bold">{{nowRegdata2}}</p> </div> </div> <div flex class="statistics-today-content"> <div flex class="today-content-icon bg-color-red"></div> <div class="today-content-font"> <p>意见数量</p> <p class="today-font-bold">{{nowOpinionCountdata}}</p> <p>反馈数量</p> <p class="today-font-bold">{{nowFeedbackCountdata}}</p> </div> </div> <div flex class="statistics-today-content"> <div flex class="today-content-icon bg-color-green"></div> <div class="today-content-font"> <p>微信支付金额</p> <p class="today-font-bold">{{nowWxpayAmoutdata}} 元</p> <p>微信退费金额</p> <p class="today-font-bold">{{nowWxpayRAmoutdata}} 元</p> </div> </div> <div flex class="statistics-today-content"> <div flex class="today-content-icon bg-color-orange"></div> <div class="today-content-font"> <p>支付宝支付金额</p> <p class="today-font-bold">{{nowAlipayAmoutdata}} 元</p> <p>支付宝退费金额</p> <p class="today-font-bold">{{nowAlipayRAmoutdata}} 元</p> </div> </div> </div> </div> <div class="chart-piece color-blue"> <div e-chart e-data="reg" style="height: 300px"></div> </div> <div class="chart-piece color-black"> <div e-chart e-data="req" style="height: 300px"></div> </div> <div class="chart-piece color-red"> <div e-chart e-data="feedback" style="height: 300px"></div> </div> <div class="chart-piece color-orange"> <div e-chart e-data="alipayc" style="height: 300px"></div> <div e-chart e-data="alipaya" style="height: 300px"></div> </div> <div class="chart-piece color-green"> <div e-chart e-data="wxpayc" style="height: 300px"></div> <div e-chart e-data="wxpaya" style="height: 300px"></div> </div> </div>'),
a.put("modules/sys/resources/list.html",""),a.put("modules/workflow/designer/create-model.html",'<md-dialog> <md-toolbar> <div class="md-toolbar-tools"> <h2>创建流程</h2> <span flex></span> <md-button class="md-icon-button" ng-click="cancel()"> <md-icon>close</md-icon> </md-button> </div> </md-toolbar> <form name="cm" layout-padding ng-submit="save()"> <md-content layout="column" flex> <md-input-container> <label>名称</label> <input ng-model="model.name" required auto-focus> </md-input-container> <md-input-container> <label>描述</label> <textarea ng-model="model.description" columns="1" md-maxlength="150" rows="5"></textarea> </md-input-container> </md-content> </form> <md-dialog-actions> <md-button aria-label="Close" ng-click="cancel()" class="md-primary"> <md-icon>clear</md-icon>取消 </md-button> <md-button aria-label="Submit" ng-disabled="cm.$invalid || $root.inProcess" ng-click="save()" class="md-raised md-primary"> <md-icon>check</md-icon>创建 </md-button> </md-dialog-actions> </md-dialog>'),a.put("modules/workflow/designer/designer.html",'<div ng-show="m"> <md-card-header> <md-card-header-text flex> <span class="md-title">{{ m.name }}(版本: {{ m.procDef.version }})</span> <span class="md-subhead"> 部署时间: {{ m.deploymentTime | date: \'yyyy-MM-dd HH:mm:ss\' }} / 最后更新: {{ m.lastUpdateTime | date: \'yyyy-MM-dd HH:mm:ss\' }} / 创建时间: {{ m.createTime | date: \'yyyy-MM-dd HH:mm:ss\' }} </span> </md-card-header-text> <md-menu md-position-mode="target-right target"> <md-button aria-label="Options" class="md-icon-button" ng-click="$mdOpenMenu($event)"> <md-tooltip>操作</md-tooltip> <md-icon>more_vert</md-icon> </md-button> <md-menu-content> <md-menu-item> <md-button aria-label="Edit" ng-click="editItem()"> <md-icon>edit</md-icon>编辑 </md-button> </md-menu-item> <md-menu-item> <md-button aria-label="Copy"> <md-icon>content_copy</md-icon>复制 </md-button> </md-menu-item> <md-menu-item ng-hide="m.deploymentId"> <md-button aria-label="Delete" ng-click="delItem($event)"> <md-icon>delete</md-icon>删除 </md-button> </md-menu-item> <md-menu-item> <md-button aria-label="DeployOrStart" ng-click="deployOrStart()"> <md-icon>{{ dosIcon }}</md-icon>{{ dosTitle }} </md-button> </md-menu-item> <md-menu-item> <md-button aria-label="Export" ng-click="export()"> <md-icon>file_download</md-icon>导出 </md-button> </md-menu-item> </md-menu-content> </md-menu> </md-card-header> <md-card-content> <p>描述</p> <p>{{ m.description }}</p> <md-divider></md-divider> <p>流程图</p> <img ng-show="m.sourceExtraUrl" ng-src="{{ m.sourceExtraUrl }}" style="width: auto"> </md-card-content> </div>'),a.put("modules/workflow/designer/import-model.html",'<md-dialog> <md-toolbar> <div class="md-toolbar-tools"> <h2>导入模型</h2> <span flex></span> <md-button class="md-icon-button" ng-click="cancel()"> <md-icon>close</md-icon> </md-button> </div> </md-toolbar> <form name="fm" layout-padding ng-submit="import()" enctype="multipart/form-data"> <md-content layout="column" flex> <md-input-container> <input aria-label="file" name="file" type="file" required ng-model="bpmnFile" ngf-select accept="application/xml"> </md-input-container> </md-content> </form> <md-dialog-actions> <md-button aria-label="Close" ng-click="cancel()" class="md-primary"> <md-icon>clear</md-icon>取消 </md-button> <md-button aria-label="Submit" ng-disabled="fm.$invalid || $root.inProcess" ng-click="import(bpmnFile)" class="md-raised md-primary"> <md-icon>check</md-icon>导入 </md-button> </md-dialog-actions> </md-dialog>'),a.put("modules/workflow/instances/instances.html",'<div ng-show="procInst"> <md-card-header> <md-card-header-text flex> <span class="md-title">{{ procInst.procDef.name }}(版本: {{ procInst.procDef.version }})</span> <span class="md-subhead"> 部署时间: {{ deployment.deploymentTime | date: \'yyyy-MM-dd HH:mm:ss\' }} </span> </md-card-header-text> </md-card-header> <md-card-content> <div ng-style="diagramStyle"> <iframe ng-src="{{ diagramURL }}" width="100%" height="100%" frameborder="0"></iframe> </div> </md-card-content> </div>')}]);
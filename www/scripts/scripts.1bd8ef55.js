"use strict";!function(){var a=["ionic","ionic-datepicker","angular-carousel","ngProgress","ngCordova","properNgCordova"];angular.module("isj",a).run(["$ionicPlatform","$window","$properProperpush","appConstants",function(a,b,c,d){a.ready(function(){function a(a){a.properAlert?alert("ios 收到alert 通知"+JSON.stringify(a.properCustoms)):alert("打开notification通知"+JSON.stringify(a.properCustoms))}b.cordova&&b.cordova.plugins&&b.cordova.plugins.Keyboard&&(b.cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),b.cordova.plugins.Keyboard.disableScroll(!0)),b.StatusBar&&b.StatusBar.styleDefault();var e=d.properpush;c.init(e).then(function(){console.log("推送初始化成功")},function(a){alert("error:"+a)}),document.addEventListener("Properpush.openNotification",a,!1)})}]),"function"!=typeof String.prototype.startsWith&&(String.prototype.startsWith=function(a){return this.slice(0,a.length)===a}),"function"!=typeof String.prototype.endsWith&&(String.prototype.endsWith=function(a){return-1!==this.indexOf(a,this.length-a.length)})}(),angular.module("isj").directive("isjSpinner",function(){return{restrict:"E",replace:!1,scope:{isShow:"=isShow",isRefresh:"=isRefresh"},template:"",controller:["$scope","$element","ngProgressFactory",function(a,b,c){a.progressbar=c.createInstance(),a.progressbar.setParent(b[0]),a.progressbar.setColor("#387ef5"),a.$watch("isRefresh",function(b){a.isShow?1===b?a.progressbar.start():(a.progressbar.set(0),a.progressbar.start()):a.progressbar.complete()})}]}}),function(a){a.config(["$urlRouterProvider",function(a){a.otherwise("/tab/main")}]),a.config(["ionicDatePickerProvider",function(a){var b={setLabel:"选择",todayLabel:"今天",closeLabel:"关闭",weeksList:["日","一","二","三","四","五","六"],monthsList:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],templateType:"popup",showTodayButton:!0,closeOnSelect:!0,mondayFirst:!0,dateFormat:"yyyy年MM月dd日"};a.configDatePicker(b)}]);var b=function(a){var b=!0;return a.endsWith(".html")&&(b=!1),a.endsWith(".svg")&&!a.startsWith("/")&&(b=!1),a.indexOf("pay")>=0&&(b=!1),b},c="https://server.propersoft.cn/isj/api",d=0;a.factory("authInterceptor",["$q","$window","$rootScope",function(a,e,f){return f.refreshProcess=0,{request:function(a){return a.url.indexOf("modules")<0&&a.url.indexOf("/photo")<0&&(d++,f.inProcess=!0,f.refreshProcess++),a.headers=a.headers||{},e.localStorage.token&&(a.headers.Authorization="Bearer "+e.localStorage.token),b(a.url)&&(a.url=c+a.url),a},requestError:function(b){return d=0,f.inProcess=!1,f.refreshProcess=0,console.debug("requestError %o",b),a.reject(b)},response:function(b){return b.config.url.indexOf("modules")<0&&b.config.url.indexOf("/photo")<0&&(d--,0>=d&&(f.inProcess=!1,f.refreshProcess=0)),401===b.status&&console.debug("handle the case where the user is not authenticated"),b||a.when(b)},responseError:function(b){return d=0,f.inProcess=!1,f.refreshProcess=0,console.debug("responseError %o",b),a.reject(b)}}}]),a.run(["$rootScope","$location","appConstants",function(a,b,c){a.location=b,a.$watch("location.url()",function(a){var b=b||[];b.push(["setDocumentTitle",document.domain+"/"+document.title]),b.push(["setDomains",["*."+c.piwikTrackTarget]]),b.push(["trackPageView"]),b.push(["enableLinkTracking"]);var d=Piwik.getTracker(c.piwikServer+"/piwik.php",3);d.setCustomUrl(a),d.trackPageView()})}]),a.config(["$httpProvider",function(a){a.interceptors.push("authInterceptor")}])}(angular.module("isj")),function(a){a.constant("appConstants",{piwikServer:"https://server.propersoft.cn:8082",piwikTrackTarget:"server.propersoft.cn/isj",paymentServer:"http://weixin.propersoft.cn/iosj",properpush:{appId:"isj",pushUrl:"https://www.wideunique.top:5555/properpush",secretKey:"b2024e00064bc5d8db70fdee087eae4f",xiaomi:{theAppid:"2882303761517501901",theAppkey:"5591750110901"}}})}(angular.module("isj")),function(a){var b=function(a,b,c,d){a.title="收藏的医生";var e=function(c){b.get("/collection/doctors",{params:c}).success(function(b){a.introductions=b})};a.placeholderClk=function(){d(function(){document.getElementById("doctorIntroduction_search").focus()})},a.doSearch=function(){e({searchName:a.searchName})},e({searchName:a.searchName}),a.viewIntroduction=function(a){c.go("doctorIntroductionView",{id:a})}};b.$inject=["$scope","$http","$state","$timeout"];var c=function(a){a.state("collectionDoctorList",{url:"/collectionDoctor/collectionDoctorList",templateUrl:"modules/doctorIntroduction/doctorIntroductionList.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("isj")),function(a){var b=function(a,b,c,d){a.title="医生介绍";var e=function(c){b.get("/doctors",{params:c}).success(function(b){a.introductions=b})};a.placeholderClk=function(){d(function(){document.getElementById("doctorIntroduction_search").focus()})},a.doSearch=function(){e({searchName:a.searchName})},e({searchName:a.searchName}),a.viewIntroduction=function(a){c.go("doctorIntroductionView",{doctorId:a})}};b.$inject=["$scope","$http","$state","$timeout"];var c=function(a){a.state("doctorIntroductionList",{url:"/doctorIntroductionList",templateUrl:"modules/doctorIntroduction/doctorIntroductionList.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("isj")),function(a){var b=function(a,b,c){b.get("/doctors/"+c.doctorId).success(function(b){a.introduction=b})};b.$inject=["$scope","$http","$stateParams"];var c=function(a){a.state("doctorIntroductionView",{url:"/doctorIntroductionList/doctorIntroductionView/:doctorId",templateUrl:"modules/doctorIntroduction/doctorIntroductionView.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("isj")),function(a){var b=function(a,b,c){a.relationshipTypes=[{name:"爸爸",img:"./assets/images/pic_old_man.png"},{name:"妈妈",img:"./assets/images/pic_old_woman.png"},{name:"配偶",img:"./assets/images/pic_woman.png"},{name:"儿子",img:"./assets/images/pic_boy.png"},{name:"女儿",img:"./assets/images/pic_girl.png"},{name:"兄弟",img:"./assets/images/pic_man.png"},{name:"配姐妹",img:"./assets/images/pic_woman.png"},{name:"亲属",img:"./assets/images/pic_man.png"},{name:"朋友",img:"./assets/images/pic_man.png"},{name:"其他",img:"./assets/images/pic_man.png"}],a.medicalCardEdit=function(){c(function(){b.go("familyMemberEdit")},10)}};b.$inject=["$scope","$state","$timeout"];var c=function(a){a.state("familyMemberAdd",{url:"/familyMember/familyMemberAdd",templateUrl:"modules/familyMember/familyMemberAdd.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("isj")),function(a){var b=function(){},c=function(a){a.state("familyMemberEdit",{url:"/familyMember/familyMemberEdit",templateUrl:"modules/familyMember/familyMemberEdit.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("isj")),function(a){var b=function(a,b,c){a.relationshipTypes={"00":{name:"我",img:"./assets/images/pic_man.png"},"01":{name:"爸爸",img:"./assets/images/pic_old_man.png"},"02":{name:"妈妈",img:"./assets/images/pic_old_woman.png"},"03":{name:"配偶",img:"./assets/images/pic_woman.png"}},b.get("/familyMembers").success(function(b){a.members=b;for(var c=0;c<a.members.length;c++)a.members[c].idCard=a.members[c].idCard.substring(0,6)+"********"+a.members[c].idCard.substring(14,18),a.members[c].phone=a.members[c].phone.substring(0,3)+"****"+a.members[c].phone.substring(7,11)}),a.familyMemberAdd=function(){c.go("familyMemberAdd")},a.medicalCardEdit=function(){c.go("familyMemberEdit")}};b.$inject=["$scope","$http","$state"];var c=function(a){a.state("familyMemberList",{url:"/familyMember/familyMemberList",templateUrl:"modules/familyMember/familyMemberList.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("isj")),function(a){var b=function(a,b,c,d,e){a.memberId=d.memberId,b.get("/dataBase/familyMenberTypes").success(function(b){a.memberTypes=b}),b.get("/familyMembers").success(function(b){a.members=b}),a.goBack=function(){e.goBack()},a.memberManage=function(){c.go("familyMemberList")},a.memberSelect=function(a){"registerConfirmToday"===d.skipId?c.go(d.skipId,{memberId:a,doctorId:d.doctorId}):"registerConfirmAppt"===d.skipId?c.go(d.skipId,{memberId:a,doctorId:d.doctorId,date:d.date}):c.go(d.skipId,{memberId:a})},a.addMember=function(){c.go("familyMemberAdd",{skipId:d.skipId,memberId:d.memberId,type:"2"})}};b.$inject=["$scope","$http","$state","$stateParams","$ionicHistory"];var c=function(a){a.state("familyMemberSelect",{url:"/familyMember/familyMemberSelect/:skipId/:memberId/:doctorId/:date",cache:"false",templateUrl:"modules/familyMember/familyMemberSelect.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("isj")),function(a){var b=function(a,b,c){b.get("/hospitalIntroduce").success(function(b){a.hospitalIntroduce=b}),a.goBack=function(){c.goBack()}};b.$inject=["$scope","$http","$ionicHistory"];var c=function(a){a.state("hospitalIntroduce",{url:"/hospitalIntroduce",templateUrl:"modules/hospitalIntroduce/hospitalIntroduce.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("isj")),function(a){var b=function(a,b,c,d){b.get("/hospitalNavigation/builds/floors",{params:{buildId:c.id}}).success(function(b){a.floorList=b}),a.goBack=function(){d.goBack()}};b.$inject=["$scope","$http","$stateParams","$ionicHistory"];var c=function(a){a.state("hospitalNavigationFloorList",{url:"/hospitalNavigation/floorList/:id",templateUrl:"modules/hospitalNavigation/floorList.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("isj")),function(a){var b=function(a,b,c,d,e){b.get("/hospitalNavigation/builds").success(function(b){a.districtBuilds=b}),a.goBack=function(){e.goBack()},a.buildingClk=function(a){d.go("hospitalNavigationFloorList",{id:a})}};b.$inject=["$scope","$http","$timeout","$state","$ionicHistory"];var c=function(a){a.state("hospitalNavigation",{url:"/hospitalNavigation",templateUrl:"modules/hospitalNavigation/hospitalNavigation.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("isj")),function(a){var b=function(a,b,c){a.input={phone:""},a.back=function(){c.goBack()},a.getCode=function(){b.go("forgetPasswordSetting")}};b.$inject=["$scope","$state","$ionicHistory"];var c=function(a){a.state("forgetPassword",{url:"/forgetPassword",cache:"false",templateUrl:"modules/login/forgetPassword.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("isj")),function(a){var b=function(a,b){a.isResend=!1,a.back=function(){b.goBack()},a.time={second:5},a.secondString="("+a.time.second+")";var c=function(){0===a.time.second?a.secondString="":1===a.time.second?(a.isResend=!0,--a.time.second,a.secondString=""):(--a.time.second,a.secondString="("+a.time.second+")")};setInterval(function(){a.$apply(c)},1e3)};b.$inject=["$scope","$ionicHistory"];var c=function(a){a.state("forgetPasswordSetting",{url:"/forgetPasswordSetting",cache:"false",templateUrl:"modules/login/forgetPasswordSetting.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("isj")),function(a){var b=function(a,b,c,d){a.input={phone:"",password:""},a.back=function(){d.goBack()},a.login=function(){var d={phone:a.input.phone.toString(),password:a.input.password};b.put("/login/login",d).success(function(a){angular.isUndefined(a.errMsg)&&("success"===a.status?c.go("tab.main"):alert("用户名或密码错误，请核对后重试"))})}};b.$inject=["$scope","$http","$state","$ionicHistory"];var c=function(a){a.state("login",{url:"/login",cache:"false",templateUrl:"modules/login/login.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("isj")),function(a){var b=function(a,b,c){a.input={phone:""},a.back=function(){c.goBack()},a.getCode=function(){b.go("registSetting")}};b.$inject=["$scope","$state","$ionicHistory"];var c=function(a){a.state("regist",{url:"/regist",cache:"false",templateUrl:"modules/login/regist.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("isj")),function(a){var b=function(a,b){a.isResend=!1,a.back=function(){b.goBack()},a.time={second:5},a.secondString="("+a.time.second+")";var c=function(){0===a.time.second?a.secondString="":1===a.time.second?(a.isResend=!0,--a.time.second,a.secondString=""):(--a.time.second,a.secondString="("+a.time.second+")")};setInterval(function(){a.$apply(c)},1e3)};b.$inject=["$scope","$ionicHistory"];var c=function(a){a.state("registSetting",{url:"/registSetting",cache:"false",templateUrl:"modules/login/registSetting.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("isj")),function(a){var b=function(){},c=function(a){a.state("medicalCardEdit",{url:"/medicalCard/medicalCardEdit",templateUrl:"modules/medicalCard/medicalCardEdit.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("isj")),function(a){var b=function(a,b,c){a.relationshipTypes={"00":{name:"我",img:"./assets/images/pic_man.png"},"01":{name:"爸爸",img:"./assets/images/pic_old_man.png"},"02":{name:"妈妈",img:"./assets/images/pic_old_woman.png"},"03":{name:"配偶",img:"./assets/images/pic_woman.png"}},b.get("/familyMembers").success(function(b){a.members=b;for(var c=0;c<a.members.length;c++)a.members[c].idCard=a.members[c].idCard.substring(0,6)+"********"+a.members[c].idCard.substring(14,18)}),a.medicalCardEdit=function(){c.go("medicalCardEdit")}};b.$inject=["$scope","$http","$state"];var c=function(a){a.state("medicalCardList",{url:"/medicalCard/medicalCardList",templateUrl:"modules/medicalCard/medicalCardList.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("isj")),function(a){var b=function(a,b,c){b.get("/medicalGuide").success(function(b){a.medicalGuide=b}),a.goBack=function(){c.goBack()}};b.$inject=["$scope","$http","$ionicHistory"];var c=function(a){a.state("medicalGuide",{url:"/medicalGuide",templateUrl:"modules/medicalGuide/medicalGuide.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("isj")),function(a){var b=function(a,b,c,d){var e=function(c){b.get("/medicalReports",{params:c}).success(function(b){a.reports=b})["finally"](function(){a.$broadcast("scroll.refreshComplete")})};a.searchStr={searchTime:"",searchStatus:""},a.searchTimeTypes=[{code:"",name:"时间不限"},{code:"week",name:"一周内"},{code:"month",name:"一月内"},{code:"halfYear",name:"半年内"},{code:"year",name:"一年内"}],a.searchStatusTypes=[{code:"",name:"状态不限"},{code:"1",name:"已出"},{code:"0",name:"未出"}],a.searchReport=function(){e(a.searchStr)},e(a.searchStr),a.viewReport=function(a,b,c){"1"===c&&"1"===b&&d.go("medicalReportView1",{id:a,category:b})},a.$watch("$viewContentLoaded",function(){document.getElementById("medicalReportList_reports").style.height=document.getElementById("medicalReportList_content").offsetHeight-98+"px"}),angular.element(c).bind("resize",function(){document.getElementById("medicalReportList_reports").style.height=document.getElementById("medicalReportList_content").offsetHeight-98+"px"})};b.$inject=["$scope","$http","$window","$state"];var c=function(a){a.state("medicalReportList",{url:"/medicalReportList",cache:"false",templateUrl:"modules/medicalReport/medicalReportList.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("isj")),function(a){var b=function(a,b,c){b.get("/medicalReports/"+c.category+"/"+c.id,{params:{id:c.id}}).success(function(b){a.report=b})};b.$inject=["$scope","$http","$stateParams"];var c=function(a){a.state("medicalReportView1",{url:"/medicalReportList/medicalReportView1/:category/:id",templateUrl:"modules/medicalReport/medicalReportView1.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("isj")),function(a){var b=function(a){a.searchStr={searchStatus:""},a.searchStatusTypes=[{code:"",name:"全部"},{code:"0",name:"未支付"},{code:"1",name:"已支付"}],a.searchPay=function(){}};b.$inject=["$scope"];var c=function(a){a.state("onlinePaymentList",{url:"/onlinePayment/onlinePaymentList",cache:"false",templateUrl:"modules/onlinePayment/onlinePaymentList.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("isj")),function(a){var b=function(a,b,c,d,e,f){var g=d.orderNum;b.get("/orders/order",{params:{orderNum:g}}).success(function(b){a.amount=b.amount}),a.goBack=function(){f.goBack()},a.paySelectValue="",a.paymentSelect=function(b){a.paySelectValue=b,angular.element(document.querySelectorAll(".select-yes")).addClass("select-none"),angular.element(document.querySelectorAll(".select-no")).removeClass("select-none"),angular.element(document.getElementById("select_yes_"+b)).removeClass("select-none"),angular.element(document.getElementById("select_no_"+b)).addClass("select-none")},a.pay=function(){if("2"===a.paySelectValue){var c="挂号费",d="门诊挂号费用",f="0.01";b({method:"post",url:e.paymentServer+"/api/getALIpayInfo",params:{subject:c,body:d,total_fee:f},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(a){console.debug("data:",a),"0"===a.resultCode&&alipay.payment(a,function(a){console.debug("retData",a)},function(a){console.debug("retData",a)})})}else if("3"===a.paySelectValue){var g="WEB",h="盛京医院支付测试",i="盛京医院支付详情",j="圣经医院支付附加数据",k="1";b({method:"post",url:e.paymentServer+"/api/getWXPrepayInfo",params:{body:h,device_info:g,detail:i,attach:j,total_fee:k},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(a){if(console.debug("resultCode:",a.resultCode),console.debug("resultMessage:",a.resultMessage),console.debug("appid:",a.appid),console.debug("partnerid:",a.partnerid),console.debug("prepayid:",a.prepayid),console.debug("package:",a["package"]),console.debug("noncestr:",a.noncestr),console.debug("timestamp:",a.timestamp),console.debug("sign:",a.sign),"0"===a.resultCode){var b={appid:a.appid,noncestr:a.noncestr,"package":a["package"],partnerid:a.partnerid,prepayid:a.prepayid,timestamp:a.timestamp,sign:a.sign};wxpay.payment(b,function(a){console.debug("retData",a)},function(a){console.debug("retData",a)})}})}},a.time={minute:30,second:0};var h=function(){0===a.time.minute&&0===a.time.second&&c.go("tab.main"),0===a.time.second?(--a.time.minute,a.time.second=59):--a.time.second};setInterval(function(){a.$apply(h)},1e3)};b.$inject=["$scope","$http","$state","$stateParams","appConstants","$ionicHistory"];var c=function(a){a.state("paymentSelect",{url:"/onlinePayment/paymentSelect/:orderNum",cache:"false",templateUrl:"modules/onlinePayment/paymentSelect.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("isj")),function(a){var b=function(a,b,c,d,e,f,g){var h=d.doctorId,i=d.date;a.dateDisplay=i.substring(0,4)+"年"+i.substring(5,7)+"月"+i.substring(8,10)+"日"+i.substring(10,16),b.get("/register/agreement").success(function(b){a.agreement=b,(angular.isUndefined(d.memberId)||""===d.memberId)&&a.showAgreement()});var j=function(){b.get("/patients/patient",{params:{memberId:d.memberId}}).success(function(b){a.patient=b})};j(),b.get("/dataBase/familyMenberTypes").success(function(b){a.memberTypes=b}),b.get("/register/doctor",{params:{id:h,date:i}}).success(function(b){a.doctor=b}),b.get("/register/apptPrompt").success(function(b){a.prompt=b}),a.goBack=function(){g.goBack()},a.showAgreement=function(){var b=e.show({template:'<div style="padding: 3px;font-size:15px">'+a.agreement+"</div>",title:"挂号须知",buttons:[{text:"确定",type:"positive",onTap:function(a){a.preventDefault(),b.close()}}]});f(function(){angular.element(document.querySelector(".popup")).css("width","80%"),angular.element(document.querySelector(".popup-title")).css("font-size","18px")})},a.selectMember=function(){c.go("familyMemberSelect",{skipId:"registerConfirmAppt",doctorId:h,date:i,memberId:a.patient.id})},a.registerConfirm=function(){var d={patientId:a.patient.id,isAppointment:1,registerDate:i,deptId:a.doctor.deptId,doctorId:h,clinicCategoryCode:a.doctor.clinicCategoryCode,amount:a.doctor.amount,payStatus:"0"};b.put("/register/registration",d).success(function(a){angular.isUndefined(a.errMsg)&&c.go("paymentSelect",{orderNum:a.orderNum})})}};b.$inject=["$scope","$http","$state","$stateParams","$ionicPopup","$timeout","$ionicHistory"];var c=function(a){a.state("registerConfirmAppt",{url:"/register/registerConfirmAppt/:doctorId/:date/:memberId",templateUrl:"modules/register/registerConfirmAppt.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("isj")),function(a){var b=function(a,b,c,d,e,f,g,h){var i=d.doctorId,j=g("date")(new Date,"yyyy-MM-dd");a.todayDisplay=g("date")(new Date,"yyyy年MM月dd日"),b.get("/register/agreement").success(function(b){a.agreement=b,(angular.isUndefined(d.memberId)||""===d.memberId)&&a.showAgreement()});var k=function(){b.get("/patients/patient",{params:{memberId:d.memberId}}).success(function(b){a.patient=b})};k(),b.get("/dataBase/familyMenberTypes").success(function(b){a.memberTypes=b}),b.get("/register/doctor",{params:{id:i,date:j}}).success(function(b){a.doctor=b}),b.get("/register/todayPrompt").success(function(b){a.prompt=b}),a.goBack=function(){h.goBack()},a.showAgreement=function(){var b=e.show({template:'<div style="padding: 3px;font-size:15px">'+a.agreement+"</div>",title:"挂号须知",buttons:[{text:"确定",type:"positive",onTap:function(a){a.preventDefault(),b.close()}}]});f(function(){angular.element(document.querySelector(".popup")).css("width","80%"),angular.element(document.querySelector(".popup-title")).css("font-size","18px")})},a.selectMember=function(){c.go("familyMemberSelect",{skipId:"registerConfirmToday",doctorId:i,memberId:a.patient.id})},a.registerConfirm=function(){var d={patientId:a.patient.id,isAppointment:0,registerDate:j,deptId:a.doctor.deptId,doctorId:i,clinicCategoryCode:a.doctor.clinicCategoryCode,amount:a.doctor.amount,payStatus:"0"};b.put("/register/registrations/registration",d).success(function(a){angular.isUndefined(a.errMsg)&&c.go("paymentSelect",{orderNum:a.orderNum})})}};b.$inject=["$scope","$http","$state","$stateParams","$ionicPopup","$timeout","$filter","$ionicHistory"];var c=function(a){a.state("registerConfirmToday",{url:"/register/registerConfirmToday/:doctorId/:memberId",templateUrl:"modules/register/registerConfirmToday.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("isj")),function(a){var b=function(a,b,c,d,e,f,g,h){a.hideSearch=!0,a.daySelected="";var i=7,j=["周日","周一","周二","周三","周四","周五","周六"],k=function(a,b){return a=+a+864e5*b,a=new Date(a)},l=function(c,d){b.get("/doctors/photo",{params:{doctorId:c,index:d}}).success(function(b,c,d,e){a.doctors[e.params.index].photo=b})};a.major=d.major;var m=function(){var c="",f="";""!==a.daySelected?(c=a.daySelected,f=a.daySelected):(c=e("date")(k(new Date,1),"yyyy-MM-dd"),f=e("date")(k(new Date,60),"yyyy-MM-dd"));var g={districtId:d.districtId,subjectId:d.subjectId,major:a.major,startDate:c,endDate:f};b.get("/schedule/doctors",{params:g}).success(function(b){a.doctors=b;for(var c=0;c<b.length;c++)l(b[c].id,c)})},n=function(a){return{date:e("date")(a,"yyyy-MM-dd"),month:a.getMonth()+1,day:a.getDate(),week:j[a.getDay()]}},o=function(a){for(var b=[],c=0;i>c;c++)if(0===c)b[c]=n(a);else{if(a.getTime()>k(new Date,59).getTime())break;a=k(new Date(b[c-1].date),1),b[c]=n(a)}if(b.length<i){for(var d=[],e=0;e<i-b.length;e++)d[e]=n(k(new Date(b[0].date),b.length-i+e));for(var f=0,g=i-b.length;i>g;g++)d[g]=b[f],f++;b=d}return b};a.selectDays=o(k(new Date,1)),m(),a.dayClk=function(b,c){a.daySelected===c?(a.daySelected="",m()):(a.daySelected=c,m())};var p={callback:function(b){a.selectDays=o(new Date(b)),a.daySelected=e("date")(b,"yyyy-MM-dd"),m()},from:k(new Date,1),to:k(new Date,60),inputDate:new Date,howTodayButton:!1};a.dayPicker=function(){""!==a.daySelected?p.inputDate=new Date(a.daySelected):p.inputDate=new Date,g.openDatePicker(p)},a.goBack=function(){h.goBack()},a.searchClk=function(){a.hideSearch=!a.hideSearch,a.hideSearch||f(function(){document.getElementById("registerDoctorDateSelect_search").focus()},50)},a.doSearch=function(){m()},a.photoClk=function(a,b){b.stopPropagation(),c.go("doctorIntroductionView",{doctorId:a,type:"0"})},a.doctorClk=function(b,d){d>0&&c.go("registerDoctorTimeSelect",{doctorId:b,date:a.daySelected})}};b.$inject=["$scope","$http","$state","$stateParams","$filter","$timeout","ionicDatePicker","$ionicHistory"];var c=function(a){a.state("registerDoctorDateSelect",{url:"/register/registerDoctorDateSelect/:districtId/:subjectId/:major",templateUrl:"modules/register/registerDoctorDateSelect.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("isj")),function(a){var b=function(a,b,c,d,e,f,g,h){var i=7,j=["周日","周一","周二","周三","周四","周五","周六"];a.selectDays=[],a.allDays=[];var k={},l=function(a,b){return a=+a+864e5*b,a=new Date(a)};a.timeTypes=[];var m=function(c){b.get("/schedule/times",{params:{doctorId:d.doctorId,date:c}}).success(function(b){if(b.length%3!==0)for(var c=3-b.length%3,d=0;c>d;d++)b.push({time:""});a.times=b})};b.get("/doctors/"+d.doctorId).success(function(c){a.doctor=c,b.get("/doctors/photo",{params:{doctorId:a.doctor.id}}).success(function(b){a.photo=b})}),b.get("/organization/depts/"+d.deptId).success(function(b){a.dept=b});var n=function(a,b){return{date:e("date")(a,"yyyy-MM-dd"),month:a.getMonth()+1,day:a.getDate(),week:j[a.getDay()],data:b}},o=function(){for(var b=a.selectDays.length;i>b;b++)a.selectDays[b]={date:"",month:"",day:"",week:""}};a.daySelected=d.date,a.dataSelected={};var p=null;null!==a.daySelected&&""!==a.daySelected?b.get("/schedule/dates",{params:{doctorId:d.doctorId,date:a.daySelected}}).success(function(b){p=new Date(a.daySelected),a.allDays=[{date:a.daySelected,data:b[0]}],a.selectDays[0]=n(p,b[0]),o(),a.dataSelected=a.allDays[0].data,m(a.daySelected)}):b.get("/schedule/dates",{params:{doctorId:d.doctorId}}).success(function(b){a.allDays=b;for(var c=0;c<b.length&&c!==i;c++)p=new Date(b[c].date),a.selectDays[c]=n(p,b[c]);if(a.selectDays.length<7&&o(),a.selectDays.length>0&&(a.daySelected=b[0].date,a.dataSelected=b[0],m(a.daySelected)),a.allDays.length>7){var d=[],f=0;for(p=new Date(a.allDays[0].date);;)if(p.getTime()!==new Date(a.allDays[f].date).getTime()?d.push(p):f++,p=l(p,1),f===a.allDays.length-1)break;k={callback:function(b){a.daySelected=e("date")(b,"yyyy-MM-dd"),a.selectDays=[];for(var c=0,d=0;d<a.allDays.length&&((0===c&&a.daySelected===a.allDays[d].date||c>0)&&(a.selectDays[c]=n(new Date(a.allDays[d].date),a.allDays[d]),c++),c!==i);d++);o(),a.dataSelected=a.selectDays[0].data},from:new Date(a.allDays[0].date),to:new Date(a.allDays[a.allDays.length-1].date),inputDate:new Date(a.daySelected),disabledDates:d,howTodayButton:!1}}}),a.goBack=function(){h.goBack()},a.photoClk=function(a){c.go("doctorIntroductionView",{id:a})},a.dayClk=function(b,c){""!==c&&a.daySelected!==c&&(a.daySelected=c,m(a.daySelected),a.dataSelected=a.selectDays[b].data)},a.dayPicker=function(){k.inputDate=new Date(a.daySelected),g.openDatePicker(k)},a.timeClk=function(b,e){null!==a.daySelected&&""!==a.daySelected&&e>0&&c.go("registerConfirmAppt",{doctorId:d.doctorId,date:a.daySelected+" "+b})}};b.$inject=["$scope","$http","$state","$stateParams","$filter","$timeout","ionicDatePicker","$ionicHistory"];var c=function(a){a.state("registerDoctorTimeSelect",{url:"/register/registerDoctorTimeSelect/:doctorId/:date",templateUrl:"modules/register/registerDoctorTimeSelect.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("isj")),function(a){var b=function(a,b,c,d,e,f,g){a.hideSearch=!0;var h=function(c,d){b.get("/doctors/photo",{params:{doctorId:c,index:d}}).success(function(b,c,d,e){a.doctors[e.params.index].photo=b})},i=e("date")(new Date,"yyyy-MM-dd");a.major=d.major;var j=function(){var c={districtId:d.districtId,subjectId:d.subjectId,major:a.major,startDate:i,endDate:i};b.get("/schedule/doctors",{params:c}).success(function(b){a.doctors=b;for(var c=0;c<b.length;c++)h(b[c].id,c)})};j(),a.goBack=function(){g.goBack()},a.searchClk=function(){a.hideSearch=!a.hideSearch,a.hideSearch||f(function(){document.getElementById("registerTodayDoctorList_search").focus()},50)},a.doSearch=function(){j()},a.photoClk=function(a,b){b.stopPropagation(),c.go("doctorIntroductionView",{doctorId:a,type:"0"})},a.doctorClk=function(a,b){b>0&&c.go("registerConfirmToday",{doctorId:a})}};b.$inject=["$scope","$http","$state","$stateParams","$filter","$timeout","$ionicHistory"];var c=function(a){a.state("registerTodayDoctorList",{url:"/register/registerTodayDoctorList/:districtId/:subjectId/:major",templateUrl:"modules/register/registerTodayDoctorList.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("isj")),function(a){var b=function(a,b,c){b.get("/setting/servicePhone").success(function(b){a.servicePhone=b}),a.itemRouter=function(a){c.go(a)}};b.$inject=["$scope","$http","$state"];var c=function(a){a.state("settingAppAbout",{url:"/setting/appAbout",templateUrl:"modules/setting/appAbout.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("isj")),function(a){var b=function(){},c=function(a){a.state("settingChangePassword",{url:"/setting/changePassword",templateUrl:"modules/setting/changePassword.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("isj")),function(a){var b=function(){},c=function(a){a.state("settingFeedback",{url:"/setting/feedback",cache:"false",templateUrl:"modules/setting/feedback.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("isj")),function(a){var b=function(a,b){a.itemRouter=function(a){b.go(a)},a.quit=function(){b.go("login")}};b.$inject=["$scope","$state"];var c=function(a){a.state("settingIndex",{url:"/setting/settingIndex",templateUrl:"modules/setting/settingIndex.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("isj")),function(a){var b=function(){},c=function(a){a.state("settingVersionDescription",{url:"/setting/versionDescription",templateUrl:"modules/setting/versionDescription.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("isj")),function(a){var b=function(a,b,c,d,e,f){a.hideSearch=!0,a.type=d.type,a.districtId="",a.subjectId="";var g=function(){b.get("/subjects",{params:{districtId:a.districtId}}).success(function(b){a.subjects=b,a.subjectId=b[0].id,angular.isUndefined(b[0].subjects)||0===b[0].subjects.length?a.subjectRights=[b[0]]:a.subjectRights=b[0].subjects})};b.get("/organization/districts").success(function(b){a.districts=[{id:"",name:"全部"}];for(var c=0;c<b.length;c++)b[c].name=b[c].name+"院区",a.districts.push(b[c]);g()}),a.goBack=function(){f.goBack()},a.searchClk=function(){a.hideSearch=!a.hideSearch,a.hideSearch||e(function(){document.getElementById("subjectSelect_search_"+a.type).focus()},50)},a.doSearch=function(){angular.isUndefined(a.major)||""===a.major||("1"===d.type?c.go("registerTodayDoctorList",{districtId:a.districtId,major:a.major}):"2"===d.type&&c.go("registerDoctorDateSelect",{districtId:a.districtId,major:a.major}))},a.districtClk=function(b){a.districtId!==b&&(a.districtId=b,g())},a.subjectLeftClk=function(b){if(a.subjectId!==b){a.subjectId=b;for(var c=0;c<a.subjects.length;c++)if(a.subjects[c].id===b){angular.isUndefined(a.subjects[c].subjects)||0===a.subjects[c].subjects.length?a.subjectRights=[a.subjects[c]]:a.subjectRights=a.subjects[c].subjects;break}}},a.subjectRightClk=function(b){"1"===d.type?c.go("registerTodayDoctorList",{districtId:a.districtId,subjectId:b}):"2"===d.type&&c.go("registerDoctorDateSelect",{districtId:a.districtId,subjectId:b})}};b.$inject=["$scope","$http","$state","$stateParams","$timeout","$ionicHistory"];var c=function(a){a.state("subjectSelect",{url:"/subject/subjectSelect/:type",templateUrl:"modules/subject/subjectSelect.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("isj")),function(a){var b=function(a){a.carouselImages=[{name:"预约挂号",url:"./assets/images/ad1.jpg"},{name:"在线缴费",url:"./assets/images/ad2.png"},{name:"查看报告",url:"./assets/images/ad3.png"}]};b.$inject=["$scope"];var c=function(a){a.state("tab.main",{url:"/main",views:{"tab-main":{templateUrl:"modules/tab/main/main.html",controller:b}}})};c.$inject=["$stateProvider"],
a.config(c)}(angular.module("isj")),function(a){var b=function(a,b){b.get("/messages").success(function(b){a.messages=b})};b.$inject=["$scope","$http"];var c=function(a){a.state("tab.message",{url:"/message",views:{"tab-message":{templateUrl:"modules/tab/message/message.html",controller:b}}})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("isj")),function(a){var b=function(a,b,c){b.get("/patients/patient").success(function(b){a.patient=b,null!==a.patient.phone&&""!==a.patient.phone&&(a.patient.phone=a.patient.phone.substring(0,3)+"****"+a.patient.phone.substring(7,11))}),b.get("/collection/doctors/count").success(function(b){a.doctorCount=b}),a.itemRouter=function(a){c.go(a)}};b.$inject=["$scope","$http","$state"];var c=function(a){a.state("tab.personal",{url:"/personal",views:{"tab-personal":{templateUrl:"modules/tab/personal/personal.html",controller:b}}})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("isj")),function(a){var b=function(a,b,c,d){var e=function(b){d.get("/register/registrations",{params:{memberId:b}}).success(function(b){a.registrations=b})},f=function(b){d.get("/patients/patient",{params:{memberId:b}}).success(function(c){a.patient=c,e(b)})};f(c.memberId),a.selectMember=function(){b.go("familyMemberSelect",{skipId:"tab.registration",memberId:c.memberId})},a.registrationClk=function(a){b.go("registrationView",{registrationId:a})}};b.$inject=["$scope","$state","$stateParams","$http"];var c=function(a){a.state("tab.registration",{url:"/registration/:memberId",cache:"false",views:{"tab-registration":{templateUrl:"modules/tab/registration/registration.html",controller:b}}})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("isj")),function(a){var b=function(a,b){a.medicalGuideClk=function(){b.go("medicalGuide")}};b.$inject=["$scope","$state"];var c=function(a){a.state("registrationIllustration",{url:"/registration/registrationIllustration",templateUrl:"modules/tab/registration/registrationIllustration.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("isj")),function(a){var b=function(a,b,c,d){b.get("/register/registrations/registration",{params:{id:d.registrationId}}).success(function(b){a.registration=b}),a.illustrationClk=function(){c.go("registrationIllustration")}};b.$inject=["$scope","$http","$state","$stateParams"];var c=function(a){a.state("registrationView",{url:"/registration/registrationView/:registrationId",templateUrl:"modules/tab/registration/registrationView.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("isj")),function(a){a.config(["$ionicConfigProvider",function(a){a.platform.ios.tabs.style("standard"),a.platform.ios.tabs.position("bottom"),a.platform.android.tabs.style("standard"),a.platform.android.tabs.position("bottom"),a.platform.ios.navBar.alignTitle("center"),a.platform.android.navBar.alignTitle("center"),a.platform.ios.backButton.previousTitleText("").icon("ion-ios-arrow-thin-left"),a.platform.android.backButton.previousTitleText("").icon("ion-android-arrow-back"),a.platform.ios.views.transition("ios"),a.platform.android.views.transition("android")}]);var b=function(a){a.state("tab",{url:"/tab","abstract":!0,templateUrl:"modules/tab/tabs.html"})};b.$inject=["$stateProvider"],a.config(b)}(angular.module("isj")),angular.module("isj").run(["$templateCache",function(a){a.put("modules/doctorIntroduction/doctorIntroductionList.html",'<ion-header-bar class="bar-light"> <a class="icon-return positive" href="javascript:history.go(-1)"> <i class="icon ion-ios-arrow-left"></i> <div>返回</div> </a> <div class="title">{{title}}</div> </ion-header-bar> <ion-header-bar class="bar-subheader bar-light doctorIntroductionList-subheader"> <div ng-if="searchName == null || searchName == \'\'" ng-click="placeholderClk()" class="search-placeholder"> <i class="icon ion-ios-search-strong positive"></i> <span>搜索医生</span> </div> <form ng-submit="doSearch()"> <label class="item-input-wrapper"> <input type="search" id="doctorIntroduction_search" ng-model="searchName"> </label> </form> </ion-header-bar> <ion-content class="has-header has-subheader doctorIntroductionList-content"> <ul class="list"> <li class="item item-avatar-left" collection-repeat="introduction in introductions" ng-click="viewIntroduction(introduction.id)"> <img ng-if="introduction.sexCode == \'1\'" src="./assets/images/doctor_man.png" class="photo"> <img ng-if="introduction.sexCode == \'2\'" src="./assets/images/doctor_woman.png" class="photo"> <div class="authenticate"> <img src="./assets/images/isapprove.png"> </div> <div> <h2 class="name">{{introduction.name}}</h2> <p class="professional">{{introduction.title}}</p> </div> <p>{{introduction.hospital}}</p> <p class="dept">{{introduction.dept}}</p> </li> </ul> </ion-content>'),a.put("modules/doctorIntroduction/doctorIntroductionView.html",'<ion-header-bar class="bar-light doctorIntroductionView-title"> <a class="icon-return positive" href="javascript:history.go(-1)"> <i class="icon ion-ios-arrow-left"></i> <div>返回</div> </a> <div class="title"> 医生主页 </div> <a class="button button-clear icon ion-ios-star-outline positive"></a> </ion-header-bar> <ion-content class="has-header has-footer doctorIntroductionView-content"> <ul class="list"> <li class="item item-avatar-left"> <img ng-if="introduction.sexCode == \'1\'" src="./assets/images/doctor_man.png" class="photo"> <img ng-if="introduction.sexCode == \'2\'" src="./assets/images/doctor_woman.png" class="photo"> <div> <h2 class="name">{{introduction.name}}</h2> <p class="professional">{{introduction.title}}</p> </div> <p>{{introduction.hospital}}</p> <p class="dept">{{introduction.dept}}</p> </li> <li class="item introduction-content item-splitLine"> <h2> <i class="icon ion-ios-medkit-outline positive"></i> 擅长 </h2> <p>{{introduction.skill}}</p> </li> <li class="item introduction-content"> <h2> <i class="icon ion-ios-chatboxes-outline positive"></i> 简介 </h2> <p>{{introduction.summary}}</p> </li> </ul> </ion-content> <ion-footer-bar class="doctorIntroductionView-footer"> <button class="button positive-bg doctorIntroduction-register">挂号</button> </ion-footer-bar>'),a.put("modules/familyMember/familyMemberAdd.html",'<ion-header-bar class="bar-light"> <a class="icon-return positive" href="javascript:history.go(-1)"> <i class="icon ion-ios-arrow-left"></i> <div>返回</div> </a> <div class="title">选择关系</div> </ion-header-bar> <ion-content class="has-header content-gray familyMemberAdd-content"> <ul> <li ng-repeat="relationship in relationshipTypes"> <div ng-click="medicalCardEdit()"> <span><img src="{{relationship.img}}"></span> <span class="name">{{relationship.name}}</span> </div> </li> </ul> </ion-content>'),a.put("modules/familyMember/familyMemberEdit.html",'<ion-header-bar class="bar-light"> <a class="icon-return positive" href="javascript:history.go(-1)"> <i class="icon ion-ios-arrow-left"></i> <div>返回</div> </a> <div class="title">健康卡</div> <button class="button button-clear button-positive">保存</button> </ion-header-bar> <ion-content class="has-header content-gray familyMemberEdit-content"> <div class="list"> <label class="item item-input"> <span class="input-label photo-label"> <img src="./assets/images/pic_woman.png" class="photo"> </span> 配偶 </label> <label class="item item-input"> <span class="input-label">姓名</span> <input type="text" placeholder="必填"> </label> <label class="item item-input"> <span class="input-label">性别</span> 女 </label> <label class="item item-input"> <span class="input-label">身份证号</span> <input type="text" placeholder="必填"> </label> <label class="item item-input"> <span class="input-label">手机号</span> <input type="text" placeholder="必填"> </label> </div> <div class="operation"> <button class="button button-assertive">删除该成员</button> </div> <div class="visits"> <ion-checkbox class="positive">设为默认就诊人</ion-checkbox> </div> </ion-content>'),a.put("modules/familyMember/familyMemberList.html",'<ion-header-bar class="bar-light"> <a class="icon-return positive" href="javascript:history.go(-1)"> <i class="icon ion-ios-arrow-left"></i> <div>返回</div> </a> <div class="title">家庭成员</div> <button class="button button-clear button-positive" ng-click="familyMemberAdd()">添加</button> </ion-header-bar> <ion-header-bar class="bar-subheader bar-light familyMemberList-subheader"> <div class="title">已添加2位家庭成员，还可以添加7位</div> </ion-header-bar> <ion-content class="has-header has-subheader content-gray familyMemberList-content"> <ul class="list"> <li ng-repeat="member in members" class="item item-avatar-left" ng-click="medicalCardEdit()"> <img src="{{relationshipTypes[member.relationship].img}}" class="photo"> <div class="relationship-name"> {{relationshipTypes[member.relationship].name}} </div> <div class="name-sex-age"> <h2 class="name">{{member.name}}</h2> <img ng-if="member.sexCode == \'1\'" src="./assets/images/man.png" class="sex"> <img ng-if="member.sexCode == \'2\'" src="./assets/images/woman.png" class="sex"> <p class="age">{{member.age}}</p> </div> <p> <img ng-if="member.patientVisits == \'1\'" src="./assets/images/id_s.png" class="photo-card"> <img ng-if="member.patientVisits == \'0\'" src="./assets/images/id_d.png" class="photo-card"> <span>{{member.idCard}}</span> </p> <p> <img ng-if="member.patientVisits == \'1\'" src="./assets/images/telephone_s.png" class="photo-tel"> <img ng-if="member.patientVisits == \'0\'" src="./assets/images/telephone_s.png" class="photo-tel"> <span>{{member.phone}}</span> </p> <img ng-if="member.patientVisits == \'1\'" src="./assets/images/client.png" class="patient-visits"> </li> </ul> </ion-content>'),a.put("modules/familyMember/familyMemberSelect.html",'<isj-spinner is-show="$root.inProcess" is-refresh="$root.refreshProcess"></isj-spinner> <ion-header-bar class="bar-light"> <a class="icon-return positive" ng-click="goBack()"> <i class="icon ion-ios-arrow-left"></i> <div>返回</div> </a> <div class="title">选择就诊人</div> <a class="button button-clear positive" ng-click="memberManage()">管理</a> </ion-header-bar> <ion-content class="has-header content-gray familyMemberSelect-content"> <ul> <li ng-repeat="member in members" ng-click="memberSelect(member.id)"> <div> <span> <img ng-if="member.memberCode == \'00\' && member.sexCode == \'1\'" src="./assets/images/pic_man.png"> <img ng-if="member.memberCode == \'00\' && member.sexCode == \'2\'" src="./assets/images/pic_woman.png"> <img ng-if="member.memberCode != \'00\'" ng-src="{{memberTypes[member.memberCode].img}}"> </span> <span class="name"> {{member.member}}-{{member.name}} </span> <i ng-if="memberId == member.id" class="icon ion-checkmark-circled positive selected"></i> </div> </li> <li ng-click="addMember()"> <div><i class="icon ion-android-add add-member"></i></div> </li> </ul> </ion-content>'),a.put("modules/hospitalIntroduce/hospitalIntroduce.html",'<isj-spinner is-show="$root.inProcess" is-refresh="$root.refreshProcess"></isj-spinner> <ion-header-bar class="bar-light"> <a class="icon-return positive" ng-click="goBack()"> <i class="icon ion-ios-arrow-left"></i> <div>返回</div> </a> <div class="title">医院简介</div> </ion-header-bar> <ion-content class="has-header content-introduce content-gray"> <div ng-bind-html="hospitalIntroduce"></div> </ion-content>'),a.put("modules/hospitalNavigation/floorList.html",'<isj-spinner is-show="$root.inProcess" is-refresh="$root.refreshProcess"></isj-spinner> <ion-header-bar class="bar-light"> <a class="icon-return positive" ng-click="goBack()"> <i class="icon ion-ios-arrow-left"></i> <div>返回</div> </a> <div class="title">楼层索引</div> </ion-header-bar> <ion-content class="has-header content-gray floorList-content"> <ul class="list list-inset"> <li ng-repeat="floor in floorList" class="item"> <div class="floor positive-bg">{{floor.name}}</div> <div class="floor-introduce"> <span ng-repeat="dept in floor.depts">{{dept}}</span> </div> </li> </ul> </ion-content>'),a.put("modules/hospitalNavigation/hospitalNavigation.html",'<isj-spinner is-show="$root.inProcess" is-refresh="$root.refreshProcess"></isj-spinner> <ion-header-bar class="bar-light"> <a class="icon-return positive" ng-click="goBack()"> <i class="icon ion-ios-arrow-left"></i> <div>返回</div> </a> <div class="title">医院导航</div> </ion-header-bar> <ion-content class="has-header content-gray hospitalNavigation-content"> <ul ng-repeat="district in districtBuilds" class="list list-inset"> <li class="item item-positive">{{district.name}}院区</li> <li ng-repeat="build in district.builds" class="item" ng-click="buildingClk(\'{{build.id}}\')"> {{build.name}} <span ng-if="build.function != \'\'">（{{build.function}}）</span> </li> </ul> </ion-content>'),a.put("modules/login/forgetPassword.html",'<ion-header-bar class="bar-light"> <a class="icon-return positive" ng-click="back()"> <i class="icon ion-ios-arrow-left"></i> <div>返回</div> </a> <div class="title">忘记密码</div> </ion-header-bar> <ion-content class="has-header content-gray forget-password-content" scroll="false" has-bouncing="false"> <div class="list"> <label class="item item-input"> 手机号 <input class="forget-password-input" type="number" placeholder="11位数字" ng-model="input.phone"> </label> </div> <div class="div-button"> <button class="button button-positive" ng-click="getCode()" ng-disabled="!(input.phone.toString().length == 11)">获取验证码</button> </div> </ion-content>'),a.put("modules/login/forgetPasswordSetting.html",'<ion-header-bar class="bar-light"> <a class="icon-return positive" ng-click="back()"> <i class="icon ion-ios-arrow-left"></i> <div>返回</div> </a> <div class="title">忘记密码</div> </ion-header-bar> <ion-content class="has-header content-gray forgetPasswordSetting-content" scroll="false" has-bouncing="false"> <div class="prompt"> 验证码已发送到133****3333 </div> <div class="list"> <label class="item item-input"> 验证码 <input id="registSetting-code" class="code-input" type="number" placeholder="6位数字"> <button class="button button-positive button-resend" ng-bind="\'重新发送\'+secondString" ng-disabled="!isResend"></button> </label> </div> <div class="prompt"> 密码需要填写6-20个字符，可由英文字母、数字、下划线组成 </div> <div class="list"> <label class="item item-input"> 密码 <input id="registSetting-password" class="password-input" type="password" placeholder="6-20个字符"> </label> </div> <div class="div-button"> <button class="button button-positive">修改密码</button> </div> </ion-content>'),a.put("modules/login/login.html",'<ion-header-bar class="bar-light"> <a class="icon-return positive" ng-click="back()"><!--  --> <i class="icon ion-ios-arrow-left"></i> <div>返回</div> </a> <div class="title">登录</div> </ion-header-bar> <ion-content class="has-header content-gray login-content" scroll="false" has-bouncing="false"> <div class="warm-prompt"> <i class="ion-ios-information-outline"></i> 温馨提示：已注册老版本的用户密码默认是身份证后6位，如果登录失败可以尝试找回密码或者重新注册使用 </div> <div class="list"> <label class="item item-input item-icon-left"> <i class="icon ion-ios-person-outline list-icon-left"></i> <input id="login-phone" class="login-input" type="number" placeholder="请输入手机号" ng-model="input.phone"> </label> <label class="item item-input item-icon-left"> <i class="icon ion-ios-unlocked-outline list-icon-left"></i> <input id="login-password" class="login-input" type="password" placeholder="请输入密码" ng-model="input.password"> </label> </div> <div class="div-button"> <button class="button button-positive" ng-click="login()">登录</button> </div> <div class="div-a"> <a href="#/regist" class="positive">注册</a> <a href="#/forgetPassword" class="positive forget-password">忘记密码</a> </div> </ion-content>'),a.put("modules/login/regist.html",'<ion-header-bar class="bar-light"> <a class="icon-return positive" ng-click="back()"> <i class="icon ion-ios-arrow-left"></i> <div>返回</div> </a> <div class="title">注册</div> </ion-header-bar> <ion-content class="has-header content-gray regist-content" scroll="false" has-bouncing="false"> <div class="list"> <label class="item item-input"> 手机号 <input id="regist-phone" class="regist-input" type="number" placeholder="11位数字" ng-model="input.phone"> </label> </div> <div class="div-button"> <button ng-disabled="!(input.phone.toString().length == 11)" class="button button-positive" ng-click="getCode()">获取验证码</button> </div> </ion-content>'),a.put("modules/login/registSetting.html",'<ion-header-bar class="bar-light"> <a class="icon-return positive" ng-click="back()"> <i class="icon ion-ios-arrow-left"></i> <div>返回</div> </a> <div class="title">注册</div> </ion-header-bar> <ion-content class="has-header content-gray registSetting-content" overflow-scroll="true" style="overflow:auto"> <div class="prompt"> 验证码已发送到133****3333 </div> <div class="list"> <label class="item item-input"> 验证码 <input id="registSetting-code" class="code-input" type="number" placeholder="6位数字"> <button class="button button-resend button-positive" ng-bind="\'重新发送\'+secondString" ng-disabled="!isResend"></button> </label> </div> <div class="prompt"> 密码需要填写6-20个字符，可由英文字母、数字、下划线组成 </div> <div class="list"> <label class="item item-input"> 密码 <input id="registSetting-password" class="password-input" type="password" placeholder="6-20个字符"> </label> </div> <div class="prompt"> 体验快速预约挂号，请填写您的信息 </div> <div class="list"> <label class="item item-input"> 姓名 <input class="name-input" type="text" placeholder="必填"> </label> <label class="item item-input"> 身份证号 <input class="idCard-input" type="number" placeholder="必填"> </label> </div> <div class="div-button"> <button class="button button-positive" ng-click="regist()">注册</button> </div> </ion-content>'),a.put("modules/medicalCard/medicalCardEdit.html",'<ion-header-bar class="bar-light"> <a class="icon-return positive" href="javascript:history.go(-1)"> <i class="icon ion-ios-arrow-left"></i> <div>返回</div> </a> <div class="title">绑卡</div> </ion-header-bar> <ion-content scroll="false" class="has-header content-gray medicalCardEdit-content"> <div class="list list-inset"> <label class="item item-input"> <span class="input-label"> <img src="./assets/images/card_picture.png"> </span> 病历号 </label> </div> <div class="list list-inset"> <label class="item item-input"> <span class="input-label"> <img src="./assets/images/show_complete.png"> </span> <input type="text" value="M001234567"> </label> </div> <div class="operation"> <button class="button button-positive">更新</button> </div> <div class="create"> <span class="positive">在线建档</span> </div> </ion-content>'),a.put("modules/medicalCard/medicalCardList.html",'<ion-header-bar class="bar-light"> <a class="icon-return positive" href="javascript:history.go(-1)"> <i class="icon ion-ios-arrow-left"></i> <div>返回</div> </a> <div class="title">就诊卡管理</div> </ion-header-bar> <ion-content class="has-header medicalCardList-content"> <ul class="list"> <li ng-repeat="member in members" class="item item-avatar-left" ng-click="medicalCardEdit()"> <img src="{{relationshipTypes[member.relationship].img}}" class="photo"> <div class="relationship-name"> {{relationshipTypes[member.relationship].name}} </div> <div class="name-sex-age"> <h2 class="name">{{member.name}}</h2> <img ng-if="member.sexCode == \'1\'" src="./assets/images/man.png" class="sex"> <img ng-if="member.sexCode == \'2\'" src="./assets/images/woman.png" class="sex"> <p class="age">{{member.age}}</p> </div> <p class="idCard"> <img ng-if="member.patientVisits == \'1\'" src="./assets/images/id_s.png"> <img ng-if="member.patientVisits == \'0\'" src="./assets/images/id_d.png"> {{member.idCard}} </p> <p class="medicalNum"> 病历号：{{member.medicalNum}} </p> <img ng-if="member.patientVisits == \'1\'" src="./assets/images/client.png" class="patient-visits"> </li> </ul> </ion-content>'),a.put("modules/medicalGuide/medicalGuide.html",'<isj-spinner is-show="$root.inProcess" is-refresh="$root.refreshProcess"></isj-spinner> <ion-header-bar class="bar-light"> <a class="positive icon-return" ng-click="goBack()"> <i class="icon ion-ios-arrow-left"></i> <div>返回</div> </a> <div class="title">就医指南</div> </ion-header-bar> <ion-content class="has-header content-introduce content-gray"> <div ng-bind-html="medicalGuide"></div> </ion-content>'),a.put("modules/medicalReport/medicalReportList.html",'<ion-header-bar class="bar-light"> <a class="icon-return positive" href="javascript:history.go(-1)"> <i class="icon ion-ios-arrow-left"></i> <div>返回</div> </a> <div class="title"> 我的报告单 <i class="icon ion-ios-arrow-down positive operation-down"></i> </div> </ion-header-bar> <ion-content id="medicalReportList_content" scroll="false" has-bouncing="false" class="has-header medicalReportList-content"> <div class="prompt"> <div class="prompt-icon"> <i class="icon ion-ios-information-outline"></i> </div> <div> 温馨提示：无法查看到结果的患者请确认病历号是否绑定正确，部分结果无法在手机上查看。 </div> </div> <div class="reportSearch-form"> <div> <label class="item-input item-select"> <select ng-model="searchStr.searchTime" ng-change="searchReport()" ng-options="node.code as node.name for node in searchTimeTypes"></select> <i class="icon ion-ios-arrow-down positive"></i> </label> </div> <div> <label class="item-input item-select"> <select ng-model="searchStr.searchStatus" ng-change="searchReport()" ng-options="node.code as node.name for node in searchStatusTypes"></select> <i class="icon ion-ios-arrow-down positive"></i> </label> </div> </div> <ion-scroll id="medicalReportList_reports" class="reports"> <ion-refresher pulling-icon="" on-refresh="searchReport()"></ion-refresher> <ul ng-if="reports.length > 0" class="list"> <li class="item item-icon-right" ng-repeat="report in reports" ng-click="viewReport(report.id, report.reportCategory, report.status)"> <h2>{{report.name}}</h2> <p>检查时间：{{report.examinationDate}}</p> <i ng-if="report.status == \'0\'" class="badge assertive">未出</i> <i ng-if="report.status == \'1\'" class="badge positive">已出</i> <i class="icon ion-ios-arrow-right icon-right"></i> </li> </ul> <div ng-if="reports.length == 0" class="no-content-padding">暂时没有报告</div> </ion-scroll> </ion-content>'),a.put("modules/medicalReport/medicalReportView1.html",'<ion-header-bar class="bar-light"> <a class="icon-return positive" href="javascript:history.go(-1)"> <i class="icon ion-ios-arrow-left"></i> <div>返回</div> </a> <div class="title"> 检验报告单 </div> </ion-header-bar> <ion-content class="has-header medicalReportView1-content"> <div class="report-content"> <table class="report-table"> <tr> <td class="form-label">检验项目</td> <td>{{report.name}}</td> </tr> <tr> <td class="form-label">就诊人</td> <td>{{report.patient}}</td> </tr> <tr> <td class="form-label">检验时间</td> <td>{{report.examinationDate}}</td> </tr> <tr> <td colspan="2"> <table class="report-item-table"> <tr> <th><div>项目</div></th> <th><div>结果</div></th> <th><div>参考值</div></th> </tr> <tr ng-repeat="item in report.items"> <td>{{item.name}}</td> <td align="center">{{item.result}}</td> <td align="center" align="center">{{item.reference}}</td> </tr> </table> </td> </tr> <tr> <td class="form-label">检验医生</td> <td>{{report.inspectionDoctor}}</td> </tr> <tr> <td class="form-label">审核医生</td> <td>{{report.examineDoctor}}</td> </tr> </table> </div> <div class="report-prompt"> 指标仅供参考，请以医院纸质报告为准 </div> </ion-content>'),a.put("modules/onlinePayment/onlinePaymentList.html",'<ion-header-bar class="bar-light"> <a class="icon-return positive" href="javascript:history.go(-1)"> <i class="icon ion-ios-arrow-left"></i> <div>返回</div> </a> <div class="title"> 王二的缴费 <i class="icon ion-ios-arrow-down positive operation-down"></i> </div> </ion-header-bar> <ion-header-bar class="bar-subheader onlinePaymentList-subheader"> <label class="item-input item-select payStatus-select"> <select ng-model="searchStr.searchStatus" ng-change="searchPay()" ng-options="node.code as node.name for node in searchStatusTypes"></select> <i class="icon ion-ios-arrow-down positive"></i> </label> </ion-header-bar> <ion-content class="has-header has-subheader has-footer content-fill"> <div class="no-content-center">暂时没有缴费信息</div> </ion-content> <ion-footer-bar align-title="left" class="bar-light onlinePaymentList-footer"> <h1 class="title">合计：&nbsp;<span class="positive">￥0.00元</span></h1> <button class="button button-positive pay-button">支付</button> </ion-footer-bar>'),a.put("modules/onlinePayment/paymentSelect.html",'<isj-spinner is-show="$root.inProcess" is-refresh="$root.refreshProcess"></isj-spinner> <ion-header-bar class="bar-light"> <a class="icon-return positive" ng-click="goBack()"> <i class="icon ion-ios-arrow-left"></i> <div>返回</div> </a> <div class="title"> 支付 </div> </ion-header-bar> <ion-content class="has-header paymentSelect-content"> <ul class="list"> <li class="item item-divider"> 请选择支付方式 </li> <li class="item item-avatar-left item-icon-right" ng-click="paymentSelect(\'1\')"> <img src="./assets/images/CMB_icon.jpg"> 一网通银行卡支付 <i id="select_no_1" class="icon ion-ios-circle-outline positive select-no"></i> <i id="select_yes_1" class="icon ion-ios-checkmark positive select-yes select-none"></i> </li> <li class="item item-avatar-left item-icon-right" ng-click="paymentSelect(\'2\')"> <img src="./assets/images/alipay_icon.png"> 支付宝移动支付 <i id="select_no_2" class="icon ion-ios-circle-outline positive select-no"></i> <i id="select_yes_2" class="icon ion-ios-checkmark positive select-yes select-none"></i> </li> <li class="item item-avatar-left item-icon-right" ng-click="paymentSelect(\'3\')"> <img src="./assets/images/weixin_icon.jpg"> 微信移动支付 <i id="select_no_3" class="icon ion-ios-circle-outline positive select-no"></i> <i id="select_yes_3" class="icon ion-ios-checkmark positive select-yes select-none"></i> </li> <li class="item"> 总额 <span class="money">￥{{amount}}元</span> </li> </ul> <div class="countDown"> 请在<span id="payment_countDown"><span ng-bind="time.minute"></span>分<span ng-bind="time.second"></span>秒</span>内完成支付 </div> <div class="confirm"> <button class="button button-positive" ng-click="pay()">支付</button> </div> </ion-content>'),a.put("modules/register/registerConfirmAppt.html",'<isj-spinner is-show="$root.inProcess" is-refresh="$root.refreshProcess"></isj-spinner> <ion-header-bar class="bar-light"> <a class="icon-return positive" ng-click="goBack()"> <i class="icon ion-ios-arrow-left"></i> <div>返回</div> </a> <div class="title"></div> </ion-header-bar> <ion-content class="has-header registerConfirmAppt-content"> <div class="patient"> <img ng-if="patient.memberCode == \'00\' && patient.sexCode == \'1\'" src="./assets/images/pic_man.png" class="photo"> <img ng-if="patient.memberCode == \'00\' && patient.sexCode == \'2\'" src="./assets/images/pic_woman.png" class="photo"> <img ng-if="patient.memberCode != \'00\'" ng-src="{{memberTypes[patient.memberCode].img}}" class="photo"> <span>就诊人：{{patient.name}}</span> <span> <a class="positive" ng-click="selectMember()"> 换人 <i class="icon ion-ios-loop-strong"></i> </a> </span> <p>身份证号：{{patient.idCard}}</p> </div> <div class="register-info"> <table> <tr> <td class="label">就诊时间：</td> <td width="100%">{{dateDisplay}}</td> </tr> <tr> <td class="label">就诊地点：</td> <td width="100%">{{doctor.dept}}（{{doctor.district}}）</td> </tr> <tr> <td class="label">看诊医生：</td> <td width="100%">{{doctor.name}}</td> </tr> <tr> <td class="label positive">温馨提示：</td> <td width="100%" class="positive"> <div ng-bind-html="prompt"></div> </td> </tr> </table> </div> <div class="agreement" ng-click="showAgreement()"> 我已了解并同意一下挂号规则（点击查看详细） <i class="icon ion-ios-arrow-down positive"></i> </div> <div class="amount"> 合计：{{doctor.amount}}元 </div> <div class="confirm"> <button class="button button-positive" ng-click="registerConfirm()">确定</button> </div> </ion-content>'),a.put("modules/register/registerConfirmToday.html",'<isj-spinner is-show="$root.inProcess" is-refresh="$root.refreshProcess"></isj-spinner> <ion-header-bar class="bar-light"> <a class="icon-return positive" ng-click="goBack()"> <i class="icon ion-ios-arrow-left"></i> <div>返回</div> </a> <div class="title"></div> </ion-header-bar> <ion-content class="has-header registerConfirmToday-content"> <div class="patient"> <img ng-if="patient.memberCode == \'00\' && patient.sexCode == \'1\'" src="./assets/images/pic_man.png" class="photo"> <img ng-if="patient.memberCode == \'00\' && patient.sexCode == \'2\'" src="./assets/images/pic_woman.png" class="photo"> <img ng-if="patient.memberCode != \'00\'" ng-src="{{memberTypes[patient.memberCode].img}}" class="photo"> <span>就诊人：{{patient.name}}</span> <span> <a class="positive" ng-click="selectMember()"> 换人 <i class="icon ion-ios-loop-strong"></i> </a> </span> </div> <div class="register-info"> <table> <tr> <td class="label">就诊时间：</td> <td width="100%">{{todayDisplay}}</td> </tr> <tr> <td class="label">就诊地点：</td> <td width="100%">{{doctor.dept}}（{{doctor.district}}）</td> </tr> <tr> <td class="label">看诊医生：</td> <td width="100%">{{doctor.name}}</td> </tr> <tr> <td class="label positive">温馨提示：</td> <td width="100%" class="positive"> <div ng-bind-html="prompt"></div> </td> </tr> </table> </div> <div class="agreement" ng-click="showAgreement()"> 我已了解并同意一下挂号规则（点击查看详细） <i class="icon ion-ios-arrow-down positive"></i> </div> <div class="amount"> 合计：{{doctor.amount}}元 </div> <div class="confirm"> <button class="button button-positive" ng-click="registerConfirm()">确定</button> </div> </ion-content>'),a.put("modules/register/registerDoctorDateSelect.html",'<isj-spinner is-show="$root.inProcess" is-refresh="$root.refreshProcess"></isj-spinner> <ion-header-bar class="bar-light registerDoctorDateSelect-title"> <a class="icon-return positive" ng-click="goBack()"> <i class="icon ion-ios-arrow-left"></i> <div>返回</div> </a> <div class="title"></div> <a class="button button-clear icon ion-ios-search-strong positive" ng-click="searchClk()"></a> </ion-header-bar> <div ng-class="{true: \'search-none\'}[hideSearch]" class="head-search"> <form ng-submit="doSearch()"> <input id="registerDoctorDateSelect_search" type="search" ng-model="major" placeholder="专业/专长"> </form> <div class="search-icon"> <a class="button button-clear icon ion-ios-search-strong positive" ng-click="searchClk()"></a> </div> </div> <div class="registerDoctorDateSelect-date has-header"> <div class="positive month">{{selectDays[0].month}}月</div> <table> <tr> <td ng-repeat="oneDay in selectDays" class="week" width="13%" ng-click="dayClk($index, \'{{oneDay.date}}\')">{{oneDay.week}}</td> <td rowspan="2" width="9%" ng-click="dayPicker()"> <i class="icon ion-ios-arrow-down positive"></i> </td> </tr> <tr> <td ng-repeat="oneDay in selectDays" class="day" ng-click="dayClk($index, \'{{oneDay.date}}\')"> <div class="day-select" ng-class="{true: \'positive day-selected\'}[oneDay.date==daySelected]">{{oneDay.day}}</div> </td> </tr> </table> </div> <ion-content class="has-header content-fill registerDoctorDateSelect-content"> <ul ng-if="doctors.length > 0" class="list"> <li ng-repeat="doctor in doctors" class="item item-avatar-left" ng-click="doctorClk(doctor.id, doctor.overCount)"> <img ng-if="(doctor.photo == null || doctor.photo == \'\') && doctor.sexCode == \'1\'" src="./assets/images/doctor_man.png" class="photo" ng-click="photoClk(doctor.id, $event)"> <img ng-if="(doctor.photo == null || doctor.photo == \'\') && doctor.sexCode == \'2\'" src="./assets/images/doctor_woman.png" class="photo" ng-click="photoClk(doctor.id, $event)"> <img ng-if="doctor.photo != null && doctor.photo != \'\'" ng-src="{{doctor.photo}}" class="photo" ng-click="photoClk(doctor.id, $event)"> <div class="name"> <h2>{{doctor.name}}</h2> <p>{{doctor.title}}</p> <div ng-if="doctor.overCount > 0" class="positive-bg can-register">有号</div> <div ng-if="doctor.overCount == 0" class="dark-bg can-register">无号</div> </div> <p>出诊地点：{{doctor.dept}}</p> <p>擅长：{{doctor.skill===\'\'?\'暂无\':doctor.skill}}</p> <div class="positive-border district-icon" ng-class="{\'1\': \'district-icon-positive\', \'2\': \'district-icon-balanced\', \'3\': \'district-icon-royal\'}[doctor.districtId]"></div> <div class="district-icon-font balanced">{{doctor.district}}</div> </li> </ul> <div ng-if="doctors.length == 0" class="no-content-center">暂无医生排班信息</div> </ion-content>'),a.put("modules/register/registerDoctorTimeSelect.html",'<isj-spinner is-show="$root.inProcess" is-refresh="$root.refreshProcess"></isj-spinner> <ion-header-bar class="bar-light"> <a class="icon-return positive" ng-click="goBack()"> <i class="icon ion-ios-arrow-left"></i> <div>返回</div> </a> <div class="title"></div> </ion-header-bar> <div class="registerDoctorTimeSelect-date has-header"> <div class="positive month">{{selectDays[0].month}}月</div> <table> <tr> <td ng-repeat="oneDay in selectDays" class="week" width="13%" ng-click="dayClk($index, \'{{oneDay.date}}\')"> {{oneDay.week}} </td> <td ng-if="allDays.length > 7" rowspan="3" width="9%" ng-click="dayPicker()"> <i class="icon ion-ios-arrow-down positive"></i> </td> <td ng-if="allDays.length <= 7" rowspan="3" width="9%"> &nbsp; </td> </tr> <tr> <td ng-repeat="oneDay in selectDays" class="day" ng-class="{\'\': \'border-none\'}[oneDay.date]" ng-click="dayClk($index, \'{{oneDay.date}}\')"> <div class="day-select" ng-class="{true: \'positive day-selected\'}[oneDay.date==daySelected]"> {{oneDay.day}} </div> </td> </tr> <tr> <td ng-repeat="oneDay in selectDays" class="week"> <div> <span ng-if="oneDay.data.overCount != null">{{oneDay.data.total-oneDay.data.overCount}}/</span>{{oneDay.data.total}} </div> </td> </tr> </table> <ul class="list"> <li class="item item-avatar-left"> <img ng-if="(photo == null || photo == \'\') && doctor.sexCode == \'1\'" src="./assets/images/doctor_man.png" class="photo" ng-click="photoClk(doctor.id)"> <img ng-if="(photo == null || photo == \'\') && doctor.sexCode == \'2\'" src="./assets/images/doctor_woman.png" class="photo" ng-click="photoClk(doctor.id)"> <img ng-if="photo != null && photo != \'\'" ng-src="{{photo}}" class="photo" ng-click="photoClk(doctor.id)"> <div class="name"> <h2>{{doctor.name}}</h2> <p>{{doctor.title}}</p> </div> <p>出诊地点：{{dataSelected.dept}}（{{dataSelected.district}}）</p> <p>挂号费：￥{{dataSelected.amount}}</p> </li> <li class="item item-divider"> 预约时间 </li> </ul> </div> <ion-content class="has-header content-fill registerDoctorTimeSelect-content"> <div class="time-select"> <div ng-repeat="time in times" ng-class="{true: \'time-disable\'}[time.overCount==0]" ng-click="timeClk(time.time, time.overCount)"> <i ng-if="time.time != \'\'" class="icon ion-ios-clock-outline"></i> <span>{{time.time}}</span> </div> </div> </ion-content>'),
a.put("modules/register/registerTodayDoctorList.html",'<isj-spinner is-show="$root.inProcess" is-refresh="$root.refreshProcess"></isj-spinner> <ion-header-bar class="bar-light registerTodayDoctorList-title"> <a class="icon-return positive" ng-click="goBack()"> <i class="icon ion-ios-arrow-left"></i> <div>返回</div> </a> <div class="title"></div> <a class="button button-clear icon ion-ios-search-strong positive" ng-click="searchClk()"></a> </ion-header-bar> <div ng-class="{true: \'search-none\'}[hideSearch]" class="head-search"> <form ng-submit="doSearch()"> <input id="registerTodayDoctorList_search" type="search" ng-model="major" placeholder="专业/专长"> </form> <div class="search-icon"> <a class="button button-clear icon ion-ios-search-strong positive" ng-click="searchClk()"></a> </div> </div> <ion-content class="has-header content-fill registerTodayDoctorList-content"> <ul ng-if="doctors.length > 0" class="list"> <li class="item item-avatar-left" collection-repeat="doctor in doctors" ng-click="doctorClk(doctor.id, doctor.overCount)"> <img ng-if="(doctor.photo == null || doctor.photo == \'\') && doctor.sexCode == \'1\'" src="./assets/images/doctor_man.png" class="photo" ng-click="photoClk(doctor.id, $event)"> <img ng-if="(doctor.photo == null || doctor.photo == \'\') && doctor.sexCode == \'2\'" src="./assets/images/doctor_woman.png" class="photo" ng-click="photoClk(doctor.id, $event)"> <img ng-if="doctor.photo != null && doctor.photo != \'\'" ng-src="{{doctor.photo}}" class="photo" ng-click="photoClk(doctor.id, $event)"> <div class="name"> <h2>{{doctor.name}}</h2> <p>{{doctor.title}}</p> <div ng-if="doctor.overCount > 0" class="positive-bg can-register">有号</div> <div ng-if="doctor.overCount == 0" class="dark-bg can-register">无号</div> </div> <p>出诊地点：{{doctor.dept}}</p> <p>擅长：{{doctor.skill===\'\'?\'暂无\':doctor.skill}}</p> <div class="positive-border district-icon" ng-class="{\'1\': \'district-icon-positive\', \'2\': \'district-icon-balanced\', \'3\': \'district-icon-royal\'}[doctor.districtId]"></div> <div class="district-icon-font balanced">{{doctor.district}}</div> </li> </ul> <div ng-if="doctors.length == 0" class="no-content-center">暂无医生排班信息</div> </ion-content>'),a.put("modules/setting/appAbout.html",'<ion-header-bar class="bar-light"> <a class="icon-return positive" href="javascript:history.go(-1)"> <i class="icon ion-ios-arrow-left"></i> <div>返回</div> </a> <div class="title">关于掌上盛京</div> </ion-header-bar> <ion-content class="has-header appAbout-content"> <div class="logo"> <img src="./assets/images/logo.png"> </div> <div class="version"> V2.2.4 </div> <ul class="list"> <li class="item item-icon-right" ng-click="itemRouter(\'settingFeedback\')"> 意见反馈 <i class="icon ion-ios-arrow-right icon-right"></i> </li> <li class="item item-icon-right" ng-click="itemRouter(\'settingVersionDescription\')"> 版本说明 <i class="icon ion-ios-arrow-right icon-right"></i> </li> </ul> <div class="service-phone"> 客服电话：<span class="positive">{{servicePhone}}</span> </div> </ion-content>'),a.put("modules/setting/changePassword.html",'<ion-header-bar class="bar-light"> <a class="icon-return positive" href="javascript:history.go(-1)"> <i class="icon ion-ios-arrow-left"></i> <div>返回</div> </a> <div class="title">修改密码</div> </ion-header-bar> <ion-content class="has-header content-gray changePassword-content"> <form> <div class="prompt"> 密码需要填写6-20个字符，可由英文字母、数字、下划线组成 </div> <div class="list"> <label class="item item-input"> <span class="input-label">当前密码</span> <input type="password" placeholder="6-20个字符"> </label> </div> <div class="list interval"> <label class="item item-input"> <span class="input-label">新密码</span> <input type="password" placeholder="6-20个字符"> </label> <label class="item item-input"> <span class="input-label">确认新密码</span> <input type="password" placeholder="6-20个字符"> </label> </div> <div class="operation"> <button class="button button-positive">确认修改</button> </div> </form> </ion-content>'),a.put("modules/setting/feedback.html",'<ion-header-bar class="bar-light"> <a class="icon-return positive" href="javascript:history.go(-1)"> <i class="icon ion-ios-arrow-left"></i> <div>返回</div> </a> <div class="title">用户反馈</div> </ion-header-bar> <ion-content class="has-header content-gray feedback-content"> <div class="inputs"> <div> <textarea placeholder="对掌上盛京有什么意见，请告诉我们"></textarea> </div> </div> <div class="operation"> <button class="button button-positive">提交</button> </div> </ion-content>'),a.put("modules/setting/settingIndex.html",'<ion-header-bar class="bar-light"> <a class="icon-return positive" href="javascript:history.go(-1)"> <i class="icon ion-ios-arrow-left"></i> <div>返回</div> </a> <div class="title">设置</div> </ion-header-bar> <ion-content class="has-header content-gray settingIndex-content"> <ul class="list list-inset"> <li class="item item-icon-left item-icon-right" ng-click="itemRouter(\'settingChangePassword\')"> <i class="icon ion-ios-unlocked-outline icon-left"></i> 修改登录密码 <i class="icon ion-ios-arrow-right icon-right"></i> </li> <li class="item item-icon-left item-icon-right" ng-click="itemRouter(\'settingAppAbout\')"> <i class="icon ion-ios-information-outline icon-left"></i> 关于 <i class="icon ion-ios-arrow-right icon-right"></i> </li> </ul> <div class="operation"> <button class="button button-assertive" ng-click="quit()">退出登录</button> </div> </ion-content>'),a.put("modules/setting/versionDescription.html",'<ion-header-bar class="bar-light"> <a class="icon-return positive" href="javascript:history.go(-1)"> <i class="icon ion-ios-arrow-left"></i> <div>返回</div> </a> <div class="title">更新内容</div> </ion-header-bar> <ion-content class="has-header content-introduce content-gray"> 1、新增当日挂号<br> 2、新增在线缴费<br> 3、全新的界面 </ion-content>'),a.put("modules/subject/subjectSelect.html",'<isj-spinner is-show="$root.inProcess" is-refresh="$root.refreshProcess"></isj-spinner> <ion-header-bar class="bar-light subjectSelect-title"> <a class="icon-return positive" ng-click="goBack()"> <i class="icon ion-ios-arrow-left"></i> <div>返回</div> </a> <div class="title">科室列表</div> <a class="button button-clear icon ion-ios-search-strong positive" ng-click="searchClk()"></a> </ion-header-bar> <div ng-class="{true: \'search-none\'}[hideSearch]" class="head-search"> <form ng-submit="doSearch()"> <input id="subjectSelect_search_{{type}}" type="search" ng-model="major" placeholder="专业/专长"> </form> <div class="search-icon"> <a class="button button-clear icon ion-ios-search-strong positive" ng-click="searchClk()"></a> </div> </div> <div class="district-select has-header"> <div class="button-bar"> <button ng-repeat="district in districts" ng-class="{false: \'button-outline\'}[districtId == district.id]" class="button button-positive district-button" ng-click="districtClk(district.id)"> {{district.name}} </button> </div> </div> <ion-content class="has-header has-header-district content-fill subjectSelect-content"> <div class="subject-select"> <ion-scroll class="subject-scroll subject-scroll-left"> <div ng-repeat="subject in subjects" ng-class="{true: \'left-activated\'}[subjectId == subject.id]" class="subject-div subject-div-left" ng-click="subjectLeftClk(subject.id)"> <i class="icon ion-ios-play positive left-activated-icon"></i> {{subject.name}} </div> </ion-scroll> <ion-scroll class="subject-scroll subject-scroll-right"> <div ng-repeat="subjectRight in subjectRights" class="subject-div subject-div-right" ng-click="subjectRightClk(subjectRight.id)"> {{subjectRight.name}} </div> </ion-scroll> </div> </ion-content>'),a.put("modules/tab/main/main.html",'<ion-header-bar class="bar-light main-header"> <div class="title positive">掌上盛京医院</div> </ion-header-bar> <ion-content scroll="false" has-bouncing="false" class="has-header content-fill main-content"> <div class="row" style="height: 43%"> <div class="col grid-carousel"> <div class="carousel-footer"> <div>{{carouselImages[carouselIndex].name}}</div> <div rn-carousel-indicators ng-if="carouselImages.length > 1" slides="carouselImages" rn-carousel-index="carouselIndex"></div> </div> <ul rn-carousel rn-carousel-index="carouselIndex"> <li ng-repeat="carouselImage in carouselImages"> <div class="carousel-img" style="background-image: url({{carouselImage.url}})"></div> </li> </ul> </div> </div> <div class="row" style="height: 19%"> <div class="col grid-col grid-flex-column"> <a class="grid-flex-row" href="#/subject/subjectSelect/2"> <span class="grid-icon assertive-border"> <i class="icon ion-ios-paper-outline assertive"></i> </span> <span class="grid-space"></span> <span class="grid-font">预约挂号</span> </a> </div> <div class="col grid-col grid-flex-column"> <a class="grid-flex-row" href="#/subject/subjectSelect/1"> <span class="grid-icon assertive-border"> <i class="icon ion-ios-paper-outline assertive"></i> </span> <span class="grid-space"></span> <span class="grid-font">当日挂号</span> </a> </div> </div> <div class="row" style="height: 19%"> <div class="col grid-col grid-flex-column"> <a class="grid-flex-column" href="#/medicalReportList"> <span class="grid-icon positive-border"> <i class="icon ion-ios-copy-outline positive"></i> </span> <span class="grid-space"></span> <span class="grid-font">查看报告</span> </a> </div> <div class="col grid-col grid-flex-column"> <a class="grid-flex-column" href="#/onlinePayment/onlinePaymentList"> <span class="grid-icon positive-border"> <i class="icon ion-ios-cart-outline positive"></i> </span> <span class="grid-space"></span> <span class="grid-font">缴费</span> </a> </div> <div class="col grid-col grid-flex-column"> <a class="grid-flex-column" href="#/doctorIntroductionList"> <span class="grid-icon positive-border"> <i class="icon ion-ios-personadd-outline positive"></i> </span> <span class="grid-space"></span> <span class="grid-font">医生介绍</span> </a> </div> </div> <div class="row" style="height: 19%"> <div class="col grid-col grid-flex-column"> <a class="grid-flex-column" href="#/hospitalNavigation"> <span class="grid-icon balanced-border"> <i class="icon ion-ios-location-outline balanced"></i> </span> <span class="grid-space"></span> <span class="grid-font">医院导航</span> </a> </div> <div class="col grid-col grid-flex-column"> <a class="grid-flex-column" href="#/hospitalIntroduce"> <span class="grid-icon balanced-border"> <i class="icon ion-ios-home-outline balanced"></i> </span> <span class="grid-space"></span> <span class="grid-font">医院简介</span> </a> </div> <div class="col grid-col grid-flex-column"> <a class="grid-flex-column" href="#/medicalGuide"> <span class="grid-icon balanced-border"> <i class="icon ion-ios-help-empty balanced"></i> </span> <span class="grid-space"></span> <span class="grid-font">就医指南</span> </a> </div> </div> </ion-content>'),a.put("modules/tab/message/message.html",'<isj-spinner is-show="$root.inProcess" is-refresh="$root.refreshProcess"></isj-spinner> <ion-header-bar class="bar-light"> <div class="title">消息</div> </ion-header-bar> <ion-content class="has-header content-gray message-content"> <ul class="list"> <li ng-repeat="message in messages" class="item"> <div class="time">{{message.date}}</div> <div class="message">{{message.content}}</div> </li> </ul> </ion-content>'),a.put("modules/tab/personal/personal.html",'<ion-content scroll="false" has-bouncing="false" class="content-gray"> <div class="personal-title positive-bg"> <div> <img ng-if="patient.sexCode == \'1\'" src="./assets/images/pic_man.png" class="photo"> <img ng-if="patient.sexCode == \'2\'" src="./assets/images/pic_woman.png" class="photo"> </div> <div class="name">{{patient.name}}</div> <div class="phone">{{patient.phone}}</div> </div> <div> <ul class="list personal-list"> <li class="item item-icon-left item-icon-right" ng-click="itemRouter(\'familyMemberList\')"> <i class="icon ion-ios-people-outline positive icon-left"></i> 家庭成员 <i class="badge">2</i> <i class="icon ion-ios-arrow-right icon-right"></i> </li> <li class="item item-icon-left item-icon-right" ng-click="itemRouter(\'collectionDoctorList\')"> <i class="icon ion-ios-personadd-outline positive icon-left"></i> 收藏的医生 <i class="badge">{{doctorCount}}</i> <i class="icon ion-ios-arrow-right icon-right"></i> </li> <li class="item item-icon-left item-icon-right" ng-click="itemRouter(\'medicalCardList\')"> <i class="icon ion-ios-list-outline positive icon-left"></i> 绑定就诊卡 <i class="icon ion-ios-arrow-right icon-right"></i> </li> <li class="item item-icon-left item-icon-right" ng-click="itemRouter(\'settingIndex\')"> <i class="icon ion-ios-gear-outline positive list-icon-left"></i> 设置 <i class="icon ion-ios-arrow-right icon-right"></i> </li> </ul> </div> </ion-content>'),a.put("modules/tab/registration/registration.html",'<ion-header-bar class="bar-light"> <div class="title" ng-click="selectMember()"> <img ng-if="patient.sexCode == \'1\'" src="./assets/images/pic_man.png" class="photo"> <img ng-if="patient.sexCode == \'2\'" src="./assets/images/pic_woman.png" class="photo"> {{patient.member}}-{{patient.name}} <i class="icon ion-ios-arrow-down positive operation-down"></i> </div> </ion-header-bar> <ion-content class="has-header content-gray content-fill registration-content"> <div ng-if="registrations.length > 0" ng-repeat="registration in registrations" class="time-line" ng-click="registrationClk(registration.id)"> <div class="time-line-left"> {{registration.apptDate.substring(5,11)}} <div class="time-line-mark positive-bg"></div> </div> <div class="time-line-right"> <div class="time-line-panel"> <div class="title"> 门诊号：<span class="positive">{{registration.clinicNum}}</span> </div> <div class="content content-hospital"> <span class="content-icon"><i class="icon ion-ios-home-outline"></i></span> <span class="content-name">{{registration.hospital}}</span> </div> <div class="content"> <span class="content-icon"><i class="icon ion-ios-location-outline"></i></span> <span class="content-name">{{registration.dept}}（{{registration.district}}）</span> </div> <div class="content"> <span class="content-icon"><i class="icon ion-ios-person-outline"></i></span> <span class="content-name">{{registration.doctor}}</span> </div> <div class="bottom"> 诊费:￥{{registration.amount}} </div> </div> <div class="time-line-bottom"> <span>{{registration.registerDate.substring(5,11)}}</span> <span class="pay-status">{{registration.status}}</span> </div> </div> </div> <div ng-if="registrations.length == 0" class="no-content-center">暂无挂号信息</div> </ion-content>'),a.put("modules/tab/registration/registrationIllustration.html",'<ion-header-bar class="bar-light"> <a class="icon-return positive" href="javascript:history.go(-1)"> <i class="icon ion-ios-arrow-left"></i> <div>返回</div> </a> <div class="title">就诊、退号说明</div> </ion-header-bar> <ion-content class="has-header content-gray registrationIllustration-content"> <div class="illustration"> <div class="head"><div class="title">就诊说明</div></div> <div class="content"> <table> <tr> <td class="label"><img src="./assets/images/registration_card.png"></td> <td> 首次看诊在盛京医院使用身份证作为就医卡的患者，可直接去自助机取号，否则需要到窗口取号 </td> </tr> <tr> <td class="label"><img src="./assets/images/registration_hospital.png"></td> <td> 挂当日号患者，直接在候诊区等待叫号 </td> </tr> <tr> <td colspan="2" class="medical-guide"> <a class="positive" ng-click="medicalGuideClk()">就医指南</a> </td> </tr> </table> </div> </div> <div class="illustration illustration-marge"> <div class="head"><div class="title">退号说明</div></div> <div class="content"> 1.最迟在预约的前一天办理退号，就诊当天及过号未来看诊的用户手机上无法退号，需要到窗口办理退号。<br> 2.退号成功后，回家挂号费退回您使用的支付平台账户内。<br> 3.如就诊单显示已退费，但未收到，可在支付使用的平台查询交易号，并致电该支付平台客服进行咨询。 </div> </div> </ion-content>'),a.put("modules/tab/registration/registrationView.html",'<ion-header-bar class="bar-light registrationView-head"> <a class="icon-return positive" href="javascript:history.go(-1)"> <i class="icon ion-ios-arrow-left"></i> <div>返回</div> </a> <div class="title">就诊单</div> <a class="button button-clear icon ion-ios-telephone-outline positive"></a> </ion-header-bar> <ion-content class="has-header content-gray registrationView-content"> <ul class="list registration-card"> <li class="item item-card-head"> <h2 class="odd-number">单号：<span class="positive">{{registration.num}}</span></h2> <span class="positive status">{{registration.status}}</span> </li> <li class="item item-card-content"> <table> <tr> <td class="label"> <img src="./assets/images/pic_man.png"> </td> <td> <span class="name">{{registration.patientName}}</span><br> <span class="number">门诊号：<span class="positive">{{registration.clinicNum}}</span></span> </td> </tr> <tr> <td class="label"><i class="icon ion-ios-location-outline"></i></td> <td>{{registration.dept}}（{{registration.district}}）</td> </tr> <tr> <td class="label"><i class="icon ion-ios-person-outline"></i></td> <td>{{registration.doctor}}</td> </tr> </table> </li> </ul> <ul class="list registration-other"> <li class="item item-other-head"> <h2>挂号</h2> </li> <li class="item item-other-content"> <table> <tr> <td class="label">就诊时间</td> <td>请到分诊台咨询</td> </tr> <tr> <td class="label">排队序号</td> <td>看诊前查看就诊序号</td> </tr> <tr> <td class="label">就诊科室</td> <td>看诊前查看就诊科室</td> </tr> <tr> <td class="label">挂号费</td> <td>{{registration.amount}}</td> </tr> </table> </li> <li class="item item-icon-right" ng-click="illustrationClk()"> <h2 class="positive">就诊、退号说明</h2> <i class="icon ion-ios-arrow-right icon-right"></i> </li> </ul> <div class="operation"> <button ng-if="registration.statusCode == \'0\'" class="button button-positive">支付</button> <button ng-if="registration.statusCode != \'9\'" class="button button-outline button-positive">退号</button> </div> </ion-content>'),a.put("modules/tab/tabs.html",'<ion-tabs class="tabs-icon-top tabs-light tabs-color-active-positive"> <ion-tab title="首页" icon-on="ion-ios-medkit-outline" icon-off="ion-ios-medkit-outline" href="#/tab/main"> <ion-nav-view name="tab-main"></ion-nav-view> </ion-tab> <ion-tab title="消息" icon-on="ion-ios-bell-outline" icon-off="ion-ios-bell-outline" href="#/tab/message"> <ion-nav-view name="tab-message"></ion-nav-view> </ion-tab> <ion-tab title="挂号单" icon-on="ion-ios-paper-outline" icon-off="ion-ios-paper-outline" href="#/tab/registration/"> <ion-nav-view name="tab-registration"></ion-nav-view> </ion-tab> <ion-tab title="个人" icon-on="ion-ios-person-outline" icon-off="ion-ios-person-outline" href="#/tab/personal"> <ion-nav-view name="tab-personal"></ion-nav-view> </ion-tab> </ion-tabs>')}]);
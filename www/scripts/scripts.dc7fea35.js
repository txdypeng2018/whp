"use strict";!function(){var a=["ionic","angular-carousel"];angular.module("isj",a),"function"!=typeof String.prototype.startsWith&&(String.prototype.startsWith=function(a){return this.slice(0,a.length)===a}),"function"!=typeof String.prototype.endsWith&&(String.prototype.endsWith=function(a){return-1!==this.indexOf(a,this.length-a.length)})}(),function(a){a.config(["$urlRouterProvider",function(a){a.otherwise("/tab/main")}]);var b=function(a){var b=!0;return a.endsWith(".html")&&(b=!1),a.endsWith(".svg")&&!a.startsWith("/")&&(b=!1),b},c="./api";a.factory("authInterceptor",["$q","$window","$rootScope",function(a,d,e){return{request:function(a){return e.inProcess=!0,a.headers=a.headers||{},d.localStorage.token&&(a.headers.Authorization="Bearer "+d.localStorage.token),b(a.url)&&(a.url=c+a.url),a},requestError:function(b){return e.inProcess=!1,console.debug("requestError %o",b),a.reject(b)},response:function(b){return e.inProcess=!1,401===b.status&&console.debug("handle the case where the user is not authenticated"),b||a.when(b)},responseError:function(b){return e.inProcess=!1,console.debug("responseError %o",b),a.reject(b)}}}]),a.config(["$httpProvider",function(a){a.interceptors.push("authInterceptor")}])}(angular.module("isj")),function(a){var b=function(a,b){b.get("/main/hospitalIntroduce").success(function(b){a.hospitalIntroduce=b})};b.$inject=["$scope","$http"];var c=function(a){a.state("mainHospitalIntroduce",{url:"/main/hospitalIntroduce",templateUrl:"modules/main/hospitalIntroduce/hospitalIntroduce.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("isj")),function(a){var b=function(a){a.carouselImages=[{name:"预约挂号",url:"./assets/images/ad1.jpg"},{name:"在线缴费",url:"./assets/images/ad2.png"},{name:"查看报告",url:"./assets/images/ad3.png"}]};b.$inject=["$scope"];var c=function(a){a.state("tab.main",{url:"/main",views:{"tab-main":{templateUrl:"modules/main/main.html",controller:b}}})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("isj")),function(a){var b=function(a,b){b.get("/main/medicalGuide").success(function(b){a.medicalGuide=b})};b.$inject=["$scope","$http"];var c=function(a){a.state("mainMedicalGuide",{url:"/main/medicalGuide",templateUrl:"modules/main/medicalGuide/medicalGuide.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("isj")),function(a){var b=function(a,b,c,d){var e=function(c){b.get("/main/medicalReport",{params:c}).success(function(b){a.reports=b})["finally"](function(){a.$broadcast("scroll.refreshComplete")})};a.searchStr={searchTime:"",searchStatus:""},a.searchTimeTypes=[{code:"",name:"时间不限"},{code:"week",name:"一周内"},{code:"month",name:"一月内"},{code:"halfYear",name:"半年内"},{code:"year",name:"一年内"}],a.searchStatusTypes=[{code:"",name:"状态不限"},{code:"1",name:"已出"},{code:"0",name:"未出"}],a.searchChange=function(){e(a.searchStr)},a.reportRefresh=function(){e(a.searchStr)},e(a.searchStr),a.viewReport=function(a,b){"1"===b&&d.go("mainMedicalReportFormOne",{id:a})},a.$watch("$viewContentLoaded",function(){document.getElementById("medicalReport_reports").style.height=document.getElementById("medicalReport_Content").offsetHeight-98+"px"}),angular.element(c).bind("resize",function(){document.getElementById("medicalReport_reports").style.height=document.getElementById("medicalReport_Content").offsetHeight-98+"px"})};b.$inject=["$scope","$http","$window","$state"];var c=function(a){a.state("mainMedicalReport",{url:"/main/medicalReport",cache:"false",templateUrl:"modules/main/medicalReport/medicalReport.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("isj")),function(a){var b=function(a,b,c){b.get("/main/medicalReport/data",{params:{id:c.id}}).success(function(b){a.report=b})};b.$inject=["$scope","$http","$stateParams"];var c=function(a){a.state("mainMedicalReportFormOne",{url:"/main/medicalReport/reportFormOne/:id",cache:"false",templateUrl:"modules/main/medicalReport/reportForm/reportFormOne.html",controller:b})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("isj")),function(a){var b=function(){},c=function(a){a.state("tab.message",{url:"/message",views:{"tab-message":{templateUrl:"modules/message/message.html",controller:b}}})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("isj")),function(a){var b=function(){},c=function(a){a.state("tab.personal",{url:"/personal",views:{"tab-personal":{templateUrl:"modules/personal/personal.html",controller:b}}})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("isj")),function(a){var b=function(){},c=function(a){a.state("tab.register",{url:"/register",views:{"tab-register":{templateUrl:"modules/register/register.html",controller:b}}})};c.$inject=["$stateProvider"],a.config(c)}(angular.module("isj")),function(a){a.config(["$ionicConfigProvider",function(a){a.platform.ios.tabs.style("standard"),a.platform.ios.tabs.position("bottom"),a.platform.android.tabs.style("standard"),a.platform.android.tabs.position("bottom"),a.platform.ios.navBar.alignTitle("center"),a.platform.android.navBar.alignTitle("center"),a.platform.ios.backButton.previousTitleText("").icon("ion-ios-arrow-thin-left"),a.platform.android.backButton.previousTitleText("").icon("ion-android-arrow-back"),a.platform.ios.views.transition("ios"),a.platform.android.views.transition("android")}]);var b=function(a){a.state("tab",{url:"/tab","abstract":!0,templateUrl:"modules/tab/tabs.html"})};b.$inject=["$stateProvider"],a.config(b)}(angular.module("isj")),angular.module("isj").run(["$templateCache",function(a){a.put("modules/main/hospitalIntroduce/hospitalIntroduce.html",'<ion-header-bar class="bar-light"> <a class="a-return positive" href="javascript:history.go(-1)"> <i class="icon ion-ios-arrow-left"></i> <div>返回</div> </a> <div class="title">医院简介</div> </ion-header-bar> <ion-content class="has-header content-introduce"> <div ng-bind-html="hospitalIntroduce"></div> </ion-content>'),a.put("modules/main/main.html",'<ion-header-bar class="bar-light main-title"> <div class="title positive">掌上盛京医院</div> </ion-header-bar> <ion-content scroll="false" has-bouncing="false" class="has-header main-content"> <div class="row" style="height: 43%"> <div class="col main-grid-carousel"> <div class="main-carousel-footer"> <div>{{carouselImages[carouselIndex].name}}</div> <div rn-carousel-indicators style="margin-top: -4px" ng-if="carouselImages.length > 1" slides="carouselImages" rn-carousel-index="carouselIndex"></div> </div> <ul id="main-carousel" rn-carousel rn-carousel-index="carouselIndex"> <li ng-repeat="carouselImage in carouselImages"> <div class="main-grid-img" style="background-image: url({{carouselImage.url}})"></div> </li> </ul> </div> </div> <div class="row" style="height: 19%"> <div class="col main-grid-col main-grid-column"> <a class="main-grid-row" href="#/main/orderRegistration"> <span class="main-grid-icon main-grid-icon assertive-border"> <i class="icon ion-ios-paper-outline assertive"></i> </span> <span class="main-grid-space"></span> <span class="main-grid-font">预约挂号</span> </a> </div> <div class="col main-grid-col main-grid-column"> <a class="main-grid-row" href="#/main/dayRegistration"> <span class="main-grid-icon main-grid-icon assertive-border"> <i class="icon ion-ios-paper-outline assertive"></i> </span> <span class="main-grid-space"></span> <span class="main-grid-font">当日挂号</span> </a> </div> </div> <div class="row" style="height: 19%"> <div class="col main-grid-col main-grid-column"> <a class="main-grid-column" href="#/main/medicalReport"> <span class="main-grid-icon main-grid-icon positive-border"> <i class="icon ion-ios-copy-outline positive"></i> </span> <span class="main-grid-space"></span> <span class="main-grid-font">查看报告</span> </a> </div> <div class="col main-grid-col main-grid-column"> <a class="main-grid-column" href="#/main/pay"> <span class="main-grid-icon main-grid-icon positive-border"> <i class="icon ion-ios-cart-outline positive"></i> </span> <span class="main-grid-space"></span> <span class="main-grid-font">缴费</span> </a> </div> <div class="col main-grid-col main-grid-column"> <a class="main-grid-column" href="#/main/doctorIntroduction"> <span class="main-grid-icon main-grid-icon positive-border"> <i class="icon ion-ios-personadd-outline positive"></i> </span> <span class="main-grid-space"></span> <span class="main-grid-font">医生介绍</span> </a> </div> </div> <div class="row" style="height: 19%"> <div class="col main-grid-col main-grid-column"> <a class="main-grid-column" href="#/main/hospitalNavigation"> <span class="main-grid-icon main-grid-icon balanced-border"> <i class="icon ion-ios-location-outline balanced"></i> </span> <span class="main-grid-space"></span> <span class="main-grid-font">医院导航</span> </a> </div> <div class="col main-grid-col main-grid-column"> <a class="main-grid-column" href="#/main/hospitalIntroduce"> <span class="main-grid-icon main-grid-icon balanced-border"> <i class="icon ion-ios-home-outline balanced"></i> </span> <span class="main-grid-space"></span> <span class="main-grid-font">医院简介</span> </a> </div> <div class="col main-grid-col main-grid-column"> <a class="main-grid-column" href="#/main/medicalGuide"> <span class="main-grid-icon main-grid-icon balanced-border"> <i class="icon ion-ios-help-empty balanced"></i> </span> <span class="main-grid-space"></span> <span class="main-grid-font">就医指南</span> </a> </div> </div> </ion-content>'),a.put("modules/main/medicalGuide/medicalGuide.html",'<ion-header-bar class="bar-light"> <a class="a-return positive" href="javascript:history.go(-1)"> <i class="icon ion-ios-arrow-left"></i> <div>返回</div> </a> <div class="title">就医指南</div> </ion-header-bar> <ion-content class="has-header content-introduce"> <div ng-bind-html="medicalGuide"></div> </ion-content>'),a.put("modules/main/medicalReport/medicalReport.html",'<ion-header-bar class="bar-light"> <a class="a-return positive" href="javascript:history.go(-1)"> <i class="icon ion-ios-arrow-left"></i> <div>返回</div> </a> <div class="title"> 我的报告单 <span class="title-operation-down positive"> <i class="icon ion-ios-arrow-down"></i> </span> </div> </ion-header-bar> <ion-content id="medicalReport_Content" scroll="false" class="has-header"> <div class="medicalReport-prompt"> <div class="prompt-icon"> <i class="icon ion-ios-information-outline"></i> </div> <div> 温馨提示：无法查看到结果的患者请确认病历号是否绑定正确，部分结果无法在手机上查看。 </div> </div> <div class="medicalReport-search"> <div> <label class="item-input item-select medicalReport-select"> <select ng-model="searchStr.searchTime" ng-change="searchChange()" ng-options="node.code as node.name for node in searchTimeTypes"></select> <i class="icon ion-ios-arrow-down positive"></i> </label> </div> <div> <label class="item-input item-select medicalReport-select"> <select ng-model="searchStr.searchStatus" ng-change="searchChange()" ng-options="node.code as node.name for node in searchStatusTypes"></select> <i class="icon ion-ios-arrow-down positive"></i> </label> </div> </div> <ion-scroll id="medicalReport_reports" class="medicalReport-reports"> <ion-refresher pulling-icon="" on-refresh="reportRefresh()"></ion-refresher> <ul ng-if="reports.length > 0" class="list"> <li class="item item-icon-right" ng-repeat="report in reports" ng-click="viewReport(report.id, report.status)"> <h2>{{report.name}}</h2> <p>检查时间：{{report.date}}</p> <i ng-if="report.status == \'0\'" class="badge assertive">未出</i> <i ng-if="report.status == \'1\'" class="badge positive">已出</i> <i class="icon ion-ios-arrow-right list-right-icon"></i> </li> </ul> <div ng-if="reports.length == 0" class="no-report">暂时没有报告</div> </ion-scroll> </ion-content>'),a.put("modules/main/medicalReport/reportForm/reportFormOne.html",'<ion-header-bar class="bar-light"> <a class="a-return positive" href="javascript:history.go(-1)"> <i class="icon ion-ios-arrow-left"></i> <div>返回</div> </a> <div class="title"> 检验报告单 </div> </ion-header-bar> <ion-content class="has-header medicalReport-form-content"> <div class="report-content"> <table class="report-table"> <tr> <td class="form-label">检验项目</td> <td>{{report.name}}</td> </tr> <tr> <td class="form-label">就诊人</td> <td>{{report.patient}}</td> </tr> <tr> <td class="form-label">检验时间</td> <td>{{report.date}}</td> </tr> <tr> <td colspan="2"> <table class="report-item-table"> <tr> <th><div>项目</div></th> <th><div>结果</div></th> <th><div>参考值</div></th> </tr> <tr ng-repeat="item in report.items"> <td>{{item.name}}</td> <td align="center">{{item.result}}</td> <td align="center" align="center">{{item.reference}}</td> </tr> </table> </td> </tr> <tr> <td class="form-label">检验医生</td> <td>{{report.inspectionDoctor}}</td> </tr> <tr> <td class="form-label">审核医生</td> <td>{{report.examineDoctor}}</td> </tr> </table> </div> <div class="report-prompt"> 指标仅供参考，请以医院纸质报告为准 </div> </ion-content>'),a.put("modules/message/message.html",'<ion-header-bar class="bar-light"> <div class="title">消息</div> </ion-header-bar> <ion-content class="has-header"> </ion-content>'),a.put("modules/personal/personal.html",'<ion-content overflow-scroll="true" has-bouncing="false" class="personal-content"> <div class="personal-title positive-bg"> <div><img class="personal-title-img" src="/assets/images/pic_man.png"></div> <div class="personal-title-font1">王二</div> <div class="personal-title-font2">136****1234</div> </div> <div> <ul class="list personal-list"> <li class="item item-icon-left item-icon-right"> <i class="icon ion-ios-people-outline positive personal-list-left-icon"></i> 家庭成员 <i class="badge">1</i> <i class="icon ion-ios-arrow-right list-right-icon"></i> </li> <li class="item item-icon-left item-icon-right"> <i class="icon ion-ios-personadd-outline positive personal-list-left-icon"></i> 收藏的医生 <i class="badge">0</i> <i class="icon ion-ios-arrow-right list-right-icon"></i> </li> <li class="item item-icon-left item-icon-right"> <i class="icon ion-ios-list-outline positive personal-list-left-icon"></i> 绑定就诊卡 <i class="icon ion-ios-arrow-right list-right-icon"></i> </li> <li class="item item-icon-left item-icon-right"> <i class="icon ion-ios-gear-outline positive personal-list-left-icon"></i> 设置 <i class="icon ion-ios-arrow-right list-right-icon"></i> </li> </ul> </div> </ion-content>'),a.put("modules/register/register.html",'<ion-header-bar class="bar-light"> <div class="title"> <img class="title-photo" src="./assets/images/pic_man.png"> 我-王二 <span class="title-operation-down positive"> <i class="icon ion-ios-arrow-down"></i> </span> </div> </ion-header-bar> <ion-content class="has-header register-content"> <div class="register-content-no"> <span>暂无挂号信息</span> </div> </ion-content>'),a.put("modules/tab/tabs.html",'<ion-tabs class="tabs-icon-top tabs-light tabs-color-active-positive"> <ion-tab title="首页" icon-on="ion-ios-medkit-outline" icon-off="ion-ios-medkit-outline" href="#/tab/main"> <ion-nav-view name="tab-main"></ion-nav-view> </ion-tab> <ion-tab title="消息" icon-on="ion-ios-bell-outline" icon-off="ion-ios-bell-outline" href="#/tab/message"> <ion-nav-view name="tab-message"></ion-nav-view> </ion-tab> <ion-tab title="挂号单" icon-on="ion-ios-paper-outline" icon-off="ion-ios-paper-outline" href="#/tab/register"> <ion-nav-view name="tab-register"></ion-nav-view> </ion-tab> <ion-tab title="个人" icon-on="ion-ios-person-outline" icon-off="ion-ios-person-outline" href="#/tab/personal"> <ion-nav-view name="tab-personal"></ion-nav-view> </ion-tab> </ion-tabs>')}]);